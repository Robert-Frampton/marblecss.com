{"version":3,"sources":["coreNamed.js","core.js","array.js","async.js","Disposable.js","object.js","string.js","metal.js","domData.js","EventHandle.js","EventEmitter.js","EventEmitterProxy.js","EventHandler.js","events.js","DomDelegatedEventHandle.js","DomEventHandle.js","domNamed.js","dom.js","DomEventEmitterProxy.js","features.js","globalEval.js","globalEvalStyles.js","validators.js","Config.js","State.js","state.js","Clipboard.js","sync.js","ComponentDataManager.js","ComponentRenderer.js","Component.js","ComponentRegistry.js","component.js","incremental-dom.js","data.js","changes.js","callArgs.js","intercept.js","children.js","attributes.js","unused.js","render.js","patch.js","IncrementalDomRenderer.js","bundle.js","HTMLParser.js","unescape.js","HTML2IncDom.js","withParser.js","SoyAop.js","Soy.js","Geometry.js","Position.js","Align.js","position.js","TooltipBase.js","Tooltip.soy.js","Tooltip.js","ElectricCode.soy.js","ElectricCode.js","ElectricNavigation.soy.js","ElectricNavigation.js","Affix.js","ReadingProgress.soy.js","Scrollspy.js","ReadingProgressTracker.js","ReadingProgress.js","ElectricReadingProgress.soy.js","ElectricReadingProgress.js","parseFromAnchor.js","parse.js","MultiMap.js","TreeNode.js","structs.js","Uri.js","Promise.js","Ajax.js","ElectricSearchBase.js","ElectricSearch.soy.js","ElectricSearch.js","debounce.js","AutocompleteBase.js","ListItem.soy.js","ListItem.js","List.soy.js","List.js","Autocomplete.soy.js","Autocomplete.js","autocomplete.js","ElectricSearchAutocomplete.soy.js","ElectricSearchAutocomplete.js","ElectricUpdates.soy.js","ElectricUpdates.js","components.js","/Users/admin/marblecss.com/temp/imports.js","Dropdown.soy.js","Dropdown.js","MarbleDropdown.soy.js","MarbleDropdown.js","InputMatrix.soy.js","Input.soy.js","Input.js","InputMatrix.js","MarbleInputMatrix.soy.js","MarbleInputMatrix.js","ProgressBar.soy.js","ProgressBar.js","MarbleProgressBar.soy.js","MarbleProgressBar.js","Select.soy.js","Select.js","MarbleSelect.soy.js","MarbleSelect.js","DragAutoScroll.js","DragScrollDelta.js","DragShim.js","Drag.js","DragDrop.js","drag.js","Slider.soy.js","Slider.js","MarbleSlider.soy.js","MarbleSlider.js","Toast.soy.js","Anim.js","Alert.soy.js","Alert.js","Toast.js","MarbleToast.soy.js","MarbleToast.js","MarbleTooltip.soy.js","MarbleTooltip.js","Toggler.js","SideBar.soy.js","SideBar.js","blog.soy.js","blog.js","guide.soy.js","guide.js","main.soy.js","main.js","styleguide.soy.js","styleguide.js","styleguideFull.soy.js","styleguideFull.js","tutorial.soy.js","tutorial.js","index.soy.js","pageIndex.js","markdown-post.soy.js","blogMarkdownPostHtml.js","first-post.soy.js","pageBlogFirstPost.js","pageBlogIndex.js","pageDocsIndex.js","pageTutorials.js","updatesIndex.js","docsMetalComponents.js","dropdown.soy.js","input-matrix.soy.js","pageMetalComponentsDropdown.js","pageMetalComponentsInputMatrix.js","progressbar.soy.js","pageMetalComponentsProgressBar.js","select.soy.js","pageMetalComponentsSelect.js","slider.soy.js","pageMetalComponentsSlider.js","toast.soy.js","pageMetalComponentsToast.js","tooltip.soy.js","pageMetalComponentsTooltip.js","slider.js","tooltip.js","avatar.soy.js","button.soy.js","docsComponents.js","docsComponentsAvatarHtml.js","docsComponentsButtonHtml.js","form.soy.js","docsComponentsFormHtml.js","grid.soy.js","docsComponentsGridHtml.js","icon.soy.js","docsComponentsIconHtml.js","input-group.soy.js","docsComponentsInputGroupHtml.js","label.soy.js","docsComponentsLabelHtml.js","ribbon.soy.js","docsComponentsRibbonHtml.js","spinner.soy.js","docsComponentsSpinnerHtml.js","table.soy.js","docsComponentsTableHtml.js"],"names":["compatibilityModeData_","uniqueIdCounter_","UID_PROPERTY","Math","random","abstractMethod","Error","disableCompatibilityMode","undefined","enableCompatibilityMode","opt_data","getCompatibilityModeData","window","__METAL_COMPATIBILITY__","getFirstTruthy_","a","b","getFunctionName","fn","name","str","toString","substring","indexOf","getStaticProperty","ctor","propertyName","opt_mergeFn","mergedName","hasOwnProperty","merged","__proto__","isPrototypeOf","Function","mergeFn","getUid","opt_object","opt_noInheritance","id","identityFunction","opt_returnValue","isBoolean","val","isDef","isDefAndNotNull","isNull","isDocument","nodeType","isElement","isFunction","isNumber","isWindow","isObject","type","isPromise","then","isString","String","nullFunction","core","array","arr1","arr2","length","i","arr","opt_output","output","Array","isArray","flatten","push","obj","rv","removeAt","prototype","splice","call","start","opt_end","sliced","end","async","throwException","exception","nextTick","run","callback","opt_context","workQueueScheduled_","processWorkQueue","workQueue_","WorkItem_","workItems","workItem","scope","e","cb","bind","wrapCallback_","setImmediate","setImmediate_","getSetImmediateEmulator_","Channel","MessageChannel","postMessage","addEventListener","iframe","document","createElement","style","display","src","documentElement","appendChild","win","contentWindow","doc","open","write","close","message","origin","location","protocol","host","onmessage","data","port1","port2","channel","head","tail","next","script","onreadystatechange","parentNode","removeChild","setTimeout","Disposable","disposed_","disposeInternal","object","target","key","source","arguments","opt_obj","parts","split","reduce","part","mappedObj","keys","Object","obj1","obj2","keys1","keys2","string","str1","str2","test1","toLowerCase","test2","replace","x","floor","abs","Date","now","hash","len","charCodeAt","value","METAL_DATA","domData","element","opt_name","opt_initialVal","EventHandle","emitter","event","listener","emitter_","event_","listener_","removeListener","isDisposed","singleArray_","EventEmitter","events_","listenerHandlers_","shouldUseFacade_","holder","handler","opt_default","validateListener_","events","toEventsArray_","addSingleListener_","opt_origin","runListenerHandlers_","default","addHandler_","getShouldUseFacade","facade","preventDefault","preventedDefault","listeners","getRawListeners_","args","slice","runListeners_","buildFacade_","directListeners","toArray","concat","map","amount","many_","self","handlerInternal","apply","listenerObj","removeMatchingListenerObjs_","addListener","many","opt_events","listenerObjs","finalListeners","matchesListener_","off","handlers","defaultListeners","j","shouldUseFacade","TypeError","EventEmitterProxy","originEmitter","targetEmitter","opt_blacklist","opt_whitelist","blacklist_","originEmitter_","pendingEvents_","proxiedEvents_","targetEmitter_","whitelist_","startProxy_","on","removeListeners_","emit","shouldProxyEvent_","tryToAddListener_","forEach","proxyEvent","onListener","addListener_","emitOnTarget_","EventHandler","eventHandles_","DomDelegatedEventHandle","opt_selector","selector_","delegating","get","selector","selectors","remove","DomEventHandle","opt_capture","capture_","removeEventListener","elementsByTag_","supportCache_","customEvents","LAST_CONTAINER","USE_CAPTURE","blur","error","focus","invalid","load","scroll","addClasses","elements","classes","addClassesWithNative_","addClassesWithoutNative_","className","classList","add","elementClassName","classesToAppend","addElementListener_","eventName","addToArr_","addSelectorListener_","delegatingData","attachDelegateEvent_","handle","handleDelegateEvent_","closest","match","append","parent","child","buildFragment","NodeList","childArr","htmlString","tempDiv","innerHTML","firstChild","fragment","createDocumentFragment","contains","element1","element2","delegate","selectorOrTarget","customConfig","originalEvent","defaultListener_","isAbleToInteractWith_","node","opt_eventObj","button","matchesSelector","tagName","disabled","enterDocument","body","exitDocument","normalizeDelegateEvent_","ret","container","currentTarget","defFns","triggerDelegatedListeners_","triggerDefaultDelegatedListeners_","delegateTarget","hasClass","hasClassWithNative_","hasClassWithoutNative_","isEmpty","childNodes","p","Element","m","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","matchFallback_","nodes","querySelectorAll","nextSibling","stopPropagation","stopPropagation_","stopImmediatePropagation","stopImmediatePropagation_","once","domEventHandle","registerCustomEvent","removeChildren","removeClasses","removeClassesWithNative_","removeClassesWithoutNative_","trim","insertBefore","stopped","stoppedImmediate","Event","supportsEvent","tag","defaultPrevented","defaultFns","currElement","limit","triggerElementListeners_","triggerSelectorListeners_","toElement","selectorOrElement","getElementById","substr","querySelector","toggleClasses","toggleClassesWithNative_","toggleClassesWithoutNative_","toggle","classIndex","before","after","lastContainer","triggerListeners_","triggerEvent","eventObj","createEvent","initEvent","mixin","dispatchEvent","dom","DomEventEmitterProxy","isDelegateEvent_","index","isSupportedDomEvent_","features","animationEventName_","animation","checkAnimationEventName_","transition","prefixes","typeTitleCase","replaceInterval","toUpperCase","suffixes","animationElement_","attrOrderChange_","originalContent","globalEval","text","opt_appendFn","opt_callback","runFile","scripts","runScriptsInOrder","runScript","item","globalEvalStyles","href","link","rel","runStyle","styles","loadCount","mouseEventMap","mouseenter","mouseleave","pointerenter","pointerleave","related","relatedTarget","customType","animationEventMap","eventType","checkAnimationEventName","ERROR_ARRAY_OF_TYPE","ERROR_OBJECT_OF_TYPE","ERROR_ONE_OF","ERROR_ONE_OF_TYPE","ERROR_SHAPE_OF","validators","any","buildTypeValidator","bool","func","number","arrayOf","validator","maybe","context","result","isInvalid","validateArrayItems","instanceOf","expectedClass","msg","composeError","objectOf","oneOf","arrayOfValues","oneOfType","arrayOfTypeValidators","shapeOf","shape","required","config","expectedType","validatorFn","validateType","compName","constructor","renderer","getRenderer","getParent","parentName","getType","typeValidator","Config","mergeConfig","setter","create","fnNames","State","opt_config","context_","keysBlacklist_","obj_","eventData_","scheduledBatchData_","stateInfo_","stateConfigs_","initialValues_","setShouldUseFacade","configStateFromStaticHint_","defineProperty","STATE_REF_KEY","configurable","enumerable","info","getStateInfo","state","KeyStates","INITIALIZED","console","getStateKeyValue_","set","setStateKeyValue_","currentValue","callFunction_","validatorReturn","writeOnce","written","configs","names","props","assertValidStateKeyName_","buildKeyPropertyDef_","defineProperties","assertGivenIfRequired_","validateInitialValue_","defineContext","hasConfiguredState_","configState","getStateStatic","opt_names","getStateKeys","warnIfDisposed_","initStateKey_","hasInitialValue_","prevVal","shouldInformChange_","newVal","scheduleBatchEvent_","UNINITIALIZED","INITIALIZING","setInitialValue_","setDefaultValue","changeData","emitBatchEvent_","changes","hasStateKey","valueFn","blacklist","values","canSetState","validateKeyValue_","callSetter_","informChange_","callValidator_","disposed","warn","mergeState","mergedVal","currVal","Clipboard","initialize","dispose","clipboardAction_","ClipboardAction","action","trigger","STATE","getAttribute","selectValue","selectTarget","getSelection","removeAllRanges","succeeded","execCommand","err","handleResult","removeFakeElement","selectedText","clearSelection","fake","removeFakeHandler","nodeName","select","range","createRange","selection","selectNodeContents","addRange","copyText","position","left","setAttribute","addListenersFromObj","component","eventNames","handles","extractListenerInfo_","getComponentFn","fnName","SYNC_FNS_KEY","getSyncFns_","fns","getDataManager","getSyncKeys","canCache","charAt","syncState","opt_changes","syncFns","change","manager","BLACKLIST","components","refs","stateKey","wasRendered","DATA_MANAGER_DATA","ComponentDataManager","getInitialConfig","setKeysBlacklist","getManagerData","state_","getState","opt_state","getStateKeyConfig","internal","setState","createState_","ComponentRenderer","informRendered","Component","opt_parentElement","elementEventProxy_","proxyBlackList_","eventsStateKeyHandler_","inDocument","initialConfig_","DEFAULT_ELEMENT_PARENT","setUpRenderer_","setUpDataManager_","setUpSyncUpdates_","handleComponentStateChanged_","onEventsChanged_","addListenersFromObj_","dataManager_","created","componentCreated_","renderComponent","opt_siblingElement","attachElement","attachData_","sibling","attached","detached","detach","renderer_","setOriginEmitter","syncVisible","hasSyncUpdates","updateRenderer_","syncUpdates_","firstRender","hasRendererRendered_","rendered","class1","class2","removeAllListeners","__METAL_DEV_TOOLS_HOOK__","render","attach","elementClasses","mergeElementClasses_","setUp","getExtraDataConfig","DATA","handleComponentStateKeyChanged_","skipUpdates_","update","elementValue_","prev","handleComponentElementChanged_","COMPONENT_FLAG","Ctor","opt_configOrElement","opt_element","instance","children","visible","DATA_MANAGER","ELEMENT_CLASSES","RENDERER","SYNC_UPDATES","eventsChanged","stateChanged","stateKeyChanged","ComponentRegistry","constructorFn","components_","NAME","exports","global","factory","IncrementalDOM","Blank","has","property","createMap","DATA_PROP","NodeData","attrs","attrsArr","newAttrs","staticsApplied","keyMap","keyMapValid","focused","initData","getData","importNode","localName","attributes","attr","getNamespaceForTag","namespaceURI","namespace","el","createElementNS","createText","createTextNode","notifications","nodesCreated","nodesDeleted","Context","deleted","markCreated","markDeleted","notifyChanges","isDocumentRoot","Document","DocumentFragment","getAncestry","root","ancestry","cur","getRoot","getActiveElement","activeElement","getFocusedPath","moveBefore","referenceNode","insertReferenceNode","currentNode","currentParent","markFocused","focusPath","patchFactory","f","prevContext","prevDoc","prevCurrentNode","prevCurrentParent","previousInAttributes","previousInSkip","ownerDocument","retVal","patchInner","enterNode","exitNode","patchOuter","startNode","expectedNextNode","expectedPrevNode","matchNode","alignWithDOM","parentData","currentNodeData","keyNode","replaceChild","clearUnvisitedDOM","lastChild","getNextNode","nextNode","coreElementOpen","coreElementClose","coreText","currentElement","currentPointer","skip","skipNode","symbols","getNamespace","lastIndexOf","applyAttr","removeAttribute","attrNS","setAttributeNS","applyProp","setStyleValue","prop","setProperty","applyStyle","cssText","elStyle","applyAttributeTyped","updateAttribute","mutator","ATTRIBUTES_OFFSET","argsBuilder","elementOpen","statics","var_args","_i","isNew","_attr","_attr2","elementOpenStart","elementOpenEnd","elementClose","elementVoid","formatted","patch","RENDERER_DATA","clearData","clearChanges","handleStateKeyChanged_","eventData","getChanges","trackChanges","buildConfigFromCall","buildCallFromConfig","getOriginalFns","originalFns","getOriginalFn","startInterception","fnAttr","fnOpenEnd","fnOpenStart","fnVoid","fnStack","stopInterception","pop","collectedArgs","getStack","buildHandleCall","handleCall","stack","CHILD_OWNER","captureChildren","owner_","callback_","callbackData_","tree_","currentParent_","isCapturing_","handleInterceptedCloseCall_","handleInterceptedOpenCall_","handleInterceptedTextCall_","isChildTag","getOwner","renderChildTree","tree","opt_skipNode","addChildToTree","owner","addChildCallToTree_","opt_isText","HANDLE_SUFFIX","LISTENER_REGEX","applyAttribute","getEventFromListenerAttr_","attachEvent_","fixCheckedAttr_","setValueAttrAsProperty_","setBooleanAttr_","handleKey","elementAttrName","givenAsName_","convertListenerNamesToFns","convertListenerNameToFn_","exec","comps_","disposing_","disposeUnused","comp","schedule","comps","renderingComponents_","emptyChildren_","addElementClasses_","class","removeDuplicateClasses_","buildChildren_","cleanUpRender_","rootElementReached","finishedRenderingComponent_","generateKey_","generateKey","getChildComponents_","childComponents","getComponentBeingRendered","getCurrentData","icComponentsData","getRef_","compatData","ownerRenderer","renderers","useKey","RENDERER_NAME","ref","getSubComponent_","tagOrCtor","getConstructor","match_","currCount","prevComps","currComps","handleChildrenCaptured_","renderFromTag_","handleChildRender_","isComponentTag_","handleInterceptedAttributesCall_","handleSubComponentCall_","handleRegularCall_","resetNodeData_","updateElementIfNotReached_","handleNodeRendered","isMatch_","startSkipUpdates","replaceNonInternal","stopSkipUpdates","prepareRender_","resetComponentsData_","classString","all","used","join","renderIncDom","renderChild","opt_owner","renderSubComponent_","renderFunction","fnOrCtor","opt_dataOrElement","opt_parent","isComponentCtor","TempComponent","updateContext_","renderInsidePatch","childContext","getChildContext","patchingComponents_","buildParentIfNecessary_","callPatch_","opt_outer","patchFn","getPatchingComponent","tryPatchEmptyWithParent_","tryPatchWithNoParent_","tempParent","getAttachData","IncrementalDomRenderer","shouldRender","shouldUpdate","skipRender","buildShouldUpdateArgs","CLOSURE_NO_DEPS","goog","COMPILED","CLOSURE_UNCOMPILED_DEFINES","CLOSURE_DEFINES","exportPath_","opt_objectToExportTo","execScript","shift","define","defaultValue","DEBUG","provide","isProvided_","constructNamespace_","implicitNamespaces_","getObjectByName","VALID_MODULE_RE_","module","search","isInModuleLoader_","moduleLoaderState_","moduleName","getInternal_","loadedModules_","declareLegacyNamespace","setTestOnly","opt_message","DISALLOW_TEST_ONLY_CODE","globalize","opt_global","addDependency","relPath","provides","requires","opt_loadFlags","DEPENDENCIES_ENABLED","require","path","deps","dependencies_","nameToPath","pathIsModule","logToConsole_","ENABLE_DEBUG_LOADER","IS_OLD_IE_","maybeProcessDeferredDep_","getPathFromDeps_","writeScripts_","errorMessage","basePath","CLOSURE_BASE_PATH","CLOSURE_IMPORT_SCRIPT","addSingletonGetter","getInstance","instance_","instantiatedSingletons_","visited","deferred","inHtmlDocument_","findBasePath_","getElementsByTagName","qmark","l","importScript_","opt_sourceText","importScript","writeScriptTag_","atob","importModule_","bootstrap","queuedModules_","wrapModule_","srcUrl","scriptText","LOAD_MODULE_USING_EVAL","JSON","stringify","loadQueuedModules_","count","queue","maybeProcessDeferredPath_","isDeferredModule_","allDepsAreAvailable_","abspath","requireName","loadModuleFromUrl","url","retrieveAndExecModule_","loadModule","moduleDef","previousState","loadModuleFromSource_","SEAL_MODULE_EXPORTS","seal","eval","writeScriptSrcNode_","appendScriptSrcNode_","scriptEl","defer","ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING","readyState","isDeps","test","isOldIE","lastNonModuleScriptIndex_","onScriptLoad_","scriptIndex","pathToLoad","seenScript","visitNode","moduleState","rule","normalizePath_","loadFileSync_","CLOSURE_LOAD_FILE_SYNC","xhr","send","responseText","originalPath","execModuleScript","typeOf","s","propertyIsEnumerable","isArrayLike","isDateLike","getFullYear","UID_PROPERTY_","uidCounter_","hasUid","removeUid","ex","getHashCode","removeHashCode","cloneObject","clone","bindNative_","selfObj","bindJs_","boundArgs","newArgs","unshift","partial","TRUSTED_SITE","evalWorksForGlobals_","ignore","scriptElt","cssNameMapping_","cssNameMappingStyle_","getCssName","opt_modifier","getMapping","cssName","renameByParts","mapped","rename","setCssNameMapping","mapping","opt_style","CLOSURE_CSS_NAME_MAPPING","getMsg","opt_values","getMsgWithFallback","exportSymbol","publicPath","exportProperty","publicName","symbol","inherits","childCtor","parentCtor","tempCtor","superClass_","base","me","methodName","opt_methodName","caller","callee","STRICT_MODE_COMPATIBLE","ctorArgs","foundCaller","subs","splitParts","returnString","subsArguments","AMP_RE_","LT_RE_","GT_RE_","QUOT_RE_","SINGLE_QUOTE_RE_","NULL_RE_","E_RE_","ALL_RE_","DETECT_DOUBLE_ESCAPING","unescapeEntities","FORCE_NON_DOM_HTML_UNESCAPING","unescapeEntitiesUsingDom_","unescapePureXmlEntities_","opt_document","seen","div","HTML_ENTITY_PATTERN_","entity","n","Number","isNaN","fromCharCode","nodeValue","subString","htmlEscape","opt_isLikelyToContainHtmlChars","debug","runtimeType","displayName","opt_msg","captureStackTrace","reportErrorToServer","NodeType","ELEMENT","ATTRIBUTE","TEXT","CDATA_SECTION","ENTITY_REFERENCE","ENTITY","PROCESSING_INSTRUCTION","COMMENT","DOCUMENT","DOCUMENT_TYPE","DOCUMENT_FRAGMENT","NOTATION","i18n","bidi","IS_RTL","FORCE_RTL","LOCALE","Format","LRE","RLE","PDF","LRM","RLM","Dir","LTR","RTL","NEUTRAL","RIGHT","LEFT","I18N_RIGHT","I18N_LEFT","toDir","givenDir","opt_noNeutral","ltrChars_","rtlChars_","htmlSkipReg_","stripHtmlIfNeeded_","opt_isStripNeeded","rtlCharReg_","RegExp","ltrCharReg_","hasAnyRtl","opt_isHtml","hasRtlChar","hasAnyLtr","ltrRe_","rtlRe_","isRtlChar","isLtrChar","isNeutralChar","ltrDirCheckRe_","rtlDirCheckRe_","startsWithRtl","isRtlText","startsWithLtr","isLtrText","isRequiredLtrRe_","isNeutralText","ltrExitDirCheckRe_","rtlExitDirCheckRe_","endsWithLtr","isLtrExitText","endsWithRtl","isRtlExitText","rtlLocalesRe_","isRtlLanguage","lang","bracketGuardTextRe_","guardBracketInText","opt_isRtlContext","useRtl","mark","enforceRtlInHtml","html","enforceRtlInText","enforceLtrInHtml","enforceLtrInText","dimensionsRe_","leftRe_","rightRe_","tempRe_","mirrorCSS","cssStr","doubleQuoteSubstituteRe_","singleQuoteSubstituteRe_","normalizeHebrewQuote","wordSeparatorRe_","hasNumeralsRe_","rtlDetectionThreshold_","estimateDirection","rtlCount","totalCount","hasWeaklyLtr","tokens","token","detectRtlDirectionality","setElementDirAndAlign","dir","textAlign","setElementDirByTextDirectionality","DirectionalString","implementsGoogI18nBidiDirectionalString","getDirection","asserts","AssertionError","messagePattern","messageArgs","DEFAULT_ERROR_HANDLER","errorHandler_","doAssertFailure_","defaultMessage","defaultArgs","givenMessage","givenArgs","setErrorHandler","errorHandler","ENABLE_ASSERTS","assert","condition","fail","assertNumber","assertString","assertFunction","assertObject","assertArray","assertBoolean","assertElement","assertInstanceof","getType_","assertObjectPrototypeIsIntact","StringBuffer","opt_a1","buffer_","a1","opt_a2","clear","getLength","soy","SanitizedContentKind","HTML","sanitizedContentKindHtml","JS","sanitizedContentJsChars","URI","sanitizedContentUri","TRUSTED_RESOURCE_URI","sanitizedContentTrustedResourceUri","ATTRIBUTES","sanitizedContentHtmlAttribute","CSS","sanitizedContentCss","sanitizedContentKindText","SanitizedContent","contentKind","contentDir","content","getContent","UnsanitizedText","esc","soydata","StringBuilder","isContentKind","SanitizedUri","opt_contentDir","$$EMPTY_STRING_","VALUE","$$makeSanitizedContentFactory_","InstantiableCtor","sanitizedContentFactory","$$makeSanitizedContentFactoryWithDefaultDirOnly_","markUnsanitizedText","VERY_UNSAFE","ordainSanitizedUri","$$augmentMap","baseMap","additionalMap","$$assignDefaults","defaults","$$checkMapKey","$$getMapKeys","mapKeys","$$checkNotNull","$$getDelTemplateId","delTemplateName","$$DELEGATE_REGISTRY_PRIORITIES_","$$DELEGATE_REGISTRY_FUNCTIONS_","$$registerDelegateFn","delTemplateId","delTemplateVariant","delPriority","delFn","mapKey","currPriority","$$getDelegateFn","allowsEmptyDefault","$$EMPTY_TEMPLATE_FN_","opt_sb","opt_ijData","$$truncate","maxLen","doAddEllipsis","$$isHighSurrogate_","$$isLowSurrogate_","ch","assertType","typeCheck","paramName","param","jsDocTypeStr","$$escapeHtmlHelper","v","$$filterImageDataUri","$$filterImageDataUriHelper","$$FILTER_FOR_FILTER_IMAGE_DATA_URI_","startTag","endTag","empty","makeMap","block","inline","closeSelf","fillAttrs","special","HTMLParser","chars","last","comment","parseEndTag","parseStartTag","rest","unary","escaped","pos","items","unescape","parser_","HTML2IncDom","getParser","newParser","SoyAop","interceptFns_","originalFn","handleTemplateCall_","opt_ignored","interceptFn","registerForInterception","templates","stopAllInterceptions","ijData","Soy","elementTemplate","TEMPLATE","soyParamTypes_","types","params","getConfig","isHtmlParam_","soyRenderer_","toIncDom","prepareStateForRender","templateName","componentCtor","getStateInstance","isHtml","mainTemplate","register","handleInterceptedCall_","buildTemplateData_","should","incDomFn","buildFn","Geometry","x0","y0","x1","y1","x2","y2","x3","y3","Position","getClientSize_","height","getHeight","width","getWidth","makeRegion","getSize_","opt_ignoreTransform","offsetLeft","getTranslation","offsetTop","top","opt_includeScroll","getDocumentRegion_","makeRegionFromBoundingRect_","getBoundingClientRect","pageXOffset","defaultView","scrollLeft","pageYOffset","scrollTop","docEl","max","getComputedStyle","transform","msTransform","webkitTransform","mozTransform","regex","getTransformMatrixValues","translation","parseFloat","r1","r2","intersectRect","bottom","right","region","insideRegion","getRegion","intersectRegion","min","rect","deltaX","getScrollLeft","deltaY","getScrollTop","y","Align","alignElement","suggestion","suggestAlignBestRegion","bestRegion","computedStyle","getPropertyValue","offsetParent","getOffsetTop","getOffsetLeft","TopCenter","RightCenter","BottomCenter","LeftCenter","TopRight","BottomRight","BottomLeft","TopLeft","bestArea","bestPosition","getAlignRegion","tryPosition","tryRegion","viewportRegion","visibleRegion","intersection","area","insideViewport","Top","Right","Bottom","Left","TooltipBase","align","syncTriggerEvents","triggerEvents","currentAlignElement","eventHandler_","clearTimeout","delay_","opt_alignElement","syncCurrentAlignElement","delay","interactingWithDifferentTarget","callAsync_","locked_","handleHide","handleShow","prevAlignElement","dataTitle","title","alignedPosition","lock","unlock","handleToggle","isValidPosition","PositionClasses","IncrementalDom","ie_open","ie_close","ie_void","ie_open_start","ie_open_end","itext","iattr","$render","positionClasses__soy3","currentPosition__soy4","positionClass__soy5","dyn0","soyTemplateName","Tooltip","hideCompletely_","opacity","mode","code","ElectricCode","electricClipboardTooltip","visibleChanged","electricClipboard","innerText","$$temp","localAnchorVariant__soy12","anchorVariant","localCurrentDepth__soy13","currentDepth","localListItemActiveClasses__soy14","listItemActiveClasses","section","pageList41","pageListLen41","pageIndex41","pageData41","hidden","listItemClasses","active","page","depth","currentURL","linkClasses","__deltemplate_s44_b83841ac","redirect","dyn1","dyn2","ElectricNavigation","Affix","proxy_","lastPosition_","scrollHandle_","checkPosition","Default","intersectTopRegion","syncPosition","intersectBottomRegion","offsetBottom","clientHeight","scrollElement","scrollElementClientHeight","getClientHeight","itemList8","itemListLen8","itemIndex8","itemData8","$item","time","round","ReadingProgress","Scrollspy","regions","init","deactivateAll","activeIndex","deactivate","getElementForIndex","activeClass","scrollHeight","getScrollHeight_","offset","activate","findBestRegionAt_","getCurrentPosition","lastRegion","scrollElementRegion_","resolveElement","refresh","onScrollElementChanged_","scrollHeight_","links","sortRegions_","sort","ReadingProgressTracker","handleActiveIndexChanged","handleProgressChanged","updateProgress","prevElement","updateCompleted","completedClass","maxBottom","progress","tracker_","titleSelector","textContent","charCount","trackerConfig","generateItemMissingData_","ElectricReadingProgress","renderReadingProgress_","articleContainer","articleSelector","articles","articleIds","article","metal","readingContainer","affix","parseFromAnchor","opt_uri","hostname","password","pathname","port","username","parse","URL","MultiMap","size","TreeNode","value_","parent_","children_","assertChildHasNoParent","setParent","current","ancestors","getChildren","EMPTY_ARRAY","getChildCount","opt_preorderFn","opt_postorderFn","traverse","parseFn_","Uri","maybeAddProtocolAndHostname_","multimap","getAll","addParameterValue","ensureQueryInitialized_","query","urlDecode","getHostname","getPort","HOSTNAME_PLACEHOLDER","getHost","getProtocol","querystring","getParameterNames","getParameterValues","encodeURIComponent","setParameterValue","RANDOM_PARAM","getRandomString","DEFAULT_PROTOCOL","removeParameter","getPathname","getSearch","getHash","parsed","normalizeObject","parseFn","paths","decodeURIComponent","Thenable","IMPLEMENTED_BY_PROP","addImplementation","$goog_Thenable","isImplementedBy","CancellablePromise","resolver","State_","PENDING","result_","callbackEntries_","executing_","UNHANDLED_REJECTION_DELAY","unhandledRejectionId_","hadUnhandledRejection_","resolve_","FULFILLED","reason","REJECTED","BLOCKED","CallbackEntry_","resolve","opt_value","reject","opt_reason","race","promises","promise","toFulfill","onFulfill","onReject","firstFulfilled","toReject","reasons","opt_onFulfilled","opt_onRejected","addChildPromise_","thenAlways","onResolved","handleRejection_","addCallbackEntry_","onRejected","onFulfilled","thenCatch","catch","cancel","CancellationError","IS_CANCELLATION_ERROR","cancelInternal_","cancelChild_","childPromise","childCount","childIndex","entry","callbackEntry","executeCallback_","scheduleCallbacks_","unblockAndFulfill_","unblockAndReject_","tryThen_","addUnhandledRejection_","thenable","called","executeCallbacks_","entries","removeUnhandledRejection_","setUnhandledRejectionHandler","Promise","Ajax","allHeaders","headers","pairs","method","opt_headers","opt_params","opt_timeout","opt_sync","opt_withCredentials","request","XMLHttpRequest","onload","aborted","onerror","abort","timeout","addParametersFromMultiMap","withCredentials","setRequestHeader","ajax","ElectricSearchBase","handleQueryChange_","childrenOnly","description","results","matchesQuery_","filterResults_","search_","res","response","maxResults","$form","$results","placeholder","form","dyn3","dyn4","resultList103","resultListLen103","resultIndex103","resultData103","icon","dyn5","dyn6","ElectricSearch","queryString","queryIndex","Infinity","debounce","debounced","cancelDebounce","AutocompleteBase","inputElement","handleUserInput_","pendingRequest","deferredData","format","filter","listId","selectedValue","avatar","textPrimary","textSecondary","icons","iconList66","iconListLen66","iconIndex66","iconData66","iconsHtml","iconHtmlList72","iconHtmlListLen72","iconHtmlIndex72","iconHtmlData72","label","ListItem","$templateAlias1","getTemplate","itemsHtml","itemList21","itemListLen21","itemIndex21","itemData21","List","itemSelected","onListItemSelected_","Autocomplete","DOWN","ENTER","SPACE","UP","setAriaAttributes_","handleInputFocus_","handleDocClick_","handleWindowResize_","handleKeyDown_","getList","handleListRender_","offsetWidth","positionCss_","option","currentList_","activeIndex_","getLastIndex_","list","selectedItem","selectOption_","activateListItem_","keyCode","decreaseIndex_","increaseIndex_","handleActionKeys_","selectedIndex","parseInt","autocompleteClosing_","assertItemObjectStructure_","ElectricSearchAutocomplete","input","autocomplete","format_","$updates","updates","updateList128","updateListLen128","updateIndex128","updateData128","major","dyn7","version","$features","localFeatureVariant__soy132","featureVariant","featureList136","featureListLen136","featureIndex136","featureData136","feature","__deltemplate_s139_5080d024","dyn8","dyn9","ElectricUpdates","header","classes__soy3","classMap","positionClassOnMenu","expanded","Dropdown","valueClassMapFn_","alignElementSelector","bodyElement","dropdownMenu","wrapper","cloneNode","$dropdownFilter","$dropdownSettings","param10","param12","dropdownSettings","param17","param19","dropdownFilter","MarbleDropdown","configList9","fieldsConfig","configListLen9","configIndex9","configData9","fieldObjs__soy12","currentFields_","shouldAddRow__soy13","$shouldAddRow","rowFieldsList23","rowFieldsListLen23","rowFieldsIndex23","rowFieldsData23","$row","rowFields","rowIndex","handleInput_","configList44","configListLen44","configIndex44","configData44","index__soy38","$field","field","fieldIndex","row","hasError__soy54","nameSuffix__soy58","onInput","configList73","configListLen73","configIndex73","configData73","index__soy68","hasValue__soy69","disableDuplication","shouldAddRow","InputMatrix","isTogglePassword","$input","isShowing_","$togglePassword","$fieldAttrs","maxLength","readonly","fieldAttrs","togglePassword","Input","initialShow","editableWhileVisible","valeu","fields","attrName","convertAttrToInt_","lastRow","hasValue","MarbleInputMatrix","curMax__soy3","curMin__soy4","curValue__soy5","percentage__soy15","barClass","ProgressBar","MarbleProgressBar","currSelectedIndex__soy6","hiddenInputName","param14","itemList24","itemListLen24","itemIndex24","itemData24","handleItemClick_","handleItemKeyDown_","param28","buttonClass","expanded_","arrowClass","stateSynced","handleDropdownStateSynced_","Select","handleItemsChanged_","focusedIndex_","dropdown","openedWithKeyboard_","focusIndex_","closedWithKeyboard_","getDropdown","getSelectedIndexDefaultValue_","selectItem_","itemElement","findItemIndex_","MarbleSelect","DragAutoScroll","scrollTimeout_","stop","scrollContainer","innerHeight","innerWidth","scrollContainers","mouseX","mouseY","scrollInternal_","scrollBy","scrollRegion","getRegionWithoutScroll_","pointInsideRegion","maxDistance","speed","scrollElement_","DragScrollDelta","handler_","scrollPositions_","newPosition","dragNode","handleScroll_","DragShim","useShim","getDocShim","eventTypes","isTouch","docShim_","zIndex","Drag","activeDragPlaceholder_","activeDragSource_","distanceDragged_","dragging_","dragHandler_","dragScrollDelta_","mousePos_","mouseSourceDelta_","sourceHandler_","sourceRegion_","sourceRelativePos_","attachSourceEvents_","Events","DRAG","defaultDragFn_","END","defaultEndFn_","handleSourcesChanged_","handleContainerChanged_","handleScrollDelta_","toAttach","keydown","handleSourceKeyDown_","mousedown","handleDragStartEvent_","touchstart","listenerFn","sources","relativeX","relativeY","clientX","clientY","isDragging","isWithinHandle_","draggingClass","dragPlaceholder","Placeholder","CLONE","constrainToSteps_","constrainToRegion_","constrainToAxis_","axis","constrain","steps","cloneActiveDrag_","moveToPosition_","cleanUpAfterDragging_","autoScroll","hideDocShim","buildEventObject_","targetTouches","distanceX","distanceY","hasReachedMinimumDistance_","startDragging_","updatePositionFromMouse","canStartDrag_","calculateInitialPosition_","attachDocListeners","mousemove","handleDragMoveEvent_","touchmove","mouseup","handleDragEndEvent_","touchend","speedX","keyboardSpeed","speedY","updatePositionFromDelta","prevScrollContainersSelector_","minimumDragDistance","toElements_","createActiveDragPlaceholder_","START","elementOrSelector","matched","newRegion","constrain_","updatePosition","DragDrop","activeTargets_","targets","allActiveTargets","targetOverClass","activeTargets","mainRegion","sourceRegion","getSourceRegion_","prevTargetsSelector_","ariaDropEffect","newTargets","findAllActiveTargets_","TARGET_LEAVE","TARGET_ENTER","maxNumber__soy3","minNumber__soy4","valueNumber__soy5","inputName","Slider","drag_","constrainToRail_","handleElementChanged_","attachDragEvents_","updateValueFromDragData_","rail","prevValue","updateValue_","offsetX","handleRegion","handlePosition","opt_relative","MarbleSlider","spinner","spinnerClasses","spinnerDone","dismissible","Toast","Anim","opt_durationMs","getComputedDurationMs","emulateEnd_","duration","delayed","hoistedEvtHandler","Alert","hide","hideDelay","prevVisible","shouldAsync","showOrHide","animClasses","emulateEnd","syncHideDelay","show","MarbleToast","MarbleTooltip","Toggler","headerEventHandler_","syncHeader","handleClick_","handleKeydown_","getContentElement_","CSS_EXPANDED","CSS_COLLAPSED","CSS_HEADER_EXPANDED","CSS_HEADER_COLLAPSED","$templateAlias2","__deltemplate_s84_d34389eb","SideBar","param96","$mainPost","$olderPosts","author","date","mainPost","pageList123","site","pageListLen123","pageIndex123","pageData123","olderPosts","blog","$templateAlias3","param129","$guide","$feedback","guide","repo","srcFilePath","feedback","$topbar","dyn10","$logo","$menu","topbar","dyn11","logo","menu","main","param177","$styleguide","dyn12","$styleguideFeedback","styleguide","styleguideFeedback","param196","$styleguideFull","dyn13","$styleguideFullFeedback","styleguideFull","styleguideFullFeedback","dyn14","tutorial","param221","$header","$why","$how","$highlights","$footer","dyn15","dyn16","why","how","highlights","footer","pageIndex","param258","blogMarkdownPostHtml","param247","pageBlogFirstPost","$soyweb","soyweb","pageBlogIndex","param264","$topics","dyn17","topicList286","topicListLen286","topicIndex286","topicData286","dyn18","topics","pageDocsIndex","param291","$sidebar","$tutorials","$card","tutorials","card","sidebar","$left","$right","pageTutorials","param318","updatesIndex","param722","docsMetalComponents","dropdown__soy711","pageMetalComponentsDropdown","progressBar__soy732","pageMetalComponentsInputMatrix","progressBar__soy744","pageMetalComponentsProgressBar","select__soy773","item1__soy784","item2__soy786","selectDown1__soy797","selectDown2__soy799","pageMetalComponentsSelect","slider__soy814","valueChanged","scaleValueChanged","pageMetalComponentsSlider","animClasses__soy825","tootlip__soy826","pageMetalComponentsToast","tootlip__soy842","alignElementChanged","tooltipAlignElementChanged","pageMetalComponentsTooltip","slider","payload","log","tooltip","param326","docsComponentsAvatarHtml","param350","docsComponentsButtonHtml","param486","docsComponents","param389","docsComponentsFormHtml","param448","docsComponentsGridHtml","param472","docsComponentsIconHtml","param496","docsComponentsInputGroupHtml","param610","docsComponentsLabelHtml","param634","docsComponentsRibbonHtml","param663","docsComponentsSpinnerHtml","param687","docsComponentsTableHtml"],"mappings":"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","file":"bundle.js","sourcesContent":["'use strict';\n\n/**\n * A collection of core utility functions.\n * @const\n */\n\nlet compatibilityModeData_;\n\n/**\n * Counter for unique id.\n * @type {Number}\n * @private\n */\nlet uniqueIdCounter_ = 1;\n\n/**\n * Unique id property prefix.\n * @type {String}\n * @protected\n */\nexport const UID_PROPERTY = `core_${((Math.random() * 1e9) >>> 0)}`;\n\n/**\n * When defining a class Foo with an abstract method bar(), you can do:\n * Foo.prototype.bar = abstractMethod\n *\n * Now if a subclass of Foo fails to override bar(), an error will be thrown\n * when bar() is invoked.\n *\n * @type {!Function}\n * @throws {Error} when invoked to indicate the method should be overridden.\n */\nexport function abstractMethod() {\n\tthrow Error('Unimplemented abstract method');\n}\n\n/**\n * Disables Metal.js's compatibility mode.\n */\nexport function disableCompatibilityMode() {\n\tcompatibilityModeData_ = undefined;\n}\n\n/**\n * Enables Metal.js's compatibility mode with the following features from rc\n * and 1.x versions:\n *     - Using \"key\" to reference component instances. In the current version\n *       this should be done via \"ref\" instead. This allows old code still\n *       using \"key\" to keep working like before. NOTE: this may cause\n *       problems, since \"key\" is meant to be used differently. Only use this\n *       if it's not possible to upgrade the code to use \"ref\" instead.\n * @param {Object=} opt_data Optional object with data to specify more\n *     details, such as:\n *         - renderers {Array} the template renderers that should be in\n *           compatibility mode, either their constructors or strings\n *           representing them (e.g. 'soy' or 'jsx'). By default, all the ones\n *           that extend from IncrementalDomRenderer.\n * @type {Object}\n */\nexport function enableCompatibilityMode(opt_data = {}) {\n\tcompatibilityModeData_ = opt_data;\n}\n\n/**\n * Returns the data used for compatibility mode, or nothing if it hasn't been\n * enabled.\n * @return {Object}\n */\nexport function getCompatibilityModeData() {\n\t// Compatibility mode can be set via the __METAL_COMPATIBILITY__ global var.\n\tif (compatibilityModeData_ === undefined) {\n\t\tif (typeof window !== 'undefined' && window.__METAL_COMPATIBILITY__) {\n\t\t\tenableCompatibilityMode(window.__METAL_COMPATIBILITY__);\n\t\t}\n\t}\n\treturn compatibilityModeData_;\n}\n\n/**\n * Returns the first argument if it's truthy, or the second otherwise.\n * @param {*} a\n * @param {*} b\n * @return {*}\n * @protected\n */\nfunction getFirstTruthy_(a, b) {\n\treturn a || b;\n}\n\n/**\n * Gets the name of the given function. If the current browser doesn't\n * support the `name` property, this will calculate it from the function's\n * content string.\n * @param {!function()} fn\n * @return {string}\n */\nexport function getFunctionName(fn) {\n\tif (!fn.name) {\n\t\tconst str = fn.toString();\n\t\tfn.name = str.substring(9, str.indexOf('('));\n\t}\n\treturn fn.name;\n}\n\n/**\n * Gets the value of a static property in the given class. The value will be\n * inherited from ancestors as expected, unless a custom merge function is given,\n * which can change how the super classes' value for that property will be merged\n * together.\n * The final merged value will be stored in another property, so that it won't\n * be recalculated even if this function is called multiple times.\n * @param {!function()} ctor Class constructor.\n * @param {string} propertyName Property name to be merged.\n * @param {function(*, *):*=} opt_mergeFn Function that receives the merged\n *     value of the property so far and the next value to be merged to it.\n *     Should return these two merged together. If not passed the final property\n *     will be the first truthy value among ancestors.\n */\nexport function getStaticProperty(ctor, propertyName, opt_mergeFn) {\n\tconst mergedName = propertyName + '_MERGED';\n\tif (!ctor.hasOwnProperty(mergedName)) {\n\t\tlet merged = ctor.hasOwnProperty(propertyName) ? ctor[propertyName] : null;\n\t\tif (ctor.__proto__ && !ctor.__proto__.isPrototypeOf(Function)) {\n\t\t\tconst mergeFn = opt_mergeFn || getFirstTruthy_;\n\t\t\tmerged = mergeFn(\n\t\t\t\tmerged,\n\t\t\t\tgetStaticProperty(ctor.__proto__, propertyName, mergeFn)\n\t\t\t);\n\t\t}\n\t\tctor[mergedName] = merged;\n\t}\n\treturn ctor[mergedName];\n}\n\n/**\n * Gets an unique id. If `opt_object` argument is passed, the object is\n * mutated with an unique id. Consecutive calls with the same object\n * reference won't mutate the object again, instead the current object uid\n * returns. See {@link UID_PROPERTY}.\n * @param {Object=} opt_object Optional object to be mutated with the uid. If\n *     not specified this method only returns the uid.\n * @param {boolean=} opt_noInheritance Optional flag indicating if this\n *     object's uid property can be inherited from parents or not.\n * @throws {Error} when invoked to indicate the method should be overridden.\n */\nexport function getUid(opt_object, opt_noInheritance) {\n\tif (opt_object) {\n\t\tlet id = opt_object[UID_PROPERTY];\n\t\tif (opt_noInheritance && !opt_object.hasOwnProperty(UID_PROPERTY)) {\n\t\t\tid = null;\n\t\t}\n\t\treturn id || (opt_object[UID_PROPERTY] = uniqueIdCounter_++);\n\t}\n\treturn uniqueIdCounter_++;\n}\n\n/**\n * The identity function. Returns its first argument.\n * @param {*=} opt_returnValue The single value that will be returned.\n * @return {?} The first argument.\n */\nexport function identityFunction(opt_returnValue) {\n\treturn opt_returnValue;\n}\n\n/**\n * Returns true if the specified value is a boolean.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is boolean.\n */\nexport function isBoolean(val) {\n\treturn typeof val === 'boolean';\n}\n\n/**\n * Returns true if the specified value is not undefined.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is defined.\n */\nexport function isDef(val) {\n\treturn val !== undefined;\n}\n\n/**\n * Returns true if value is not undefined or null.\n * @param {*} val\n * @return {boolean}\n */\nexport function isDefAndNotNull(val) {\n\treturn isDef(val) && !isNull(val);\n}\n\n/**\n * Returns true if value is a document.\n * @param {*} val\n * @return {boolean}\n */\nexport function isDocument(val) {\n\treturn val && typeof val === 'object' && val.nodeType === 9;\n}\n\n/**\n * Returns true if value is a dom element.\n * @param {*} val\n * @return {boolean}\n */\nexport function isElement(val) {\n\treturn val && typeof val === 'object' && val.nodeType === 1;\n}\n\n/**\n * Returns true if the specified value is a function.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is a function.\n */\nexport function isFunction(val) {\n\treturn typeof val === 'function';\n}\n\n/**\n * Returns true if value is null.\n * @param {*} val\n * @return {boolean}\n */\nexport function isNull(val) {\n\treturn val === null;\n}\n\n/**\n * Returns true if the specified value is a number.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is a number.\n */\nexport function isNumber(val) {\n\treturn typeof val === 'number';\n}\n\n/**\n * Returns true if value is a window.\n * @param {*} val\n * @return {boolean}\n */\nexport function isWindow(val) {\n\treturn val !== null && val === val.window;\n}\n\n/**\n * Returns true if the specified value is an object. This includes arrays\n * and functions.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is an object.\n */\nexport function isObject(val) {\n\tconst type = typeof val;\n\treturn type === 'object' && val !== null || type === 'function';\n}\n\n/**\n * Returns true if value is a Promise.\n * @param {*} val\n * @return {boolean}\n */\nexport function isPromise(val) {\n\treturn val && typeof val === 'object' && typeof val.then === 'function';\n}\n\n/**\n * Returns true if value is a string.\n * @param {*} val\n * @return {boolean}\n */\nexport function isString(val) {\n\treturn typeof val === 'string' || val instanceof String;\n}\n\n/**\n * Null function used for default values of callbacks, etc.\n * @return {void} Nothing.\n */\nexport function nullFunction() {\n}\n","'use strict';\n\n// This file exists just for backwards compatibility, making sure that old\n// default imports for this file still work. It's best to use the named exports\n// for each function instead though, since that allows bundlers like Rollup to\n// reduce the bundle size by removing unused code.\nimport * as core from './coreNamed';\n\nexport default core;\nexport { core };\nexport * from './coreNamed';\n","'use strict';\n\nimport { isDef } from '../core';\n\nclass array {\n\t/**\n\t * Checks if the given arrays have the same content.\n\t * @param {!Array<*>} arr1\n\t * @param {!Array<*>} arr2\n\t * @return {boolean}\n\t */\n\tstatic equal(arr1, arr2) {\n\t\tif (arr1.length !== arr2.length) {\n\t\t\treturn false;\n\t\t}\n\t\tfor (let i = 0; i < arr1.length; i++) {\n\t\t\tif (arr1[i] !== arr2[i]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Returns the first value in the given array that isn't undefined.\n\t * @param {!Array} arr\n\t * @return {*}\n\t */\n\tstatic firstDefinedValue(arr) {\n\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\tif (arr[i] !== undefined) {\n\t\t\t\treturn arr[i];\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Transforms the input nested array to become flat.\n\t * @param {Array.<*|Array.<*>>} arr Nested array to flatten.\n\t * @param {Array.<*>} opt_output Optional output array.\n\t * @return {Array.<*>} Flat array.\n\t */\n\tstatic flatten(arr, opt_output) {\n\t\tvar output = opt_output || [];\n\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\tif (Array.isArray(arr[i])) {\n\t\t\t\tarray.flatten(arr[i], output);\n\t\t\t} else {\n\t\t\t\toutput.push(arr[i]);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Removes the first occurrence of a particular value from an array.\n\t * @param {Array.<T>} arr Array from which to remove value.\n\t * @param {T} obj Object to remove.\n\t * @return {boolean} True if an element was removed.\n\t * @template T\n\t */\n\tstatic remove(arr, obj) {\n\t\tconst i = arr.indexOf(obj);\n\t\tlet rv;\n\t\tif ( (rv = i >= 0) ) {\n\t\t\tarray.removeAt(arr, i);\n\t\t}\n\t\treturn rv;\n\t}\n\n\t/**\n\t * Removes from an array the element at index i\n\t * @param {Array} arr Array or array like object from which to remove value.\n\t * @param {number} i The index to remove.\n\t * @return {boolean} True if an element was removed.\n\t */\n\tstatic removeAt(arr, i) {\n\t\treturn Array.prototype.splice.call(arr, i, 1).length === 1;\n\t}\n\n\t/**\n\t * Slices the given array, just like Array.prototype.slice, but this\n\t * is faster and working on all array-like objects (like arguments).\n\t * @param {!Object} arr Array-like object to slice.\n\t * @param {number} start The index that should start the slice.\n\t * @param {number=} opt_end The index where the slice should end, not\n\t *   included in the final array. If not given, all elements after the\n\t *   start index will be included.\n\t * @return {!Array}\n\t */\n\tstatic slice(arr, start, opt_end) {\n\t\tconst sliced = [];\n\t\tconst end = isDef(opt_end) ? opt_end : arr.length;\n\t\tfor (let i = start; i < end; i++) {\n\t\t\tsliced.push(arr[i]);\n\t\t}\n\t\treturn sliced;\n\t}\n}\n\nexport default array;\n","/*!\n * Polyfill from Google's Closure Library.\n * Copyright 2013 The Closure Library Authors. All Rights Reserved.\n */\n\n'use strict';\n\nconst async = {};\n\n\n/**\n * Throw an item without interrupting the current execution context.  For\n * example, if processing a group of items in a loop, sometimes it is useful\n * to report an error while still allowing the rest of the batch to be\n * processed.\n * @param {*} exception\n */\nasync.throwException = function(exception) {\n\t// Each throw needs to be in its own context.\n\tasync.nextTick(function() {\n\t\tthrow exception;\n\t});\n};\n\n\n/**\n * Fires the provided callback just before the current callstack unwinds, or as\n * soon as possible after the current JS execution context.\n * @param {function(this:THIS)} callback\n * @param {THIS=} opt_context Object to use as the \"this value\" when calling\n *     the provided function.\n * @template THIS\n */\nasync.run = function(callback, opt_context) {\n\tif (!async.run.workQueueScheduled_) {\n\t\t// Nothing is currently scheduled, schedule it now.\n\t\tasync.nextTick(async.run.processWorkQueue);\n\t\tasync.run.workQueueScheduled_ = true;\n\t}\n\n\tasync.run.workQueue_.push(\n\t\tnew async.run.WorkItem_(callback, opt_context));\n};\n\n\n/** @private {boolean} */\nasync.run.workQueueScheduled_ = false;\n\n\n/** @private {!Array.<!async.run.WorkItem_>} */\nasync.run.workQueue_ = [];\n\n/**\n * Run any pending async.run work items. This function is not intended\n * for general use, but for use by entry point handlers to run items ahead of\n * async.nextTick.\n */\nasync.run.processWorkQueue = function() {\n\t// NOTE: additional work queue items may be pushed while processing.\n\twhile (async.run.workQueue_.length) {\n\t\t// Don't let the work queue grow indefinitely.\n\t\tconst workItems = async.run.workQueue_;\n\t\tasync.run.workQueue_ = [];\n\t\tfor (let i = 0; i < workItems.length; i++) {\n\t\t\tconst workItem = workItems[i];\n\t\t\ttry {\n\t\t\t\tworkItem.fn.call(workItem.scope);\n\t\t\t} catch (e) {\n\t\t\t\tasync.throwException(e);\n\t\t\t}\n\t\t}\n\t}\n\n\t// There are no more work items, reset the work queue.\n\tasync.run.workQueueScheduled_ = false;\n};\n\n\n/**\n * @constructor\n * @final\n * @struct\n * @private\n *\n * @param {function()} fn\n * @param {Object|null|undefined} scope\n */\nasync.run.WorkItem_ = function(fn, scope) {\n\t/** @const */\n\tthis.fn = fn;\n\t/** @const */\n\tthis.scope = scope;\n};\n\n\n/**\n * Fires the provided callbacks as soon as possible after the current JS\n * execution context. setTimeout(…, 0) always takes at least 5ms for legacy\n * reasons.\n * @param {function(this:SCOPE)} callback Callback function to fire as soon as\n *     possible.\n * @param {SCOPE=} opt_context Object in whose scope to call the listener.\n * @template SCOPE\n */\nasync.nextTick = function(callback, opt_context) {\n\tlet cb = callback;\n\tif (opt_context) {\n\t\tcb = callback.bind(opt_context);\n\t}\n\tcb = async.nextTick.wrapCallback_(cb);\n\t// Introduced and currently only supported by IE10.\n\t// Verify if variable is defined on the current runtime (i.e., node, browser).\n\t// Can't use typeof enclosed in a function (such as core.isFunction) or an\n\t// exception will be thrown when the function is called on an environment\n\t// where the variable is undefined.\n\tif (typeof setImmediate === 'function') {\n\t\tsetImmediate(cb);\n\t\treturn;\n\t}\n\t// Look for and cache the custom fallback version of setImmediate.\n\tif (!async.nextTick.setImmediate_) {\n\t\tasync.nextTick.setImmediate_ = async.nextTick.getSetImmediateEmulator_();\n\t}\n\tasync.nextTick.setImmediate_(cb);\n};\n\n\n/**\n * Cache for the setImmediate implementation.\n * @type {function(function())}\n * @private\n */\nasync.nextTick.setImmediate_ = null;\n\n\n/**\n * Determines the best possible implementation to run a function as soon as\n * the JS event loop is idle.\n * @return {function(function())} The \"setImmediate\" implementation.\n * @private\n */\nasync.nextTick.getSetImmediateEmulator_ = function() {\n\t// Create a private message channel and use it to postMessage empty messages\n\t// to ourselves.\n\tlet Channel;\n\n\t// Verify if variable is defined on the current runtime (i.e., node, browser).\n\t// Can't use typeof enclosed in a function (such as core.isFunction) or an\n\t// exception will be thrown when the function is called on an environment\n\t// where the variable is undefined.\n\tif (typeof MessageChannel === 'function') {\n\t\tChannel = MessageChannel;\n\t}\n\n\t// If MessageChannel is not available and we are in a browser, implement\n\t// an iframe based polyfill in browsers that have postMessage and\n\t// document.addEventListener. The latter excludes IE8 because it has a\n\t// synchronous postMessage implementation.\n\tif (typeof Channel === 'undefined' && typeof window !== 'undefined' &&\n\t\twindow.postMessage && window.addEventListener) {\n\t\t/** @constructor */\n\t\tChannel = function() {\n\t\t\t// Make an empty, invisible iframe.\n\t\t\tconst iframe = document.createElement('iframe');\n\t\t\tiframe.style.display = 'none';\n\t\t\tiframe.src = '';\n\t\t\tdocument.documentElement.appendChild(iframe);\n\t\t\tconst win = iframe.contentWindow;\n\t\t\tconst doc = win.document;\n\t\t\tdoc.open();\n\t\t\tdoc.write('');\n\t\t\tdoc.close();\n\t\t\tconst message = 'callImmediate' + Math.random();\n\t\t\tconst origin = win.location.protocol + '//' + win.location.host;\n\t\t\tconst onmessage = function(e) {\n\t\t\t\t// Validate origin and message to make sure that this message was\n\t\t\t\t// intended for us.\n\t\t\t\tif (e.origin !== origin && e.data !== message) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.port1.onmessage();\n\t\t\t}.bind(this);\n\t\t\twin.addEventListener('message', onmessage, false);\n\t\t\tthis.port1 = {};\n\t\t\tthis.port2 = {\n\t\t\t\tpostMessage: function() {\n\t\t\t\t\twin.postMessage(message, origin);\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t}\n\tif (typeof Channel !== 'undefined') {\n\t\tconst channel = new Channel();\n\t\t// Use a fifo linked list to call callbacks in the right order.\n\t\tlet head = {};\n\t\tlet tail = head;\n\t\tchannel.port1.onmessage = function() {\n\t\t\thead = head.next;\n\t\t\tconst cb = head.cb;\n\t\t\thead.cb = null;\n\t\t\tcb();\n\t\t};\n\t\treturn function(cb) {\n\t\t\ttail.next = {\n\t\t\t\tcb: cb\n\t\t\t};\n\t\t\ttail = tail.next;\n\t\t\tchannel.port2.postMessage(0);\n\t\t};\n\t}\n\t// Implementation for IE6-8: Script elements fire an asynchronous\n\t// onreadystatechange event when inserted into the DOM.\n\tif (typeof document !== 'undefined' && 'onreadystatechange' in\n\t\tdocument.createElement('script')) {\n\t\treturn function(cb) {\n\t\t\tlet script = document.createElement('script');\n\t\t\tscript.onreadystatechange = function() {\n\t\t\t\t// Clean up and call the callback.\n\t\t\t\tscript.onreadystatechange = null;\n\t\t\t\tscript.parentNode.removeChild(script);\n\t\t\t\tscript = null;\n\t\t\t\tcb();\n\t\t\t\tcb = null;\n\t\t\t};\n\t\t\tdocument.documentElement.appendChild(script);\n\t\t};\n\t}\n\t// Fall back to setTimeout with 0. In browsers this creates a delay of 5ms\n\t// or more.\n\treturn function(cb) {\n\t\tsetTimeout(cb, 0);\n\t};\n};\n\n\n/**\n * Helper function that is overrided to protect callbacks with entry point\n * monitor if the application monitors entry points.\n * @param {function()} callback Callback function to fire as soon as possible.\n * @return {function()} The wrapped callback.\n * @private\n */\nasync.nextTick.wrapCallback_ = function(opt_returnValue) {\n\treturn opt_returnValue;\n};\n\nexport default async;\n","'use strict';\n\n/**\n * Disposable utility. When inherited provides the `dispose` function to its\n * subclass, which is responsible for disposing of any object references\n * when an instance won't be used anymore. Subclasses should override\n * `disposeInternal` to implement any specific disposing logic.\n * @constructor\n */\nclass Disposable {\n\tconstructor() {\n\t\t/**\n\t\t * Flag indicating if this instance has already been disposed.\n\t\t * @type {boolean}\n\t\t * @protected\n\t\t */\n\t\tthis.disposed_ = false;\n\t}\n\n\t/**\n\t * Disposes of this instance's object references. Calls `disposeInternal`.\n\t */\n\tdispose() {\n\t\tif (!this.disposed_) {\n\t\t\tthis.disposeInternal();\n\t\t\tthis.disposed_ = true;\n\t\t}\n\t}\n\n\t/**\n\t * Subclasses should override this method to implement any specific\n\t * disposing logic (like clearing references and calling `dispose` on other\n\t * disposables).\n\t */\n\tdisposeInternal() {}\n\n\t/**\n\t * Checks if this instance has already been disposed.\n\t * @return {boolean}\n\t */\n\tisDisposed() {\n\t\treturn this.disposed_;\n\t}\n}\n\nexport default Disposable;\n","'use strict';\n\nclass object {\n\t/**\n\t * Copies all the members of a source object to a target object.\n\t * @param {Object} target Target object.\n\t * @param {...Object} var_args The objects from which values will be copied.\n\t * @return {Object} Returns the target object reference.\n\t */\n\tstatic mixin(target) {\n\t\tlet key, source;\n\t\tfor (let i = 1; i < arguments.length; i++) {\n\t\t\tsource = arguments[i];\n\t\t\tfor (key in source) {\n\t\t\t\ttarget[key] = source[key];\n\t\t\t}\n\t\t}\n\t\treturn target;\n\t}\n\n\t/**\n\t * Returns an object based on its fully qualified external name.\n\t * @param {string} name The fully qualified name.\n\t * @param {object=} opt_obj The object within which to look; default is\n\t *     <code>window</code>.\n\t * @return {?} The value (object or primitive) or, if not found, undefined.\n\t */\n\tstatic getObjectByName(name, opt_obj) {\n\t\tconst scope = opt_obj || window;\n\t\tconst parts = name.split('.');\n\t\treturn parts.reduce((part, key) => part[key], scope);\n\t}\n\n\t/**\n\t * Returns a new object with the same keys as the given one, but with\n\t * their values set to the return values of the specified function.\n\t * @param {!Object} obj\n\t * @param {!function(string, *)} fn\n\t * @return {!Object}\n\t */\n\tstatic map(obj, fn) {\n\t\tconst mappedObj = {};\n\t\tconst keys = Object.keys(obj);\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tmappedObj[keys[i]] = fn(keys[i], obj[keys[i]]);\n\t\t}\n\t\treturn mappedObj;\n\t}\n\n\t/**\n\t * Checks if the two given objects are equal. This is done via a shallow\n\t * check, including only the keys directly contained by the 2 objects.\n\t * @return {boolean}\n\t */\n\tstatic shallowEqual(obj1, obj2) {\n\t\tif (obj1 === obj2) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst keys1 = Object.keys(obj1);\n\t\tconst keys2 = Object.keys(obj2);\n\t\tif (keys1.length !== keys2.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (let i = 0; i < keys1.length; i++) {\n\t\t\tif (obj1[keys1[i]] !== obj2[keys1[i]]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}\n\nexport default object;\n","'use strict';\n\nclass string {\n\t/**\n\t * Compares the given strings without taking the case into account.\n\t * @param {string|number} str1\n\t * @param {string|number} str2\n\t * @return {number} Either -1, 0 or 1, according to if the first string is\n\t *     \"smaller\", equal or \"bigger\" than the second given string.\n\t */\n\tstatic caseInsensitiveCompare(str1, str2) {\n\t\tconst test1 = String(str1).toLowerCase();\n\t\tconst test2 = String(str2).toLowerCase();\n\n\t\tif (test1 < test2) {\n\t\t\treturn -1;\n\t\t} else if (test1 === test2) {\n\t\t\treturn 0;\n\t\t} else {\n\t\t\treturn 1;\n\t\t}\n\t}\n\n\t/**\n\t * Removes the breaking spaces from the left and right of the string and\n\t * collapses the sequences of breaking spaces in the middle into single spaces.\n\t * The original and the result strings render the same way in HTML.\n\t * @param {string} str A string in which to collapse spaces.\n\t * @return {string} Copy of the string with normalized breaking spaces.\n\t */\n\tstatic collapseBreakingSpaces(str) {\n\t\treturn str.replace(/[\\t\\r\\n ]+/g, ' ').replace(/^[\\t\\r\\n ]+|[\\t\\r\\n ]+$/g, '');\n\t}\n\n\t/**\n\t* Escapes characters in the string that are not safe to use in a RegExp.\n\t* @param {*} str The string to escape. If not a string, it will be casted\n\t*     to one.\n\t* @return {string} A RegExp safe, escaped copy of {@code s}.\n\t*/\n\tstatic escapeRegex(str) {\n\t\treturn String(str)\n\t\t\t.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')\n\t\t\t.replace(/\\x08/g, '\\\\x08');\n\t}\n\n\t/**\n\t* Returns a string with at least 64-bits of randomness.\n\t* @return {string} A random string, e.g. sn1s7vb4gcic.\n\t*/\n\tstatic getRandomString() {\n\t\tconst x = 2147483648;\n\t\treturn Math.floor(Math.random() * x).toString(36) +\n\t\t\tMath.abs(Math.floor(Math.random() * x) ^ Date.now()).toString(36);\n\t}\n\n\t/**\n\t * Calculates the hashcode for a string. The hashcode value is computed by\n\t * the sum algorithm: s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]. A nice\n\t * property of using 31 prime is that the multiplication can be replaced by\n\t * a shift and a subtraction for better performance: 31*i == (i<<5)-i.\n\t * Modern VMs do this sort of optimization automatically.\n\t * @param {String} val Target string.\n\t * @return {Number} Returns the string hashcode.\n\t */\n\tstatic hashCode(val) {\n\t\tlet hash = 0;\n\t\tfor (let i = 0, len = val.length; i < len; i++) {\n\t\t\thash = 31 * hash + val.charCodeAt(i);\n\t\t\thash %= 0x100000000;\n\t\t}\n\t\treturn hash;\n\t}\n\n\t/**\n\t * Replaces interval into the string with specified value, e.g.\n\t * `replaceInterval(\"abcde\", 1, 4, \"\")` returns \"ae\".\n\t * @param {string} str The input string.\n\t * @param {Number} start Start interval position to be replaced.\n\t * @param {Number} end End interval position to be replaced.\n\t * @param {string} value The value that replaces the specified interval.\n\t * @return {string}\n\t */\n\tstatic replaceInterval(str, start, end, value) {\n\t\treturn str.substring(0, start) + value + str.substring(end);\n\t}\n}\n\nexport default string;\n","'use strict';\n\nimport core from './core';\nimport array from './array/array';\nimport async from './async/async';\nimport Disposable from './disposable/Disposable';\nimport object from './object/object';\nimport string from './string/string';\n\nexport * from './core';\nexport { array, async, Disposable, object, string };\nexport default core;\n","'use strict';\n\nconst METAL_DATA = '__metal_data__';\n\nclass domData {\n\t/**\n\t * Gets Metal.js's data for the given element.\n\t * @param {!Element} element\n\t * @param {string=} opt_name Optional property from the data to be returned.\n\t * @param {*} opt_initialVal Optinal value to the set the requested property\n\t *     to if it doesn't exist yet in the data.\n\t * @return {!Object}\n\t */\n\tstatic get(element, opt_name, opt_initialVal) {\n\t\tif (!element[METAL_DATA]) {\n\t\t\telement[METAL_DATA] = {};\n\t\t}\n\t\tif (!opt_name) {\n\t\t\treturn element[METAL_DATA];\n\t\t}\n\t\tif (!element[METAL_DATA][opt_name] && opt_initialVal) {\n\t\t\telement[METAL_DATA][opt_name] = opt_initialVal;\n\t\t}\n\t\treturn element[METAL_DATA][opt_name];\n\t}\n\n\t/**\n\t * Checks if the given element has data stored in it.\n\t * @param {!Element} element\n\t * @return {boolean}\n\t */\n\tstatic has(element) {\n\t\treturn !!element[METAL_DATA];\n\t}\n}\n\nexport default domData;\n","'use strict';\n\nimport { Disposable } from 'metal';\n\n/**\n * EventHandle utility. Holds information about an event subscription, and\n * allows removing them easily.\n * EventHandle is a Disposable, but it's important to note that the\n * EventEmitter that created it is not the one responsible for disposing it.\n * That responsibility is for the code that holds a reference to it.\n * @param {!EventEmitter} emitter Emitter the event was subscribed to.\n * @param {string} event The name of the event that was subscribed to.\n * @param {!Function} listener The listener subscribed to the event.\n * @constructor\n * @extends {Disposable}\n */\nclass EventHandle extends Disposable {\n\tconstructor(emitter, event, listener) {\n\t\tsuper();\n\n\t\t/**\n\t\t * The EventEmitter instance that the event was subscribed to.\n\t\t * @type {EventEmitter}\n\t\t * @protected\n\t\t */\n\t\tthis.emitter_ = emitter;\n\n\t\t/**\n\t\t * The name of the event that was subscribed to.\n\t\t * @type {string}\n\t\t * @protected\n\t\t */\n\t\tthis.event_ = event;\n\n\t\t/**\n\t\t * The listener subscribed to the event.\n\t\t * @type {Function}\n\t\t * @protected\n\t\t */\n\t\tthis.listener_ = listener;\n\t}\n\n\t/**\n\t * Disposes of this instance's object references.\n\t * @override\n\t */\n\tdisposeInternal() {\n\t\tthis.removeListener();\n\t\tthis.emitter_ = null;\n\t\tthis.listener_ = null;\n\t}\n\n\t/**\n\t * Removes the listener subscription from the emitter.\n\t */\n\tremoveListener() {\n\t\tif (!this.emitter_.isDisposed()) {\n\t\t\tthis.emitter_.removeListener(this.event_, this.listener_);\n\t\t}\n\t}\n}\n\nexport default EventHandle;\n","'use strict';\n\nimport { array, Disposable, isFunction, isString } from 'metal';\nimport EventHandle from './EventHandle';\n\nconst singleArray_ = [0];\n\n/**\n * EventEmitter utility.\n * @constructor\n * @extends {Disposable}\n */\nclass EventEmitter extends Disposable {\n\tconstructor() {\n\t\tsuper();\n\n\t\t/**\n\t\t * Holds event listeners scoped by event type.\n\t\t * @type {Object<string, !Array<!function()>>}\n\t\t * @protected\n\t\t */\n\t\tthis.events_ = null;\n\n\t\t/**\n\t\t * Handlers that are triggered when an event is listened to.\n\t\t * @type {Array}\n\t\t */\n\t\tthis.listenerHandlers_ = null;\n\n\t\t/**\n\t\t * Configuration option which determines if an event facade should be sent\n\t\t * as a param of listeners when emitting events. If set to true, the facade\n\t\t * will be passed as the first argument of the listener.\n\t\t * @type {boolean}\n\t\t * @protected\n\t\t */\n\t\tthis.shouldUseFacade_ = false;\n\t}\n\n\t/**\n\t * Adds a handler to given holder variable. If the holder doesn't have a\n\t * value yet, it will receive the handler directly. If the holder is an array,\n\t * the value will just be added to it. Otherwise, the holder will be set to a\n\t * new array containing its previous value plus the new handler.\n\t * @param {*} holder\n\t * @param {!function()|Object} handler\n\t * @return {*} The holder's new value.\n\t * @protected\n\t */\n\taddHandler_(holder, handler) {\n\t\tif (!holder) {\n\t\t\tholder = handler;\n\t\t} else {\n\t\t\tif (!Array.isArray(holder)) {\n\t\t\t\tholder = [holder];\n\t\t\t}\n\t\t\tholder.push(handler);\n\t\t}\n\t\treturn holder;\n\t}\n\n\t/**\n\t * Adds a listener to the end of the listeners array for the specified events.\n\t * @param {!(Array|string)} event\n\t * @param {!Function} listener\n\t * @param {boolean} opt_default Flag indicating if this listener is a default\n\t *   action for this event. Default actions are run last, and only if no previous\n\t *   listener call `preventDefault()` on the received event facade.\n\t * @return {!EventHandle} Can be used to remove the listener.\n\t */\n\taddListener(event, listener, opt_default) {\n\t\tthis.validateListener_(listener);\n\n\t\tconst events = this.toEventsArray_(event);\n\t\tfor (let i = 0; i < events.length; i++) {\n\t\t\tthis.addSingleListener_(events[i], listener, opt_default);\n\t\t}\n\n\t\treturn new EventHandle(this, event, listener);\n\t}\n\n\t/**\n\t * Adds a listener to the end of the listeners array for a single event.\n\t * @param {string} event\n\t * @param {!Function} listener\n\t * @param {boolean} opt_default Flag indicating if this listener is a default\n\t *   action for this event. Default actions are run last, and only if no previous\n\t *   listener call `preventDefault()` on the received event facade.\n\t * @return {!EventHandle} Can be used to remove the listener.\n\t * @param {Function=} opt_origin The original function that was added as a\n\t *   listener, if there is any.\n\t * @protected\n\t */\n\taddSingleListener_(event, listener, opt_default, opt_origin) {\n\t\tthis.runListenerHandlers_(event);\n\t\tif (opt_default || opt_origin) {\n\t\t\tlistener = {\n\t\t\t\tdefault: opt_default,\n\t\t\t\tfn: listener,\n\t\t\t\torigin: opt_origin\n\t\t\t};\n\t\t}\n\t\tthis.events_ = this.events_ || {};\n\t\tthis.events_[event] = this.addHandler_(this.events_[event], listener);\n\t}\n\n\t/**\n\t * Builds facade for the given event.\n\t * @param {string} event\n\t * @return {Object}\n\t * @protected\n\t */\n\tbuildFacade_(event) {\n\t\tif (this.getShouldUseFacade()) {\n\t\t\tconst facade = {\n\t\t\t\tpreventDefault: function() {\n\t\t\t\t\tfacade.preventedDefault = true;\n\t\t\t\t},\n\t\t\t\ttarget: this,\n\t\t\t\ttype: event\n\t\t\t};\n\t\t\treturn facade;\n\t\t}\n\t}\n\n\t/**\n\t * Disposes of this instance's object references.\n\t * @override\n\t */\n\tdisposeInternal() {\n\t\tthis.events_ = null;\n\t}\n\n\t/**\n\t * Execute each of the listeners in order with the supplied arguments.\n\t * @param {string} event\n\t * @param {*} opt_args [arg1], [arg2], [...]\n\t * @return {boolean} Returns true if event had listeners, false otherwise.\n\t */\n\temit(event) {\n\t\tconst listeners = this.getRawListeners_(event);\n\t\tif (listeners.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst args = array.slice(arguments, 1);\n\t\tthis.runListeners_(listeners, args, this.buildFacade_(event));\n\t\treturn true;\n\t}\n\n\t/**\n\t * Gets the listener objects for the given event, if there are any.\n\t * @param {string} event\n\t * @return {!Array}\n\t * @protected\n\t */\n\tgetRawListeners_(event) {\n\t\tconst directListeners = toArray(this.events_ && this.events_[event]);\n\t\treturn directListeners.concat(toArray(this.events_ && this.events_['*']));\n\t}\n\n\t/**\n\t * Gets the configuration option which determines if an event facade should\n\t * be sent as a param of listeners when emitting events. If set to true, the\n\t * facade will be passed as the first argument of the listener.\n\t * @return {boolean}\n\t */\n\tgetShouldUseFacade() {\n\t\treturn this.shouldUseFacade_;\n\t}\n\n\t/**\n\t * Returns an array of listeners for the specified event.\n\t * @param {string} event\n\t * @return {Array} Array of listeners.\n\t */\n\tlisteners(event) {\n\t\treturn this.getRawListeners_(event).map(\n\t\t\tlistener => listener.fn ? listener.fn : listener\n\t\t);\n\t}\n\n\t/**\n\t * Adds a listener that will be invoked a fixed number of times for the\n\t * events. After each event is triggered the specified amount of times, the\n\t * listener is removed for it.\n\t * @param {!(Array|string)} event\n\t * @param {number} amount The amount of times this event should be listened\n\t * to.\n\t * @param {!Function} listener\n\t * @return {!EventHandle} Can be used to remove the listener.\n\t */\n\tmany(event, amount, listener) {\n\t\tconst events = this.toEventsArray_(event);\n\t\tfor (let i = 0; i < events.length; i++) {\n\t\t\tthis.many_(events[i], amount, listener);\n\t\t}\n\n\t\treturn new EventHandle(this, event, listener);\n\t}\n\n\t/**\n\t * Adds a listener that will be invoked a fixed number of times for a single\n\t * event. After the event is triggered the specified amount of times, the\n\t * listener is removed.\n\t * @param {string} event\n\t * @param {number} amount The amount of times this event should be listened\n\t * to.\n\t * @param {!Function} listener\n\t * @protected\n\t */\n\tmany_(event, amount, listener) {\n\t\tconst self = this;\n\n\t\tif (amount <= 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tfunction handlerInternal() {\n\t\t\tif (--amount === 0) {\n\t\t\t\tself.removeListener(event, handlerInternal);\n\t\t\t}\n\t\t\tlistener.apply(self, arguments);\n\t\t}\n\n\t\tself.addSingleListener_(event, handlerInternal, false, listener);\n\t}\n\n\t/**\n\t * Checks if a listener object matches the given listener function. To match,\n\t * it needs to either point to that listener or have it as its origin.\n\t * @param {!Object} listenerObj\n\t * @param {!Function} listener\n\t * @return {boolean}\n\t * @protected\n\t */\n\tmatchesListener_(listenerObj, listener) {\n\t\tconst fn = listenerObj.fn || listenerObj;\n\t\treturn fn === listener ||\n\t\t\t(listenerObj.origin && listenerObj.origin === listener);\n\t}\n\n\t/**\n\t * Removes a listener for the specified events.\n\t * Caution: changes array indices in the listener array behind the listener.\n\t * @param {!(Array|string)} events\n\t * @param {!Function} listener\n\t * @return {!Object} Returns emitter, so calls can be chained.\n\t */\n\toff(event, listener) {\n\t\tthis.validateListener_(listener);\n\t\tif (!this.events_) {\n\t\t\treturn this;\n\t\t}\n\n\t\tconst events = this.toEventsArray_(event);\n\t\tfor (let i = 0; i < events.length; i++) {\n\t\t\tthis.events_[events[i]] = this.removeMatchingListenerObjs_(\n\t\t\t\ttoArray(this.events_[events[i]]),\n\t\t\t\tlistener\n\t\t\t);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds a listener to the end of the listeners array for the specified events.\n\t * @param {!(Array|string)} events\n\t * @param {!Function} listener\n\t * @return {!EventHandle} Can be used to remove the listener.\n\t */\n\ton() {\n\t\treturn this.addListener.apply(this, arguments);\n\t}\n\n\t/**\n\t * Adds handler that gets triggered when an event is listened to on this\n\t * instance.\n\t * @param {!function()}\n\t */\n\tonListener(handler) {\n\t\tthis.listenerHandlers_ = this.addHandler_(this.listenerHandlers_, handler);\n\t}\n\n\t/**\n\t * Adds a one time listener for the events. This listener is invoked only the\n\t * next time each event is fired, after which it is removed.\n\t * @param {!(Array|string)} events\n\t * @param {!Function} listener\n\t * @return {!EventHandle} Can be used to remove the listener.\n\t */\n\tonce(events, listener) {\n\t\treturn this.many(events, 1, listener);\n\t}\n\n\t/**\n\t * Removes all listeners, or those of the specified events. It's not a good\n\t * idea to remove listeners that were added elsewhere in the code,\n\t * especially when it's on an emitter that you didn't create.\n\t * @param {(Array|string)=} opt_events\n\t * @return {!Object} Returns emitter, so calls can be chained.\n\t */\n\tremoveAllListeners(opt_events) {\n\t\tif (this.events_) {\n\t\t\tif (opt_events) {\n\t\t\t\tconst events = this.toEventsArray_(opt_events);\n\t\t\t\tfor (let i = 0; i < events.length; i++) {\n\t\t\t\t\tthis.events_[events[i]] = null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.events_ = null;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * Removes all listener objects from the given array that match the given\n\t * listener function.\n\t * @param {Array.<Object>} listenerObjs\n\t * @param {!Function} listener\n\t * @return {Array.<Object>|Object} The new listeners array for this event.\n\t * @protected\n\t */\n\tremoveMatchingListenerObjs_(listenerObjs, listener) {\n\t\tconst finalListeners = [];\n\t\tfor (let i = 0; i < listenerObjs.length; i++) {\n\t\t\tif (!this.matchesListener_(listenerObjs[i], listener)) {\n\t\t\t\tfinalListeners.push(listenerObjs[i]);\n\t\t\t}\n\t\t}\n\t\treturn finalListeners.length > 0 ? finalListeners : null;\n\t}\n\n\t/**\n\t * Removes a listener for the specified events.\n\t * Caution: changes array indices in the listener array behind the listener.\n\t * @param {!(Array|string)} events\n\t * @param {!Function} listener\n\t * @return {!Object} Returns emitter, so calls can be chained.\n\t */\n\tremoveListener() {\n\t\treturn this.off.apply(this, arguments);\n\t}\n\n\t/**\n\t * Runs the handlers when an event is listened to.\n\t * @param {string} event\n\t * @protected\n\t */\n\trunListenerHandlers_(event) {\n\t\tlet handlers = this.listenerHandlers_;\n\t\tif (handlers) {\n\t\t\thandlers = toArray(handlers);\n\t\t\tfor (let i = 0; i < handlers.length; i++) {\n\t\t\t\thandlers[i](event);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Runs the given listeners.\n\t * @param {!Array} listeners\n\t * @param {!Array} args\n\t * @param (Object) facade\n\t * @protected\n\t */\n\trunListeners_(listeners, args, facade) {\n\t\tif (facade) {\n\t\t\targs.push(facade);\n\t\t}\n\n\t\tconst defaultListeners = [];\n\t\tfor (let i = 0; i < listeners.length; i++) {\n\t\t\tconst listener = listeners[i].fn || listeners[i];\n\t\t\tif (listeners[i].default) {\n\t\t\t\tdefaultListeners.push(listener);\n\t\t\t} else {\n\t\t\t\tlistener.apply(this, args);\n\t\t\t}\n\t\t}\n\t\tif (!facade || !facade.preventedDefault) {\n\t\t\tfor (let j = 0; j < defaultListeners.length; j++) {\n\t\t\t\tdefaultListeners[j].apply(this, args);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Sets the configuration option which determines if an event facade should\n\t * be sent as a param of listeners when emitting events. If set to true, the\n\t * facade will be passed as the first argument of the listener.\n\t * @param {boolean} shouldUseFacade\n\t * @return {!Object} Returns emitter, so calls can be chained.\n\t */\n\tsetShouldUseFacade(shouldUseFacade) {\n\t\tthis.shouldUseFacade_ = shouldUseFacade;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Converts the parameter to an array if only one event is given. Reuses the\n\t * same array each time this conversion is done, to avoid using more memory\n\t * than necessary.\n\t * @param  {!(Array|string)} events\n\t * @return {!Array}\n\t * @protected\n\t */\n\ttoEventsArray_(events) {\n\t\tif (isString(events)) {\n\t\t\tsingleArray_[0] = events;\n\t\t\tevents = singleArray_;\n\t\t}\n\t\treturn events;\n\t}\n\n\t/**\n\t * Checks if the given listener is valid, throwing an exception when it's not.\n\t * @param  {*} listener\n\t * @protected\n\t */\n\tvalidateListener_(listener) {\n\t\tif (!isFunction(listener)) {\n\t\t\tthrow new TypeError('Listener must be a function');\n\t\t}\n\t}\n}\n\nfunction toArray(val) {\n\tval = val || [];\n\treturn Array.isArray(val) ? val : [val];\n}\n\nexport default EventEmitter;\n","'use strict';\n\nimport { Disposable } from 'metal';\n\n/**\n * EventEmitterProxy utility. It's responsible for linking two EventEmitter\n * instances together, emitting events from the first emitter through the\n * second one. That means that listening to a supported event on the target\n * emitter will mean listening to it on the origin emitter as well.\n * @param {EventEmitter} originEmitter Events originated on this emitter\n *   will be fired for the target emitter's listeners as well.\n * @param {EventEmitter} targetEmitter Event listeners attached to this emitter\n *   will also be triggered when the event is fired by the origin emitter.\n * @param {Object} opt_blacklist Optional blacklist of events that should not be\n *   proxied.\n * @constructor\n * @extends {Disposable}\n */\nclass EventEmitterProxy extends Disposable {\n\tconstructor(originEmitter, targetEmitter, opt_blacklist, opt_whitelist) {\n\t\tsuper();\n\n\t\t/**\n\t\t * Map of events that should not be proxied.\n\t\t * @type {Object}\n\t\t * @protected\n\t\t */\n\t\tthis.blacklist_ = opt_blacklist;\n\n\t\t/**\n\t\t * The origin emitter. This emitter's events will be proxied through the\n\t\t * target emitter.\n\t\t * @type {EventEmitter}\n\t\t * @protected\n\t\t */\n\t\tthis.originEmitter_ = originEmitter;\n\n\t\t/**\n\t\t * A list of events that are pending to be listened by an actual origin\n\t\t * emitter. Events are stored here when the origin doesn't exist, so they\n\t\t * can be set on a new origin when one is set.\n\t\t * @type {Array}\n\t\t * @protected\n\t\t */\n\t\tthis.pendingEvents_ = null;\n\n\t\t/**\n\t\t * Holds a map of events from the origin emitter that are already being proxied.\n\t\t * @type {Object<string, !EventHandle>}\n\t\t * @protected\n\t\t */\n\t\tthis.proxiedEvents_ = null;\n\n\t\t/**\n\t\t * The target emitter. This emitter will emit all events that come from\n\t\t * the origin emitter.\n\t\t * @type {EventEmitter}\n\t\t * @protected\n\t\t */\n\t\tthis.targetEmitter_ = targetEmitter;\n\n\t\t/**\n\t\t * Map of events that should be proxied. If whitelist is set blacklist is ignored.\n\t\t * @type {Object}\n\t\t * @protected\n\t\t */\n\t\tthis.whitelist_ = opt_whitelist;\n\n\t\tthis.startProxy_();\n\t}\n\n\t/**\n\t * Adds the given listener for the given event.\n\t * @param {string} event\n\t * @param {!function()} listener\n\t * @return {!EventHandle} The listened event's handle.\n\t * @protected\n\t */\n\taddListener_(event, listener) {\n\t\treturn this.originEmitter_.on(event, listener);\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tthis.removeListeners_();\n\t\tthis.proxiedEvents_ = null;\n\t\tthis.originEmitter_ = null;\n\t\tthis.targetEmitter_ = null;\n\t}\n\n\t/**\n\t * Emits the specified event type on the target emitter.\n\t * @protected\n\t */\n\temitOnTarget_() {\n\t\tthis.targetEmitter_.emit.apply(this.targetEmitter_, arguments);\n\t}\n\n\t/**\n\t * Proxies the given event from the origin to the target emitter.\n\t * @param {string} event\n\t */\n\tproxyEvent(event) {\n\t\tif (this.shouldProxyEvent_(event)) {\n\t\t\tthis.tryToAddListener_(event);\n\t\t}\n\t}\n\n\t/**\n\t * Removes the proxy listener for all events.\n\t * @protected\n\t */\n\tremoveListeners_() {\n\t\tif (this.proxiedEvents_) {\n\t\t\tconst events = Object.keys(this.proxiedEvents_);\n\t\t\tfor (let i = 0; i < events.length; i++) {\n\t\t\t\tthis.proxiedEvents_[events[i]].removeListener();\n\t\t\t}\n\t\t\tthis.proxiedEvents_ = null;\n\t\t}\n\t\tthis.pendingEvents_ = null;\n\t}\n\n\t/**\n\t * Changes the origin emitter. This automatically detaches any events that\n\t * were already being proxied from the previous emitter, and starts proxying\n\t * them on the new emitter instead.\n\t * @param {!EventEmitter} originEmitter\n\t */\n\tsetOriginEmitter(originEmitter) {\n\t\tconst events = this.originEmitter_ && this.proxiedEvents_ ?\n\t\t\tObject.keys(this.proxiedEvents_) :\n\t\t\tthis.pendingEvents_;\n\t\tthis.originEmitter_ = originEmitter;\n\t\tif (events) {\n\t\t\tthis.removeListeners_();\n\t\t\tevents.forEach(event => this.proxyEvent(event));\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given event should be proxied.\n\t * @param {string} event\n\t * @return {boolean}\n\t * @protected\n\t */\n\tshouldProxyEvent_(event) {\n\t\tif (this.whitelist_ && !this.whitelist_[event]) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.blacklist_ && this.blacklist_[event]) {\n\t\t\treturn false;\n\t\t}\n\t\treturn !this.proxiedEvents_ || !this.proxiedEvents_[event];\n\t}\n\n\t/**\n\t * Starts proxying all events from the origin to the target emitter.\n\t * @protected\n\t */\n\tstartProxy_() {\n\t\tthis.targetEmitter_.onListener(this.proxyEvent.bind(this));\n\t}\n\n\t/**\n\t * Adds a listener to the origin emitter, if it exists. Otherwise, stores\n\t * the pending listener so it can be used on a future origin emitter.\n\t * @param {string} event\n\t * @protected\n\t */\n\ttryToAddListener_(event) {\n\t\tif (this.originEmitter_) {\n\t\t\tthis.proxiedEvents_ = this.proxiedEvents_ || {};\n\t\t\tthis.proxiedEvents_[event] = this.addListener_(\n\t\t\t\tevent,\n\t\t\t\tthis.emitOnTarget_.bind(this, event)\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pendingEvents_ = this.pendingEvents_ || [];\n\t\t\tthis.pendingEvents_.push(event);\n\t\t}\n\t}\n}\n\nexport default EventEmitterProxy;\n","'use strict';\n\nimport { Disposable } from 'metal';\n\n/**\n * EventHandler utility. It's useful for easily removing a group of\n * listeners from different EventEmitter instances.\n * @constructor\n * @extends {Disposable}\n */\nclass EventHandler extends Disposable {\n\tconstructor() {\n\t\tsuper();\n\n\t\t/**\n\t\t * An array that holds the added event handles, so the listeners can be\n\t\t * removed later.\n\t\t * @type {Array.<EventHandle>}\n\t\t * @protected\n\t\t */\n\t\tthis.eventHandles_ = [];\n\t}\n\n\t/**\n\t * Adds event handles to be removed later through the `removeAllListeners`\n\t * method.\n\t * @param {...(!EventHandle)} var_args\n\t */\n\tadd() {\n\t\tfor (let i = 0; i < arguments.length; i++) {\n\t\t\tthis.eventHandles_.push(arguments[i]);\n\t\t}\n\t}\n\n\t/**\n\t * Disposes of this instance's object references.\n\t * @override\n\t */\n\tdisposeInternal() {\n\t\tthis.eventHandles_ = null;\n\t}\n\n\t/**\n\t * Removes all listeners that have been added through the `add` method.\n\t */\n\tremoveAllListeners() {\n\t\tfor (let i = 0; i < this.eventHandles_.length; i++) {\n\t\t\tthis.eventHandles_[i].removeListener();\n\t\t}\n\n\t\tthis.eventHandles_ = [];\n\t}\n}\n\nexport default EventHandler;\n","'use strict';\n\nimport { getFunctionName, isFunction, isObject, isString } from 'metal';\n\n/**\n * Adds the listeners specified in the given object.\n * @param {!Component} component\n * @param {Object} events\n * @return {!Array<!EventHandle>} Handles from all subscribed events.\n */\nexport function addListenersFromObj(component, events) {\n\tconst eventNames = Object.keys(events || {});\n\tconst handles = [];\n\tfor (let i = 0; i < eventNames.length; i++) {\n\t\tconst info = extractListenerInfo_(component, events[eventNames[i]]);\n\t\tif (info.fn) {\n\t\t\tlet handle;\n\t\t\tif (info.selector) {\n\t\t\t\thandle = component.delegate(eventNames[i], info.selector, info.fn);\n\t\t\t} else {\n\t\t\t\thandle = component.on(eventNames[i], info.fn);\n\t\t\t}\n\t\t\thandles.push(handle);\n\t\t}\n\t}\n\treturn handles;\n}\n\n/**\n * Extracts listener info from the given value.\n * @param {!Component} component\n * @param {!Component} component\n * @param {function()|string|{selector:string,fn:function()|string}} value\n * @return {!{selector:string,fn:function()}}\n * @protected\n */\nfunction extractListenerInfo_(component, value) {\n\tconst info = {\n\t\tfn: value\n\t};\n\tif (isObject(value) && !isFunction(value)) {\n\t\tinfo.selector = value.selector;\n\t\tinfo.fn = value.fn;\n\t}\n\tif (isString(info.fn)) {\n\t\tinfo.fn = getComponentFn(component, info.fn);\n\t}\n\treturn info;\n}\n\n/**\n * Gets the listener function from its name. Throws an error if none exist.\n * @param {!Component} component\n * @param {string} fnName\n * @return {function()}\n */\nexport function getComponentFn(component, fnName) {\n\tif (isFunction(component[fnName])) {\n\t\treturn component[fnName].bind(component);\n\t} else {\n\t\tconsole.error(`No function named ${fnName} was found in the component\n\t\t\t\"${getFunctionName(component.constructor)}\". Make sure that you specify\n\t\t\tvalid function names when adding inline listeners`\n\t\t);\n\t}\n}\n","'use strict';\n\nimport { array, isString } from 'metal';\nimport domData from './domData';\nimport { EventHandle } from 'metal-events';\n\n/**\n * This is a special EventHandle, that is responsible for dom delegated events\n * (only the ones that receive a target element, not a selector string).\n * @extends {EventHandle}\n */\nclass DomDelegatedEventHandle extends EventHandle {\n\t/**\n\t * The constructor for `DomDelegatedEventHandle`.\n\t * @param {!Event} emitter Element the event was subscribed to.\n\t * @param {string} event The name of the event that was subscribed to.\n\t * @param {!Function} listener The listener subscribed to the event.\n\t * @param {string=} opt_selector An optional selector used when delegating\n\t *     the event.\n\t * @constructor\n\t */\n\tconstructor(emitter, event, listener, opt_selector) {\n\t\tsuper(emitter, event, listener);\n\t\tthis.selector_ = opt_selector;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tremoveListener() {\n\t\tconst delegating = domData.get(this.emitter_, 'delegating', {});\n\t\tconst listeners = domData.get(this.emitter_, 'listeners', {});\n\t\tconst selector = this.selector_;\n\t\tconst arr = isString(selector) ? delegating[this.event_].selectors : listeners;\n\t\tconst key = isString(selector) ? selector : this.event_;\n\n\t\tarray.remove(arr[key] || [], this.listener_);\n\t\tif (arr[key] && arr[key].length === 0) {\n\t\t\tdelete arr[key];\n\t\t}\n\t}\n}\n\nexport default DomDelegatedEventHandle;\n","'use strict';\n\nimport { EventHandle } from 'metal-events';\n\n/**\n * This is a special EventHandle, that is responsible for dom events, instead\n * of EventEmitter events.\n * @extends {EventHandle}\n */\nclass DomEventHandle extends EventHandle {\n\t/**\n\t * The constructor for `DomEventHandle`.\n\t * @param {!EventEmitter} emitter Emitter the event was subscribed to.\n\t * @param {string} event The name of the event that was subscribed to.\n\t * @param {!Function} listener The listener subscribed to the event.\n\t * @param {boolean} opt_capture Flag indicating if listener should be triggered\n\t *   during capture phase, instead of during the bubbling phase. Defaults to false.\n\t * @constructor\n\t */\n\tconstructor(emitter, event, listener, opt_capture) {\n\t\tsuper(emitter, event, listener);\n\t\tthis.capture_ = opt_capture;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tremoveListener() {\n\t\tthis.emitter_.removeEventListener(this.event_, this.listener_, this.capture_);\n\t}\n}\n\nexport default DomEventHandle;\n","'use strict';\n\nimport { isDef, isDocument, isElement, isObject, isString, object } from 'metal';\nimport domData from './domData';\nimport DomDelegatedEventHandle from './DomDelegatedEventHandle';\nimport DomEventHandle from './DomEventHandle';\n\nconst elementsByTag_ = {};\nconst supportCache_ = {};\nexport const customEvents = {};\n\nconst LAST_CONTAINER = '__metal_last_container__';\nconst USE_CAPTURE = {\n\tblur: true,\n\terror: true,\n\tfocus: true,\n\tinvalid: true,\n\tload: true,\n\tscroll: true\n};\n\n/**\n * Adds the requested CSS classes to an element.\n * @param {!Element|!Nodelist} elements The element or elements to add CSS classes to.\n * @param {string} classes CSS classes to add.\n */\nexport function addClasses(elements, classes) {\n\tif (!isObject(elements) || !isString(classes)) {\n\t\treturn;\n\t}\n\n\tif (!elements.length) {\n\t\telements = [elements];\n\t}\n\n\tfor (let i = 0; i < elements.length; i++) {\n\t\tif ('classList' in elements[i]) {\n\t\t\taddClassesWithNative_(elements[i], classes);\n\t\t} else {\n\t\t\taddClassesWithoutNative_(elements[i], classes);\n\t\t}\n\t}\n}\n\n/**\n * Adds the requested CSS classes to an element using classList.\n * @param {!Element} element The element to add CSS classes to.\n * @param {string} classes CSS classes to add.\n * @private\n */\nfunction addClassesWithNative_(element, classes) {\n\tclasses.split(' ').forEach(function(className) {\n\t\tif (className) {\n\t\t\telement.classList.add(className);\n\t\t}\n\t});\n}\n\n/**\n * Adds the requested CSS classes to an element without using classList.\n * @param {!Element} element The element to add CSS classes to.\n * @param {string} classes CSS classes to add.\n * @private\n */\nfunction addClassesWithoutNative_(element, classes) {\n\tconst elementClassName = ` ${element.className} `;\n\tlet classesToAppend = '';\n\n\tclasses = classes.split(' ');\n\n\tfor (let i = 0; i < classes.length; i++) {\n\t\tconst className = classes[i];\n\n\t\tif (elementClassName.indexOf(` ${className} `) === -1) {\n\t\t\tclassesToAppend += ` ${className}`;\n\t\t}\n\t}\n\n\tif (classesToAppend) {\n\t\telement.className = element.className + classesToAppend;\n\t}\n}\n\n/**\n * Adds an event listener to the given element, to be triggered via delegate.\n * @param {!Element} element\n * @param {string} eventName\n * @param {!function()} listener\n * @private\n */\nfunction addElementListener_(element, eventName, listener) {\n\taddToArr_(domData.get(element, 'listeners', {}), eventName, listener);\n}\n\n/**\n * Adds an event listener to the given element, to be triggered via delegate\n * selectors.\n * @param {!Element} element\n * @param {string} eventName\n * @param {string} selector\n * @param {!function()} listener\n * @private\n */\nfunction addSelectorListener_(element, eventName, selector, listener) {\n\tconst delegatingData = domData.get(element, 'delegating', {});\n\taddToArr_(delegatingData[eventName].selectors, selector, listener);\n}\n\n/**\n * Adds a value to an array inside an object, creating it first if it doesn't\n * yet exist.\n * @param {!Array} arr\n * @param {string} key\n * @param {*} value\n * @private\n */\nfunction addToArr_(arr, key, value) {\n\tif (!arr[key]) {\n\t\tarr[key] = [];\n\t}\n\tarr[key].push(value);\n}\n\n/**\n * Attaches a delegate listener, unless there's already one attached.\n * @param {!Element} element\n * @param {string} eventName\n * @private\n */\nfunction attachDelegateEvent_(element, eventName) {\n\tlet delegatingData = domData.get(element, 'delegating', {});\n\tif (!delegatingData[eventName]) {\n\t\tdelegatingData[eventName] = {\n\t\t\thandle: on(\n\t\t\t\telement,\n\t\t\t\teventName,\n\t\t\t\thandleDelegateEvent_,\n\t\t\t\t!!USE_CAPTURE[eventName]\n\t\t\t),\n\t\t\tselectors: {}\n\t\t};\n\t}\n}\n\n/**\n * Gets the closest element up the tree from the given element (including\n * itself) that matches the specified selector, or null if none match.\n * @param {Element} element\n * @param {string} selector\n * @return {Element}\n */\nexport function closest(element, selector) {\n\twhile (element && !match(element, selector)) {\n\t\telement = element.parentNode;\n\t}\n\treturn element;\n}\n\n/**\n * Appends a child node with text or other nodes to a parent node. If\n * child is a HTML string it will be automatically converted to a document\n * fragment before appending it to the parent.\n * @param {!Element} parent The node to append nodes to.\n * @param {!(Element|NodeList|string)} child The thing to append to the parent.\n * @return {!Element} The appended child.\n */\nexport function append(parent, child) {\n\tif (isString(child)) {\n\t\tchild = buildFragment(child);\n\t}\n\tif (child instanceof NodeList) {\n\t\tconst childArr = Array.prototype.slice.call(child);\n\t\tfor (let i = 0; i < childArr.length; i++) {\n\t\t\tparent.appendChild(childArr[i]);\n\t\t}\n\t} else {\n\t\tparent.appendChild(child);\n\t}\n\treturn child;\n}\n\n/**\n * Helper for converting a HTML string into a document fragment.\n * @param {string} htmlString The HTML string to convert.\n * @return {!Element} The resulting document fragment.\n */\nexport function buildFragment(htmlString) {\n\tconst tempDiv = document.createElement('div');\n\ttempDiv.innerHTML = `<br>${htmlString}`;\n\ttempDiv.removeChild(tempDiv.firstChild);\n\n\tconst fragment = document.createDocumentFragment();\n\twhile (tempDiv.firstChild) {\n\t\tfragment.appendChild(tempDiv.firstChild);\n\t}\n\treturn fragment;\n}\n\n/**\n * Checks if the first element contains the second one.\n * @param {!Element} element1\n * @param {!Element} element2\n * @return {boolean}\n */\nexport function contains(element1, element2) {\n\tif (isDocument(element1)) {\n\t\t// document.contains is not defined on IE9, so call it on documentElement instead.\n\t\treturn element1.documentElement.contains(element2);\n\t} else {\n\t\treturn element1.contains(element2);\n\t}\n}\n\n/**\n * Listens to the specified event on the given DOM element, but only calls the\n * given callback listener when it's triggered by elements that match the\n * given selector or target element.\n * @param {!Element} element The DOM element the event should be listened on.\n * @param {string} eventName The name of the event to listen to.\n * @param {!Element|string} selectorOrTarget Either an element or css selector\n *     that should match the event for the listener to be triggered.\n * @param {!function(!Object)} callback Function to be called when the event\n *     is triggered. It will receive the normalized event object.\n * @param {boolean=} opt_default Optional flag indicating if this is a default\n *     listener. That means that it would only be executed after all non\n *     default listeners, and only if the event isn't prevented via\n *     `preventDefault`.\n * @return {!EventHandle} Can be used to remove the listener.\n */\nexport function delegate(element, eventName, selectorOrTarget, callback, opt_default) {\n\tconst customConfig = customEvents[eventName];\n\tif (customConfig && customConfig.delegate) {\n\t\teventName = customConfig.originalEvent;\n\t\tcallback = customConfig.handler.bind(customConfig, callback);\n\t}\n\n\tif (opt_default) {\n\t\t// Wrap callback so we don't set property directly on it.\n\t\tcallback = callback.bind();\n\t\tcallback.defaultListener_ = true;\n\t}\n\n\tattachDelegateEvent_(element, eventName);\n\tif (isString(selectorOrTarget)) {\n\t\taddSelectorListener_(element, eventName, selectorOrTarget, callback);\n\t} else {\n\t\taddElementListener_(selectorOrTarget, eventName, callback);\n\t}\n\n\treturn new DomDelegatedEventHandle(\n\t\tisString(selectorOrTarget) ? element : selectorOrTarget,\n\t\teventName,\n\t\tcallback,\n\t\tisString(selectorOrTarget) ? selectorOrTarget : null\n\t);\n}\n\n/**\n * Verifies if the element is able to trigger the Click event,\n * simulating browsers behaviour, avoiding event listeners to be called by triggerEvent method.\n * @param {Element} node Element to be checked.\n * @param {string} eventName The event name.\n * @private\n */\nfunction isAbleToInteractWith_(node, eventName, opt_eventObj) {\n\tif (opt_eventObj && eventName === 'click' && opt_eventObj.button === 2) {\n\t\t// Firefox triggers \"click\" events on the document for right clicks. This\n\t\t// causes our delegate logic to trigger it for regular elements too, which\n\t\t// shouldn't happen. Ignoring them here.\n\t\treturn false;\n\t}\n\n\tconst matchesSelector = ['BUTTON', 'INPUT', 'SELECT', 'TEXTAREA', 'FIELDSET'];\n\tif (eventName === 'click' && matchesSelector.indexOf(node.tagName) > -1) {\n\t\treturn !(node.disabled || parent(node, 'fieldset[disabled]'));\n\t}\n\treturn true;\n}\n\n/**\n * Inserts node in document as last element.\n * @param {Element} node Element to remove children from.\n */\nexport function enterDocument(node) {\n\tnode && append(document.body, node);\n}\n\n/**\n * Removes node from document.\n * @param {Element} node Element to remove children from.\n */\nexport function exitDocument(node) {\n\tif (node && node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * This is called when an event is triggered by a delegate listener. All\n * matching listeners of this event type from `target` to `currentTarget` will\n * be triggered.\n * @param {!Event} event The event payload.\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction handleDelegateEvent_(event) {\n\tnormalizeDelegateEvent_(event);\n\tlet ret = true;\n\tconst container = event.currentTarget;\n\tconst defFns = [];\n\n\tret &= triggerDelegatedListeners_(container, event, defFns);\n\tret &= triggerDefaultDelegatedListeners_(defFns, event);\n\n\tevent.delegateTarget = null;\n\tevent[LAST_CONTAINER] = container;\n\treturn ret;\n}\n\n/**\n * Checks if the given element has the requested css class.\n * @param {!Element} element\n * @param {string} className\n * @return {boolean}\n */\nexport function hasClass(element, className) {\n\tif ('classList' in element) {\n\t\treturn hasClassWithNative_(element, className);\n\t} else {\n\t\treturn hasClassWithoutNative_(element, className);\n\t}\n}\n\n/**\n * Checks if the given element has the requested css class using classList.\n * @param {!Element} element\n * @param {string} className\n * @return {boolean}\n * @private\n */\nfunction hasClassWithNative_(element, className) {\n\treturn element.classList.contains(className);\n}\n\n/**\n * Checks if the given element has the requested css class without using classList.\n * @param {!Element} element\n * @param {string} className\n * @return {boolean}\n * @private\n */\nfunction hasClassWithoutNative_(element, className) {\n\treturn (` ${element.className} `).indexOf(` ${className} `) >= 0;\n}\n\n/**\n * Checks if the given element is empty or not.\n * @param {!Element} element\n * @return {boolean}\n */\nexport function isEmpty(element) {\n\treturn element.childNodes.length === 0;\n}\n\n/**\n * Check if an element matches a given selector.\n * @param {Element} element\n * @param {string} selector\n * @return {boolean}\n */\nexport function match(element, selector) {\n\tif (!element || element.nodeType !== 1) {\n\t\treturn false;\n\t}\n\n\tconst p = Element.prototype;\n\tconst m = p.matches || p.webkitMatchesSelector || p.mozMatchesSelector || p.msMatchesSelector || p.oMatchesSelector;\n\tif (m) {\n\t\treturn m.call(element, selector);\n\t}\n\n\treturn matchFallback_(element, selector);\n}\n\n/**\n * Check if an element matches a given selector, using an internal implementation\n * instead of calling existing javascript functions.\n * @param {Element} element\n * @param {string} selector\n * @return {boolean}\n * @private\n */\nfunction matchFallback_(element, selector) {\n\tconst nodes = document.querySelectorAll(selector, element.parentNode);\n\tfor (let i = 0; i < nodes.length; ++i) {\n\t\tif (nodes[i] === element) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\n/**\n * Returns the next sibling of the given element that matches the specified\n * selector, or null if there is none.\n * @param {!Element} element\n * @param {?string} selector\n */\nexport function next(element, selector) {\n\tdo {\n\t\telement = element.nextSibling;\n\t\tif (element && match(element, selector)) {\n\t\t\treturn element;\n\t\t}\n\t} while (element);\n\treturn null;\n}\n\n/**\n * Normalizes the event payload for delegate listeners.\n * @param {!Event} event\n * @private\n */\nfunction normalizeDelegateEvent_(event) {\n\tevent.stopPropagation = stopPropagation_;\n\tevent.stopImmediatePropagation = stopImmediatePropagation_;\n}\n\n/**\n * Listens to the specified event on the given DOM element. This function normalizes\n * DOM event payloads and functions so they'll work the same way on all supported\n * browsers.\n * @param {!Element|string} element The DOM element to listen to the event on, or\n *   a selector that should be delegated on the entire document.\n * @param {string} eventName The name of the event to listen to.\n * @param {!function(!Object)} callback Function to be called when the event is\n *   triggered. It will receive the normalized event object.\n * @param {boolean} opt_capture Flag indicating if listener should be triggered\n *   during capture phase, instead of during the bubbling phase. Defaults to false.\n * @return {!DomEventHandle} Can be used to remove the listener.\n */\nexport function on(element, eventName, callback, opt_capture) {\n\tif (isString(element)) {\n\t\treturn delegate(document, eventName, element, callback);\n\t}\n\tconst customConfig = customEvents[eventName];\n\tif (customConfig && customConfig.event) {\n\t\teventName = customConfig.originalEvent;\n\t\tcallback = customConfig.handler.bind(customConfig, callback);\n\t}\n\telement.addEventListener(eventName, callback, opt_capture);\n\treturn new DomEventHandle(element, eventName, callback, opt_capture);\n}\n\n/**\n * Listens to the specified event on the given DOM element once. This\n * function normalizes DOM event payloads and functions so they'll work the\n * same way on all supported browsers.\n * @param {!Element} element The DOM element to listen to the event on.\n * @param {string} eventName The name of the event to listen to.\n * @param {!function(!Object)} callback Function to be called when the event\n *   is triggered. It will receive the normalized event object.\n * @return {!DomEventHandle} Can be used to remove the listener.\n */\nexport function once(element, eventName, callback) {\n\tconst domEventHandle = on(element, eventName, function() {\n\t\tdomEventHandle.removeListener();\n\t\treturn callback.apply(this, arguments);\n\t});\n\treturn domEventHandle;\n}\n\n/**\n * Gets the first parent from the given element that matches the specified\n * selector, or null if none match.\n * @param {!Element} element\n * @param {string} selector\n * @return {Element}\n */\nexport function parent(element, selector) {\n\treturn closest(element.parentNode, selector);\n}\n\n/**\n * Registers a custom event.\n * @param {string} eventName The name of the custom event.\n * @param {!Object} customConfig An object with information about how the event\n *   should be handled.\n */\nexport function registerCustomEvent(eventName, customConfig) {\n\tcustomEvents[eventName] = customConfig;\n}\n\n/**\n * Removes all the child nodes on a DOM node.\n * @param {Element} node Element to remove children from.\n */\nexport function removeChildren(node) {\n\tlet child;\n\twhile ((child = node.firstChild)) {\n\t\tnode.removeChild(child);\n\t}\n}\n\n/**\n * Removes the requested CSS classes from an element.\n * @param {!Element|!NodeList} elements The element or elements to remove CSS classes from.\n * @param {string} classes CSS classes to remove.\n */\nexport function removeClasses(elements, classes) {\n\tif (!isObject(elements) || !isString(classes)) {\n\t\treturn;\n\t}\n\n\tif (!elements.length) {\n\t\telements = [elements];\n\t}\n\n\tfor (let i = 0; i < elements.length; i++) {\n\t\tif ('classList' in elements[i]) {\n\t\t\tremoveClassesWithNative_(elements[i], classes);\n\t\t} else {\n\t\t\tremoveClassesWithoutNative_(elements[i], classes);\n\t\t}\n\t}\n}\n\n/**\n * Removes the requested CSS classes from an element using classList.\n * @param {!Element} element The element to remove CSS classes from.\n * @param {string} classes CSS classes to remove.\n * @private\n */\nfunction removeClassesWithNative_(element, classes) {\n\tclasses.split(' ').forEach(function(className) {\n\t\tif (className) {\n\t\t\telement.classList.remove(className);\n\t\t}\n\t});\n}\n\n/**\n * Removes the requested CSS classes from an element without using classList.\n * @param {!Element} element The element to remove CSS classes from.\n * @param {string} classes CSS classes to remove.\n * @private\n */\nfunction removeClassesWithoutNative_(element, classes) {\n\tlet elementClassName = ` ${element.className} `;\n\n\tclasses = classes.split(' ');\n\n\tfor (let i = 0; i < classes.length; i++) {\n\t\telementClassName = elementClassName.replace(` ${classes[i]} `, ' ');\n\t}\n\n\telement.className = elementClassName.trim();\n}\n\n/**\n * Replaces the first element with the second.\n * @param {Element} element1\n * @param {Element} element2\n */\nexport function replace(element1, element2) {\n\tif (element1 && element2 && element1 !== element2 && element1.parentNode) {\n\t\telement1.parentNode.insertBefore(element2, element1);\n\t\telement1.parentNode.removeChild(element1);\n\t}\n}\n\n/**\n * The function that replaces `stopImmediatePropagation_` for events.\n * @private\n */\nfunction stopImmediatePropagation_() {\n\tconst event = this; // eslint-disable-line\n\tevent.stopped = true;\n\tevent.stoppedImmediate = true;\n\tEvent.prototype.stopImmediatePropagation.call(event);\n}\n\n/**\n * The function that replaces `stopPropagation` for events.\n * @private\n */\nfunction stopPropagation_() {\n\tconst event = this; // eslint-disable-line\n\tevent.stopped = true;\n\tEvent.prototype.stopPropagation.call(event);\n}\n\n/**\n * Checks if the given element supports the given event type.\n * @param {!Element|string} element The DOM element or element tag name to check.\n * @param {string} eventName The name of the event to check.\n * @return {boolean}\n */\nexport function supportsEvent(element, eventName) {\n\tif (customEvents[eventName]) {\n\t\treturn true;\n\t}\n\n\tif (isString(element)) {\n\t\tif (!elementsByTag_[element]) {\n\t\t\telementsByTag_[element] = document.createElement(element);\n\t\t}\n\t\telement = elementsByTag_[element];\n\t}\n\n\tconst tag = element.tagName;\n\tif (!supportCache_[tag] || !supportCache_[tag].hasOwnProperty(eventName)) {\n\t\tsupportCache_[tag] = supportCache_[tag] || {};\n\t\tsupportCache_[tag][eventName] = 'on' + eventName in element;\n\t}\n\treturn supportCache_[tag][eventName];\n}\n\n/**\n * This triggers all default matched delegated listeners of a given event type.\n * @param {!Array} defaultFns Array to collect default listeners in, instead\n * @param {!Event} event\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction triggerDefaultDelegatedListeners_(defFns, event) {\n\tlet ret = true;\n\n\tfor (let i = 0; i < defFns.length && !event.defaultPrevented; i++) {\n\t\tevent.delegateTarget = defFns[i].element;\n\t\tret &= defFns[i].fn(event);\n\t}\n\n\treturn ret;\n}\n\n/**\n * This triggers all matched delegated listeners of a given event type when its\n * delegated target is able to interact.\n * @param {!Element} container\n * @param {!Event} event\n * @param {!Array} defaultFns Array to collect default listeners in, instead\n *     of running them.\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction triggerDelegatedListeners_(container, event, defaultFns) {\n\tlet ret = true;\n\tlet currElement = event.target;\n\tconst limit = container.parentNode;\n\n\twhile (currElement && currElement !== limit && !event.stopped) {\n\t\tif (isAbleToInteractWith_(currElement, event.type, event)) {\n\t\t\tevent.delegateTarget = currElement;\n\t\t\tret &= triggerElementListeners_(currElement, event, defaultFns);\n\t\t\tret &= triggerSelectorListeners_(container, currElement, event, defaultFns);\n\t\t}\n\t\tcurrElement = currElement.parentNode;\n\t}\n\n\treturn ret;\n}\n\n/**\n * Converts the given argument to a DOM element. Strings are assumed to\n * be selectors, and so a matched element will be returned. If the arg\n * is already a DOM element it will be the return value.\n * @param {string|Element|Document} selectorOrElement\n * @return {Element} The converted element, or null if none was found.\n */\nexport function toElement(selectorOrElement) {\n\tif (isElement(selectorOrElement) || isDocument(selectorOrElement)) {\n\t\treturn selectorOrElement;\n\t} else if (isString(selectorOrElement)) {\n\t\tif (selectorOrElement[0] === '#' && selectorOrElement.indexOf(' ') === -1) {\n\t\t\treturn document.getElementById(selectorOrElement.substr(1));\n\t\t} else {\n\t\t\treturn document.querySelector(selectorOrElement);\n\t\t}\n\t} else {\n\t\treturn null;\n\t}\n}\n\n/**\n * Adds or removes one or more classes from an element. If any of the classes\n * is present, it will be removed from the element, or added otherwise.\n * @param {!Element} element The element which classes will be toggled.\n * @param {string} classes The classes which have to added or removed from the element.\n */\nexport function toggleClasses(element, classes) {\n\tif (!isObject(element) || !isString(classes)) {\n\t\treturn;\n\t}\n\n\tif ('classList' in element) {\n\t\ttoggleClassesWithNative_(element, classes);\n\t} else {\n\t\ttoggleClassesWithoutNative_(element, classes);\n\t}\n}\n\n/**\n * Adds or removes one or more classes from an element using classList.\n * If any of the classes is present, it will be removed from the element,\n * or added otherwise.\n * @param {!Element} element The element which classes will be toggled.\n * @param {string} classes The classes which have to added or removed from the element.\n * @private\n */\nfunction toggleClassesWithNative_(element, classes) {\n\tclasses.split(' ').forEach(function(className) {\n\t\telement.classList.toggle(className);\n\t});\n}\n\n/**\n * Adds or removes one or more classes from an element without using classList.\n * If any of the classes is present, it will be removed from the element,\n * or added otherwise.\n * @param {!Element} element The element which classes will be toggled.\n * @param {string} classes The classes which have to added or removed from the element.\n * @private\n */\nfunction toggleClassesWithoutNative_(element, classes) {\n\tlet elementClassName = ` ${element.className} `;\n\n\tclasses = classes.split(' ');\n\n\tfor (let i = 0; i < classes.length; i++) {\n\t\tconst className = ` ${classes[i]} `;\n\t\tconst classIndex = elementClassName.indexOf(className);\n\n\t\tif (classIndex === -1) {\n\t\t\telementClassName = `${elementClassName}${classes[i]} `;\n\t\t} else {\n\t\t\tconst before = elementClassName.substring(0, classIndex);\n\t\t\tconst after = elementClassName.substring(classIndex + className.length);\n\t\t\telementClassName = `${before} ${after}`;\n\t\t}\n\t}\n\n\telement.className = elementClassName.trim();\n}\n\n/**\n * Triggers all listeners for the given event type that are stored in the\n * specified element.\n * @param {!Element} element\n * @param {!Event} event\n * @param {!Array} defaultFns Array to collect default listeners in, instead\n *     of running them.\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction triggerElementListeners_(element, event, defaultFns) {\n\tconst lastContainer = event[LAST_CONTAINER];\n\tif (!isDef(lastContainer) || !contains(lastContainer, element)) {\n\t\tconst listeners = domData.get(element, 'listeners', {})[event.type];\n\t\treturn triggerListeners_(listeners, event, element, defaultFns);\n\t}\n\treturn true;\n}\n\n/**\n * Triggers the specified event on the given element.\n * NOTE: This should mostly be used for testing, not on real code.\n * @param {!Element} element The node that should trigger the event.\n * @param {string} eventName The name of the event to be triggred.\n * @param {Object=} opt_eventObj An object with data that should be on the\n *   triggered event's payload.\n */\nexport function triggerEvent(element, eventName, opt_eventObj) {\n\tif (isAbleToInteractWith_(element, eventName, opt_eventObj)) {\n\t\tconst eventObj = document.createEvent('HTMLEvents');\n\t\teventObj.initEvent(eventName, true, true);\n\t\tobject.mixin(eventObj, opt_eventObj);\n\t\telement.dispatchEvent(eventObj);\n\t}\n}\n\n/**\n * Triggers the given listeners array.\n * @param {Array<!function()>} listeners\n * @param {!Event} event\n * @param {!Element} element\n * @param {!Array} defaultFns Array to collect default listeners in, instead\n *     of running them.\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction triggerListeners_(listeners, event, element, defaultFns) {\n\tlet ret = true;\n\tlisteners = listeners || [];\n\tfor (let i = 0; i < listeners.length && !event.stoppedImmediate; i++) {\n\t\tif (listeners[i].defaultListener_) {\n\t\t\tdefaultFns.push({\n\t\t\t\telement,\n\t\t\t\tfn: listeners[i]\n\t\t\t});\n\t\t} else {\n\t\t\tret &= listeners[i](event);\n\t\t}\n\t}\n\treturn ret;\n}\n\n/**\n * Triggers all selector listeners for the given event.\n * @param {!Element} container\n * @param {!Element} element\n * @param {!Event} event\n * @param {!Array} defaultFns Array to collect default listeners in, instead\n *     of running them.\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction triggerSelectorListeners_(container, element, event, defaultFns) {\n\tlet ret = true;\n\tconst data = domData.get(container, 'delegating', {});\n\tconst map = data[event.type].selectors;\n\tconst selectors = Object.keys(map);\n\tfor (let i = 0; i < selectors.length && !event.stoppedImmediate; i++) {\n\t\tif (match(element, selectors[i])) {\n\t\t\tconst listeners = map[selectors[i]];\n\t\t\tret &= triggerListeners_(listeners, event, element, defaultFns);\n\t\t}\n\t}\n\treturn ret;\n}\n","'use strict';\n\nimport dom from '../dom';\nimport domData from '../domData';\nimport DomEventEmitterProxy from '../DomEventEmitterProxy';\nimport DomEventHandle from '../DomEventHandle';\nimport features from '../features';\nimport globalEval from '../globalEval';\nimport globalEvalStyles from '../globalEvalStyles';\nimport '../events';\n\nexport * from '../dom';\nexport { domData, DomEventEmitterProxy, DomEventHandle, features, globalEval, globalEvalStyles };\nexport default dom;\n","'use strict';\n\nimport { delegate, on, supportsEvent } from './dom';\nimport { EventEmitterProxy } from 'metal-events';\n\n/**\n * DomEventEmitterProxy utility. It extends `EventEmitterProxy` to also accept\n * dom elements as origin emitters.\n * @extends {EventEmitterProxy}\n */\nclass DomEventEmitterProxy extends EventEmitterProxy {\n\t/**\n\t * Adds the given listener for the given event.\n\t * @param {string} event\n\t * @param {!function()} listener\n\t * @return {!EventHandle} The listened event's handle.\n\t * @protected\n\t * @override\n\t */\n\taddListener_(event, listener) {\n\t\tif (this.originEmitter_.addEventListener) {\n\t\t\tif (this.isDelegateEvent_(event)) {\n\t\t\t\tconst index = event.indexOf(':', 9);\n\t\t\t\tconst eventName = event.substring(9, index);\n\t\t\t\tconst selector = event.substring(index + 1);\n\t\t\t\treturn delegate(this.originEmitter_, eventName, selector, listener);\n\t\t\t} else {\n\t\t\t\treturn on(this.originEmitter_, event, listener);\n\t\t\t}\n\t\t} else {\n\t\t\treturn super.addListener_(event, listener);\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given event is of the delegate type.\n\t * @param {string} event\n\t * @return {boolean}\n\t * @protected\n\t */\n\tisDelegateEvent_(event) {\n\t\treturn event.substr(0, 9) === 'delegate:';\n\t}\n\n\t/**\n\t * Checks if the given event is supported by the origin element.\n\t * @param {string} event\n\t * @protected\n\t */\n\tisSupportedDomEvent_(event) {\n\t\tif (!this.originEmitter_ || !this.originEmitter_.addEventListener) {\n\t\t\treturn true;\n\t\t}\n\t\treturn (this.isDelegateEvent_(event) && event.indexOf(':', 9) !== -1) ||\n\t\t\tsupportsEvent(this.originEmitter_, event);\n\t}\n\n\t/**\n\t * Checks if the given event should be proxied.\n\t * @param {string} event\n\t * @return {boolean}\n\t * @protected\n\t * @override\n\t */\n\tshouldProxyEvent_(event) {\n\t\treturn super.shouldProxyEvent_(event) && this.isSupportedDomEvent_(event);\n\t}\n}\n\nexport default DomEventEmitterProxy;\n","'use strict';\n\nimport { append } from './dom';\nimport { string } from 'metal';\n\n/**\n * Class with static methods responsible for doing browser feature checks.\n */\nclass features {\n\t/**\n\t * Some browsers still supports prefixed animation events. This method can\n\t * be used to retrieve the current browser event name for both, animation\n\t * and transition.\n\t * @return {object}\n\t */\n\tstatic checkAnimationEventName() {\n\t\tif (features.animationEventName_ === undefined) {\n\t\t\tfeatures.animationEventName_ = {\n\t\t\t\tanimation: features.checkAnimationEventName_('animation'),\n\t\t\t\ttransition: features.checkAnimationEventName_('transition')\n\t\t\t};\n\t\t}\n\t\treturn features.animationEventName_;\n\t}\n\n\t/**\n\t * @protected\n\t * @param {string} type Type to test: animation, transition.\n\t * @return {string} Browser event name.\n\t */\n\tstatic checkAnimationEventName_(type) {\n\t\tconst prefixes = ['Webkit', 'MS', 'O', ''];\n\t\tconst typeTitleCase = string.replaceInterval(type, 0, 1, type.substring(0, 1).toUpperCase());\n\t\tconst suffixes = [`${typeTitleCase}End`, `${typeTitleCase}End`, `${typeTitleCase}End`, `${type}end`];\n\t\tfor (let i = 0; i < prefixes.length; i++) {\n\t\t\tif (features.animationElement_.style[prefixes[i] + typeTitleCase] !== undefined) {\n\t\t\t\treturn prefixes[i].toLowerCase() + suffixes[i];\n\t\t\t}\n\t\t}\n\t\treturn `${type}end`;\n\t}\n\n\t/**\n\t * Some browsers (like IE9) change the order of element attributes, when html\n\t * is rendered. This method can be used to check if this behavior happens on\n\t * the current browser.\n\t * @return {boolean}\n\t */\n\tstatic checkAttrOrderChange() {\n\t\tif (features.attrOrderChange_ === undefined) {\n\t\t\tconst originalContent = '<div data-component=\"\" data-ref=\"\"></div>';\n\t\t\tconst element = document.createElement('div');\n\t\t\tappend(element, originalContent);\n\t\t\tfeatures.attrOrderChange_ = originalContent !== element.innerHTML;\n\t\t}\n\t\treturn features.attrOrderChange_;\n\t}\n}\n\nfeatures.animationElement_ = document.createElement('div');\nfeatures.animationEventName_ = undefined;\nfeatures.attrOrderChange_ = undefined;\n\nexport default features;\n","'use strict';\n\nimport { async } from 'metal';\nimport { exitDocument, once } from './dom';\n\n/**\n * Utility functions for running javascript code in the global scope.\n */\nclass globalEval {\n\t/**\n\t * Evaluates the given string in the global scope.\n\t * @param {string} text\n\t * @param {function()=} opt_appendFn Optional function to append the node\n\t *   into document.\n\t * @return {Element} script\n\t */\n\tstatic run(text, opt_appendFn) {\n\t\tconst script = document.createElement('script');\n\t\tscript.text = text;\n\t\tif (opt_appendFn) {\n\t\t\topt_appendFn(script);\n\t\t} else {\n\t\t\tdocument.head.appendChild(script);\n\t\t}\n\t\texitDocument(script);\n\t\treturn script;\n\t}\n\n\t/**\n\t * Evaluates the given javascript file in the global scope.\n\t * @param {string} src The file's path.\n\t * @param {function()=} opt_callback Optional function to be called\n\t *   when the script has been run.\n\t * @param {function()=} opt_appendFn Optional function to append the node\n\t *   into document.\n\t * @return {Element} script\n\t */\n\tstatic runFile(src, opt_callback, opt_appendFn) {\n\t\tconst script = document.createElement('script');\n\t\tscript.src = src;\n\n\t\tconst callback = function() {\n\t\t\texitDocument(script);\n\t\t\topt_callback && opt_callback();\n\t\t};\n\t\tonce(script, 'load', callback);\n\t\tonce(script, 'error', callback);\n\n\t\tif (opt_appendFn) {\n\t\t\topt_appendFn(script);\n\t\t} else {\n\t\t\tdocument.head.appendChild(script);\n\t\t}\n\n\t\treturn script;\n\t}\n\n\t/**\n\t * Evaluates the code referenced by the given script element.\n\t * @param {!Element} script\n\t * @param {function()=} opt_callback Optional function to be called\n\t *   when the script has been run.\n\t * @param {function()=} opt_appendFn Optional function to append the node\n\t *   into document.\n\t * @return {Element} script\n\t */\n\tstatic runScript(script, opt_callback, opt_appendFn) {\n\t\tconst callback = function() {\n\t\t\topt_callback && opt_callback();\n\t\t};\n\t\tif (script.type && script.type !== 'text/javascript') {\n\t\t\tasync.nextTick(callback);\n\t\t\treturn;\n\t\t}\n\t\texitDocument(script);\n\t\tif (script.src) {\n\t\t\treturn globalEval.runFile(script.src, opt_callback, opt_appendFn);\n\t\t} else {\n\t\t\tasync.nextTick(callback);\n\t\t\treturn globalEval.run(script.text, opt_appendFn);\n\t\t}\n\t}\n\n\t/**\n\t * Evaluates any script tags present in the given element.\n\t * @param {!Element} element\n\t * @param {function()=} opt_callback Optional function to be called\n\t *   when the script has been run.\n\t * @param {function()=} opt_appendFn Optional function to append the node\n\t *   into document.\n\t */\n\tstatic runScriptsInElement(element, opt_callback, opt_appendFn) {\n\t\tconst scripts = element.querySelectorAll('script');\n\t\tif (scripts.length) {\n\t\t\tglobalEval.runScriptsInOrder(scripts, 0, opt_callback, opt_appendFn);\n\t\t} else if (opt_callback) {\n\t\t\tasync.nextTick(opt_callback);\n\t\t}\n\t}\n\n\t/**\n\t * Runs the given scripts elements in the order that they appear.\n\t * @param {!NodeList} scripts\n\t * @param {number} index\n\t * @param {function()=} opt_callback Optional function to be called\n\t *   when the script has been run.\n\t * @param {function()=} opt_appendFn Optional function to append the node\n\t *   into document.\n\t */\n\tstatic runScriptsInOrder(scripts, index, opt_callback, opt_appendFn) {\n\t\tglobalEval.runScript(scripts.item(index), function() {\n\t\t\tif (index < scripts.length - 1) {\n\t\t\t\tglobalEval.runScriptsInOrder(scripts, index + 1, opt_callback, opt_appendFn);\n\t\t\t} else if (opt_callback) {\n\t\t\t\tasync.nextTick(opt_callback);\n\t\t\t}\n\t\t}, opt_appendFn);\n\t}\n}\n\nexport default globalEval;\n","'use strict';\n\nimport { async } from 'metal';\nimport { once } from './dom';\n\n/**\n * Utility functions for running styles.\n */\nclass globalEvalStyles {\n\t/**\n\t * Evaluates the given style.\n\t * @param {string} text\n\t * @param {function()=} opt_appendFn Optional function to append the node\n\t *   into document.\n\t * @return {Element} style\n\t */\n\tstatic run(text, opt_appendFn) {\n\t\tconst style = document.createElement('style');\n\t\tstyle.innerHTML = text;\n\t\tif (opt_appendFn) {\n\t\t\topt_appendFn(style);\n\t\t} else {\n\t\t\tdocument.head.appendChild(style);\n\t\t}\n\t\treturn style;\n\t}\n\n\t/**\n\t * Evaluates the given style file.\n\t * @param {string} href The file's path.\n\t * @param {function()=} opt_callback Optional function to be called\n\t *   when the styles has been run.\n\t * @param {function()=} opt_appendFn Optional function to append the node\n\t *   into document.\n\t * @return {Element} style\n\t */\n\tstatic runFile(href, opt_callback, opt_appendFn) {\n\t\tconst link = document.createElement('link');\n\t\tlink.rel = 'stylesheet';\n\t\tlink.href = href;\n\t\tglobalEvalStyles.runStyle(link, opt_callback, opt_appendFn);\n\t\treturn link;\n\t}\n\n\t/**\n\t * Evaluates the code referenced by the given style/link element.\n\t * @param {!Element} style\n\t * @param {function()=} opt_callback Optional function to be called\n\t *   when the script has been run.\n\t * @param {function()=} opt_appendFn Optional function to append the node\n\t *   into document.\n\t *  @return {Element} style\n\t */\n\tstatic runStyle(style, opt_callback, opt_appendFn) {\n\t\tconst callback = function() {\n\t\t\topt_callback && opt_callback();\n\t\t};\n\t\tif (style.rel && style.rel !== 'stylesheet') {\n\t\t\tasync.nextTick(callback);\n\t\t\treturn;\n\t\t}\n\n\t\tif (style.tagName === 'STYLE') {\n\t\t\tasync.nextTick(callback);\n\t\t} else {\n\t\t\tonce(style, 'load', callback);\n\t\t\tonce(style, 'error', callback);\n\t\t}\n\n\t\tif (opt_appendFn) {\n\t\t\topt_appendFn(style);\n\t\t} else {\n\t\t\tdocument.head.appendChild(style);\n\t\t}\n\n\t\treturn style;\n\t}\n\n\t/**\n\t * Evaluates any style present in the given element.\n\t * @param {!Element} element\n\t * @param {function()=} opt_callback Optional function to be called when the\n\t *   style has been run.\n\t * @param {function()=} opt_appendFn Optional function to append the node\n\t *   into document.\n\t */\n\tstatic runStylesInElement(element, opt_callback, opt_appendFn) {\n\t\tconst styles = element.querySelectorAll('style,link');\n\t\tif (styles.length === 0 && opt_callback) {\n\t\t\tasync.nextTick(opt_callback);\n\t\t\treturn;\n\t\t}\n\n\t\tlet loadCount = 0;\n\t\tconst callback = function() {\n\t\t\tif (opt_callback && ++loadCount === styles.length) {\n\t\t\t\tasync.nextTick(opt_callback);\n\t\t\t}\n\t\t};\n\t\tfor (let i = 0; i < styles.length; i++) {\n\t\t\tglobalEvalStyles.runStyle(styles[i], callback, opt_appendFn);\n\t\t}\n\t}\n}\n\nexport default globalEvalStyles;\n","'use strict';\n\nimport { getFunctionName, isDefAndNotNull } from 'metal';\n\nconst ERROR_ARRAY_OF_TYPE = 'Expected an array of single type.';\nconst ERROR_OBJECT_OF_TYPE = 'Expected object of one type.';\nconst ERROR_ONE_OF = 'Expected one of given values.';\nconst ERROR_ONE_OF_TYPE = 'Expected one of given types.';\nconst ERROR_SHAPE_OF = 'Expected object with a specific shape.';\n\n/**\n * Provides access to various type validators that will return an\n * instance of Error when validation fails. Note that all type validators\n * will also accept null or undefined values. To not accept these you should\n * instead make your state property required.\n */\nconst validators = {\n\tany: () => () => true,\n\tarray: buildTypeValidator('array'),\n\tbool: buildTypeValidator('boolean'),\n\tfunc: buildTypeValidator('function'),\n\tnumber: buildTypeValidator('number'),\n\tobject: buildTypeValidator('object'),\n\tstring: buildTypeValidator('string'),\n\n\t/**\n\t * Creates a validator that checks that the value it receives is an array\n\t * of items, and that all of the items pass the given validator.\n\t * @param {!function()} validator Validator to check each item against.\n\t * @return {!function()}\n\t */\n\tarrayOf: function(validator) {\n\t\treturn maybe((value, name, context) => {\n\t\t\tconst result = validators.array(value, name, context);\n\t\t\tif (isInvalid(result)) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\treturn validateArrayItems(validator, value, name, context);\n\t\t});\n\t},\n\n\t/**\n\t * Creates a validator that checks if a value is an instance of a given class.\n\t * @param {!function()} expectedClass Class to check value against.\n\t * @return {!function()}\n\t */\n\tinstanceOf: function(expectedClass) {\n\t\treturn maybe((value, name, context) => {\n\t\t\tif (value instanceof expectedClass) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst msg = `Expected instance of ${expectedClass}`;\n\t\t\treturn composeError(msg, name, context);\n\t\t});\n\t},\n\n\t/**\n\t * Creates a validator that checks that the value it receives is an object,\n\t * and that all values within that object pass the given validator.\n\t * @param {!function()} validator Validator to check each object value against.\n\t * @return {!function()}\n\t */\n\tobjectOf: function(validator) {\n\t\treturn maybe((value, name, context) => {\n\t\t\tfor (let key in value) {\n\t\t\t\tif (isInvalid(validator(value[key]))) {\n\t\t\t\t\treturn composeError(ERROR_OBJECT_OF_TYPE, name, context);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t},\n\n\t/**\n\t * Creates a validator that checks if the received value matches one of the\n\t * given values.\n\t * @param {!Array} arrayOfValues Array of values to check equality against.\n\t * @return {!function()}\n\t */\n\toneOf: function(arrayOfValues) {\n\t\treturn maybe((value, name, context) => {\n\t\t\tconst result = validators.array(arrayOfValues, name, context);\n\t\t\tif (isInvalid(result)) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\treturn arrayOfValues.indexOf(value) === -1 ?\n\t\t\t\tcomposeError(ERROR_ONE_OF, name, context) :\n\t\t\t\ttrue;\n\t\t});\n\t},\n\n\t/**\n\t * Creates a validator that checks if the received value matches one of the\n\t * given types.\n\t * @param {!Array} arrayOfTypeValidators Array of validators to check value\n\t *     against.\n\t * @return {!function()}\n\t */\n\toneOfType: function(arrayOfTypeValidators) {\n\t\treturn maybe((value, name, context) => {\n\t\t\tconst result = validators.array(arrayOfTypeValidators, name, context);\n\t\t\tif (isInvalid(result)) {\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < arrayOfTypeValidators.length; i++) {\n\t\t\t\tif (!isInvalid(arrayOfTypeValidators[i](value, name, context))) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn composeError(ERROR_ONE_OF_TYPE, name, context);\n\t\t});\n\t},\n\n\t/**\n\t * Creates a validator that checks if the received value is an object, and\n\t * that its contents match the given shape.\n\t * @param {!Object} shape An object containing validators for each key.\n\t * @return {!function()}\n\t */\n\tshapeOf: function(shape) {\n\t\treturn maybe((value, name, context) => {\n\t\t\tconst result = validators.object(shape, name, context);\n\t\t\tif (isInvalid(result)) {\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tfor (let key in shape) {\n\t\t\t\tlet validator = shape[key];\n\t\t\t\tlet required = false;\n\t\t\t\tif (validator.config) {\n\t\t\t\t\trequired = validator.config.required;\n\t\t\t\t\tvalidator = validator.config.validator;\n\t\t\t\t}\n\t\t\t\tif ((required && !isDefAndNotNull(value[key])) ||\n\t\t\t\t\tisInvalid(validator(value[key]))) {\n\t\t\t\t\treturn composeError(ERROR_SHAPE_OF, name, context);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t}\n};\n\n/**\n * Creates a validator that checks against a specific primitive type.\n * @param {string} expectedType Type to check against.\n * @return {!function()} Function that runs the validator if called with\n *     arguments, or just returns it otherwise. This means that when using a\n *     type validator in `State` it may be just passed directly (like\n *     `validators.bool`), or called with no args (like `validators.bool()`).\n *     That's done to allow all validators to be used consistently, since some\n *     (like `arrayOf`) always require that you call the function before\n *     receiving the actual validator. Type validators don't need the call, but\n *     work if it's made anyway.\n */\nfunction buildTypeValidator(expectedType) {\n\tconst validatorFn = maybe(validateType.bind(null, expectedType));\n\treturn (...args) => {\n\t\tif (args.length === 0) {\n\t\t\treturn validatorFn;\n\t\t} else {\n\t\t\treturn validatorFn(...args);\n\t\t}\n\t};\n}\n\n/**\n * Composes a warning a warning message.\n * @param {string} error Error message to display to console.\n * @param {?string} name Name of state property that is giving the error.\n * @param {Object} context The property's owner.\n * @return {!Error}\n */\nfunction composeError(error, name, context) {\n\tconst compName = context ? getFunctionName(context.constructor) : null;\n\tconst renderer = context && context.getRenderer && context.getRenderer();\n\tconst parent = renderer && renderer.getParent && renderer.getParent();\n\tconst parentName = parent ? getFunctionName(parent.constructor) : null;\n\tconst location = parentName ? `Check render method of '${parentName}'.` : '';\n\treturn new Error(\n\t\t`Warning: Invalid state passed to '${name}'. ` +\n\t\t`${error} Passed to '${compName}'. ${location}`\n\t);\n}\n\n/**\n * Returns the type of the given value.\n * @param {*} value Any value.\n * @return {string} Type of value.\n */\nfunction getType(value) {\n\treturn Array.isArray(value) ? 'array' : typeof value;\n}\n\n/**\n * Checks if the given validator result says that the value is invalid.\n * @param {boolean|!Error} result\n * @return {boolean}\n */\nfunction isInvalid(result) {\n\treturn result instanceof Error;\n}\n\n/**\n * Wraps the given validator so that it also accepts null/undefined values.\n *   a validator that checks a value against a single type, null, or\n * undefined.\n * @param {!function()} typeValidator Validator to wrap.\n * @return {!function()} Wrapped validator.\n */\nfunction maybe(typeValidator) {\n\treturn (value, name, context) => {\n\t\treturn isDefAndNotNull(value) ? typeValidator(value, name, context) : true;\n\t};\n}\n\n\n/**\n * Checks if all the items of the given array pass the given validator.\n * @param {!function()} validator\n * @param {*} value The array to validate items for.\n * @param {string} name The name of the array property being checked.\n * @param {!Object} context Owner of the array property being checked.\n * @return {!Error|boolean} `true` if the type matches, or an error otherwise.\n */\nfunction validateArrayItems(validator, value, name, context) {\n\tfor (let i = 0; i < value.length; i++) {\n\t\tif (isInvalid(validator(value[i], name, context))) {\n\t\t\treturn composeError(ERROR_ARRAY_OF_TYPE, name, context);\n\t\t}\n\t}\n\treturn true;\n}\n\n/**\n * Checks if the given value matches the expected type.\n * @param {string} expectedType String representing the expected type.\n * @param {*} value The value to match the type of.\n * @param {string} name The name of the property being checked.\n * @param {!Object} context Owner of the property being checked.\n * @return {!Error|boolean} `true` if the type matches, or an error otherwise.\n */\nfunction validateType(expectedType, value, name, context) {\n\tconst type = getType(value);\n\tif (type !== expectedType) {\n\t\tconst msg = `Expected type '${expectedType}', but received type '${type}'.`;\n\t\treturn composeError(msg, name, context);\n\t}\n\treturn true;\n}\n\nexport default validators;\n","'use strict';\n\nimport { object } from 'metal';\nimport validators from './validators';\n\n/**\n * Sugar api that can be used as an alternative for manually building `State`\n * configuration in the expected format. For example, instead of having\n * something like this:\n *\n * ```js\n * MyClass.STATE = {\n *   foo: {\n *     required: true,\n *     validator: validators.number,\n *     value: 13\n *   }\n * };\n * ```\n *\n * You could instead do:\n *\n * ```js\n * MyClass.STATE = {\n *   foo: Config.required().number().value(13)\n * };\n * ```\n */\nconst Config = {\n\t/**\n\t * Adds the `required` flag to the `State` configuration.\n\t * @param {boolean} required Flag to set \"required\" to. True by default.\n\t * @return {!Object} `State` configuration object.\n\t */\n\trequired(required = true) {\n\t\treturn mergeConfig(this, {\n\t\t\trequired\n\t\t});\n\t},\n\n\t/**\n\t * Adds a setter to the `State` configuration.\n\t * @param {!function()} setter\n\t * @return {!Object} `State` configuration object.\n\t */\n\tsetter(setter) {\n\t\treturn mergeConfig(this, {\n\t\t\tsetter\n\t\t});\n\t},\n\n\t/**\n\t * Adds a validator to the `State` configuration.\n\t * @param {!function()} validator\n\t * @return {!Object} `State` configuration object.\n\t */\n\tvalidator(validator) {\n\t\treturn mergeConfig(this, {\n\t\t\tvalidator\n\t\t});\n\t},\n\n\t/**\n\t * Adds a default value to the `State` configuration.\n\t * @param {*} value\n\t * @return {!Object} `State` configuration object.\n\t */\n\tvalue(value) {\n\t\treturn mergeConfig(this, {\n\t\t\tvalue\n\t\t});\n\t}\n};\n\n/**\n * Merges the given config object into the one that has been built so far.\n * @param {!Object} context The object calling this function.\n * @param {!Object} config The object to merge to the built config.\n * @return {!Object} The final object containing the built config.\n */\nfunction mergeConfig(context, config) {\n\tlet obj = context;\n\tif (obj === Config) {\n\t\tobj = Object.create(Config);\n\t\tobj.config = {};\n\t}\n\tobject.mixin(obj.config, config);\n\treturn obj;\n}\n\n// Add all validators to `Config`.\nconst fnNames = Object.keys(validators);\nfnNames.forEach(\n\tname => Config[name] = function() {\n\t\treturn this.validator(validators[name]);\n\t}\n);\n\nexport default Config;\n","'use strict';\n\nimport { async, getStaticProperty, isDefAndNotNull, isFunction, isObject, isString, object } from 'metal';\nimport { EventEmitter } from 'metal-events';\n\n/**\n * State adds support for having object properties that can be watched for\n * changes, as well as configured with validators, setters and other options.\n * See the `configState` method for a complete list of available configuration\n * options for each state key.\n * @extends {EventEmitter}\n */\nclass State extends EventEmitter {\n\t/**\n\t * Constructor function for `State`.\n\t * @param {Object=} opt_config Optional config object with initial values to\n\t *     set state properties to.\n\t * @param {Object=} opt_obj Optional object that should hold the state\n\t *     properties. If none is given, they will be added directly to `this`\n\t *     instead.\n\t * @param {Object=} opt_context Optional context to call functions (like\n\t *     validators and setters) on. Defaults to `this`.\n\t */\n\tconstructor(opt_config, opt_obj, opt_context) {\n\t\tsuper();\n\n\t\t/**\n\t\t * Context to call functions (like validators and setters) on.\n\t\t * @type {!Object}\n\t\t * @protected\n\t\t */\n\t\tthis.context_ = opt_context || this;\n\n\t\t/**\n\t\t * Map of keys that can not be used as state keys.\n\t\t * @type {Object<string, boolean>}\n\t\t * @protected\n\t\t */\n\t\tthis.keysBlacklist_ = null;\n\n\t\t/**\n\t\t * Object that should hold the state properties.\n\t\t * @type {!Object}\n\t\t * @protected\n\t\t */\n\t\tthis.obj_ = opt_obj || this;\n\n\t\tthis.eventData_ = null;\n\n\t\t/**\n\t\t * Object with information about the batch event that is currently\n\t\t * scheduled, or null if none is.\n\t\t * @type {Object}\n\t\t * @protected\n\t\t */\n\t\tthis.scheduledBatchData_ = null;\n\n\t\t/**\n\t\t * Object that contains information about all this instance's state keys.\n\t\t * @type {!Object<string, !Object>}\n\t\t * @protected\n\t\t */\n\t\tthis.stateInfo_ = {};\n\n\t\tthis.stateConfigs_ = {};\n\n\t\tthis.initialValues_ = object.mixin({}, opt_config);\n\n\t\tthis.setShouldUseFacade(true);\n\t\tthis.configStateFromStaticHint_();\n\n\t\tObject.defineProperty(this.obj_, State.STATE_REF_KEY, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: this\n\t\t});\n\t}\n\n\t/**\n\t * Logs an error if the given property is required but wasn't given.\n\t * @param {string} name\n\t * @protected\n\t */\n\tassertGivenIfRequired_(name) {\n\t\tconst config = this.stateConfigs_[name];\n\t\tif (config.required) {\n\t\t\tconst info = this.getStateInfo(name);\n\t\t\tconst value = info.state === State.KeyStates.INITIALIZED ?\n\t\t\t\tthis.get(name) :\n\t\t\t\tthis.initialValues_[name];\n\t\t\tif (!isDefAndNotNull(value)) {\n\t\t\t\tconsole.error(\n\t\t\t\t\t`The property called \"${name}\" is required but didn't receive a value.`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks that the given name is a valid state key name. If it's not, an error\n\t * will be thrown.\n\t * @param {string} name The name to be validated.\n\t * @throws {Error}\n\t * @protected\n\t */\n\tassertValidStateKeyName_(name) {\n\t\tif (this.keysBlacklist_ && this.keysBlacklist_[name]) {\n\t\t\tthrow new Error(\n\t\t\t\t`It's not allowed to create a state key with the name \"${name}\".`\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Builds the property definition object for the specified state key.\n\t * @param {string} name The name of the key.\n\t * @return {!Object}\n\t * @protected\n\t */\n\tbuildKeyPropertyDef_(name) {\n\t\treturn {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn this[State.STATE_REF_KEY].getStateKeyValue_(name);\n\t\t\t},\n\t\t\tset: function(val) {\n\t\t\t\tthis[State.STATE_REF_KEY].setStateKeyValue_(name, val);\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n\t * Calls the requested function, running the appropriate code for when it's\n\t * passed as an actual function object or just the function's name.\n\t * @param {!Function|string} fn Function, or name of the function to run.\n\t * @param {!Array} An optional array of parameters to be passed to the\n\t *   function that will be called.\n\t * @return {*} The return value of the called function.\n\t * @protected\n\t */\n\tcallFunction_(fn, args) {\n\t\tif (isString(fn)) {\n\t\t\treturn this.context_[fn].apply(this.context_, args);\n\t\t} else if (isFunction(fn)) {\n\t\t\treturn fn.apply(this.context_, args);\n\t\t}\n\t}\n\n\t/**\n\t * Calls the state key's setter, if there is one.\n\t * @param {string} name The name of the key.\n\t * @param {*} value The value to be set.\n\t * @param {*} currentValue The current value.\n\t * @return {*} The final value to be set.\n\t * @protected\n\t */\n\tcallSetter_(name, value, currentValue) {\n\t\tconst config = this.stateConfigs_[name];\n\t\tif (config.setter) {\n\t\t\tvalue = this.callFunction_(config.setter, [value, currentValue]);\n\t\t}\n\t\treturn value;\n\t}\n\n\t/**\n\t * Calls the state key's validator, if there is one. Emits console\n\t * warning if validator returns a string.\n\t * @param {string} name The name of the key.\n\t * @param {*} value The value to be validated.\n\t * @return {boolean} Flag indicating if value is valid or not.\n\t * @protected\n\t */\n\tcallValidator_(name, value) {\n\t\tconst config = this.stateConfigs_[name];\n\t\tif (config.validator) {\n\t\t\tconst validatorReturn = this.callFunction_(\n\t\t\t\tconfig.validator,\n\t\t\t\t[value, name, this.context_]\n\t\t\t);\n\n\t\t\tif (validatorReturn instanceof Error) {\n\t\t\t\tconsole.error(`Warning: ${validatorReturn}`);\n\t\t\t}\n\t\t\treturn validatorReturn;\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Checks if the it's allowed to write on the requested state key.\n\t * @param {string} name The name of the key.\n\t * @return {boolean}\n\t */\n\tcanSetState(name) {\n\t\tconst info = this.getStateInfo(name);\n\t\treturn !this.stateConfigs_[name].writeOnce || !info.written;\n\t}\n\n\t/**\n\t * Adds the given key(s) to the state, together with its(their) configs.\n\t * Config objects support the given settings:\n\t *     required - When set to `true`, causes errors to be printed (via\n\t *     `console.error`) if no value is given for the property.\n\t *\n\t *     setter - Function for normalizing state key values. It receives the new\n\t *     value that was set, and returns the value that should be stored.\n\t *\n\t *     validator - Function that validates state key values. When it returns\n\t *     false, the new value is ignored. When it returns an instance of Error,\n\t *     it will emit the error to the console.\n\t *\n\t *     value - The default value for the state key. Note that setting this to\n\t *     an object will cause all class instances to use the same reference to\n\t *     the object. To have each instance use a different reference for objects,\n\t *     use the `valueFn` option instead.\n\t *\n\t *     valueFn - A function that returns the default value for a state key.\n\t *\n\t *     writeOnce - Ignores writes to the state key after it's been first\n\t *     written to. That is, allows writes only when setting the value for the\n\t *     first time.\n\t * @param {!Object.<string, !Object>|string} configs An object that maps\n\t *     configuration options for keys to be added to the state.\n\t * @param {boolean|Object|*=} opt_context The context where the added state\n\t *     keys will be defined (defaults to `this`), or false if they shouldn't\n\t *     be defined at all.\n\t */\n\tconfigState(configs, opt_context) {\n\t\tconst names = Object.keys(configs);\n\t\tif (names.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (opt_context !== false) {\n\t\t\tconst props = {};\n\t\t\tfor (let i = 0; i < names.length; i++) {\n\t\t\t\tconst name = names[i];\n\t\t\t\tthis.assertValidStateKeyName_(name);\n\t\t\t\tprops[name] = this.buildKeyPropertyDef_(name);\n\t\t\t}\n\t\t\tObject.defineProperties(\n\t\t\t\topt_context || this.obj_,\n\t\t\t\tprops\n\t\t\t);\n\t\t}\n\n\t\tthis.stateConfigs_ = configs;\n\t\tfor (let i = 0; i < names.length; i++) {\n\t\t\tconst name = names[i];\n\t\t\tconfigs[name] = configs[name].config ? configs[name].config : configs[name];\n\t\t\tthis.assertGivenIfRequired_(names[i]);\n\t\t\tthis.validateInitialValue_(names[i]);\n\t\t}\n\t}\n\n\t/**\n\t * Adds state keys from super classes static hint `MyClass.STATE = {};`.\n\t * @param {Object.<string, !Object>=} opt_config An object that maps all the\n\t *     configurations for state keys.\n\t * @protected\n\t */\n\tconfigStateFromStaticHint_() {\n\t\tconst ctor = this.constructor;\n\t\tif (ctor !== State) {\n\t\t\tlet defineContext;\n\t\t\tif (this.obj_ === this) {\n\t\t\t\tdefineContext = ctor.hasConfiguredState_ ? false : ctor.prototype;\n\t\t\t\tctor.hasConfiguredState_ = true;\n\t\t\t}\n\t\t\tthis.configState(State.getStateStatic(ctor), defineContext);\n\t\t}\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tsuper.disposeInternal();\n\t\tthis.initialValues_ = null;\n\t\tthis.stateInfo_ = null;\n\t\tthis.stateConfigs_ = null;\n\t\tthis.scheduledBatchData_ = null;\n\t}\n\n\t/**\n\t * Emits the state change batch event.\n\t * @protected\n\t */\n\temitBatchEvent_() {\n\t\tif (!this.isDisposed()) {\n\t\t\tconst data = this.scheduledBatchData_;\n\t\t\tthis.scheduledBatchData_ = null;\n\t\t\tthis.context_.emit('stateChanged', data);\n\t\t}\n\t}\n\n\t/**\n\t * Returns the value of the requested state key.\n\t * Note: this can and should be accomplished by accessing the value as a\n\t * regular property. This should only be used in cases where a function is\n\t * actually needed.\n\t * @param {string} name\n\t * @return {*}\n\t */\n\tget(name) {\n\t\treturn this.obj_[name];\n\t}\n\n\t/**\n\t * Returns an object that maps state keys to their values.\n\t * @param {Array<string>=} opt_names A list of names of the keys that should\n\t *   be returned. If none is given, the whole state will be returned.\n\t * @return {Object.<string, *>}\n\t */\n\tgetState(opt_names) {\n\t\tconst state = {};\n\t\tconst names = opt_names || this.getStateKeys();\n\n\t\tfor (let i = 0; i < names.length; i++) {\n\t\t\tstate[names[i]] = this.get(names[i]);\n\t\t}\n\n\t\treturn state;\n\t}\n\n\t/**\n\t * Gets information about the specified state property.\n\t * @param {string} name\n\t * @return {!Object}\n\t */\n\tgetStateInfo(name) {\n\t\tif (!this.stateInfo_[name]) {\n\t\t\tthis.stateInfo_[name] = {};\n\t\t}\n\t\treturn this.stateInfo_[name];\n\t}\n\n\t/**\n\t * Gets the config object for the requested state key.\n\t * @param {string} name The key's name.\n\t * @return {Object}\n\t * @protected\n\t */\n\tgetStateKeyConfig(name) {\n\t\treturn this.stateConfigs_ ? this.stateConfigs_[name] : null;\n\t}\n\n\t/**\n\t * Returns an array with all state keys.\n\t * @return {!Array.<string>}\n\t */\n\tgetStateKeys() {\n\t\treturn this.stateConfigs_ ? Object.keys(this.stateConfigs_) : [];\n\t}\n\n\t/**\n\t * Gets the value of the specified state key. This is passed as that key's\n\t * getter to the `Object.defineProperty` call inside the `addKeyToState` method.\n\t * @param {string} name The name of the key.\n\t * @return {*}\n\t * @protected\n\t */\n\tgetStateKeyValue_(name) {\n\t\tif (!this.warnIfDisposed_(name)) {\n\t\t\tthis.initStateKey_(name);\n\t\t\treturn this.getStateInfo(name).value;\n\t\t}\n\t}\n\n\t/**\n\t * Merges the STATE static variable for the given constructor function.\n\t * @param  {!Function} ctor Constructor function.\n\t * @return {boolean} Returns true if merge happens, false otherwise.\n\t * @static\n\t */\n\tstatic getStateStatic(ctor) {\n\t\treturn getStaticProperty(ctor, 'STATE', State.mergeState);\n\t}\n\n\t/**\n\t * Checks if the value of the state key with the given name has already been\n\t * set. Note that this doesn't run the key's getter.\n\t * @param {string} name The name of the key.\n\t * @return {boolean}\n\t */\n\thasBeenSet(name) {\n\t\tconst info = this.getStateInfo(name);\n\t\treturn info.state === State.KeyStates.INITIALIZED ||\n\t\t\tthis.hasInitialValue_(name);\n\t}\n\n\t/**\n\t * Checks if an initial value was given to the specified state property.\n\t * @param {string} name The name of the key.\n\t * @return {boolean}\n\t * @protected\n\t */\n\thasInitialValue_(name) {\n\t\treturn this.initialValues_.hasOwnProperty(name);\n\t}\n\n\t/**\n\t * Checks if the given key is present in this instance's state.\n\t * @param {string} key\n\t * @return {boolean}\n\t */\n\thasStateKey(key) {\n\t\tif (!this.warnIfDisposed_(key)) {\n\t\t\treturn !!this.stateConfigs_[key];\n\t\t}\n\t}\n\n\t/**\n\t * Informs of changes to a state key's value through an event. Won't trigger\n\t * the event if the value hasn't changed or if it's being initialized.\n\t * @param {string} name The name of the key.\n\t * @param {*} prevVal The previous value of the key.\n\t * @protected\n\t */\n\tinformChange_(name, prevVal) {\n\t\tif (this.shouldInformChange_(name, prevVal)) {\n\t\t\tconst data = object.mixin({\n\t\t\t\tkey: name,\n\t\t\t\tnewVal: this.get(name),\n\t\t\t\tprevVal: prevVal\n\t\t\t}, this.eventData_);\n\t\t\tthis.context_.emit(`${name}Changed`, data);\n\t\t\tthis.context_.emit('stateKeyChanged', data);\n\t\t\tthis.scheduleBatchEvent_(data);\n\t\t}\n\t}\n\n\t/**\n\t * Initializes the specified state key, giving it a first value.\n\t * @param {string} name The name of the key.\n\t * @protected\n\t */\n\tinitStateKey_(name) {\n\t\tconst info = this.getStateInfo(name);\n\t\tif (info.state !== State.KeyStates.UNINITIALIZED) {\n\t\t\treturn;\n\t\t}\n\n\t\tinfo.state = State.KeyStates.INITIALIZING;\n\t\tthis.setInitialValue_(name);\n\t\tif (!info.written) {\n\t\t\tthis.setDefaultValue(name);\n\t\t}\n\t\tinfo.state = State.KeyStates.INITIALIZED;\n\t}\n\n\t/**\n\t * Merges two values for the STATE property into a single object.\n\t * @param {Object} mergedVal\n\t * @param {Object} currVal\n\t * @return {!Object} The merged value.\n\t * @static\n\t */\n\tstatic mergeState(mergedVal, currVal) {\n\t\treturn object.mixin({}, currVal, mergedVal);\n\t}\n\n\t/**\n\t * Removes the requested state key.\n\t * @param {string} name The name of the key.\n\t */\n\tremoveStateKey(name) {\n\t\tthis.stateInfo_[name] = null;\n\t\tthis.stateConfigs_[name] = null;\n\t\tdelete this.obj_[name];\n\t}\n\n\t/**\n\t * Schedules a state change batch event to be emitted asynchronously.\n\t * @param {!Object} changeData Information about a state key's update.\n\t * @protected\n\t */\n\tscheduleBatchEvent_(changeData) {\n\t\tif (!this.scheduledBatchData_) {\n\t\t\tasync.nextTick(this.emitBatchEvent_, this);\n\t\t\tthis.scheduledBatchData_ = object.mixin({\n\t\t\t\tchanges: {}\n\t\t\t}, this.eventData_);\n\t\t}\n\n\t\tconst name = changeData.key;\n\t\tconst changes = this.scheduledBatchData_.changes;\n\t\tif (changes[name]) {\n\t\t\tchanges[name].newVal = changeData.newVal;\n\t\t} else {\n\t\t\tchanges[name] = changeData;\n\t\t}\n\t}\n\n\t/**\n\t * Sets the value of the requested state key.\n\t * Note: this can and should be accomplished by setting the state key as a\n\t * regular property. This should only be used in cases where a function is\n\t * actually needed.\n\t * @param {string} name\n\t * @param {*} value\n\t * @return {*}\n\t */\n\tset(name, value) {\n\t\tif (this.hasStateKey(name)) {\n\t\t\tthis.obj_[name] = value;\n\t\t}\n\t}\n\n\t/**\n\t * Sets the default value of the requested state key.\n\t * @param {string} name The name of the key.\n\t * @return {*}\n\t */\n\tsetDefaultValue(name) {\n\t\tconst config = this.stateConfigs_[name];\n\n\t\tif (config.value !== undefined) {\n\t\t\tthis.set(name, config.value);\n\t\t} else {\n\t\t\tthis.set(name, this.callFunction_(config.valueFn));\n\t\t}\n\t}\n\n\t/**\n\t * Sets data to be sent with all events emitted from this instance.\n\t * @param {Object}\n\t */\n\tsetEventData(data) {\n\t\tthis.eventData_ = data;\n\t}\n\n\t/**\n\t * Sets the initial value of the requested state key.\n\t * @param {string} name The name of the key.\n\t * @return {*}\n\t * @protected\n\t */\n\tsetInitialValue_(name) {\n\t\tif (this.hasInitialValue_(name)) {\n\t\t\tthis.set(name, this.initialValues_[name]);\n\t\t\tthis.initialValues_[name] = undefined;\n\t\t}\n\t}\n\n\t/**\n\t * Sets a map of keys that are not valid state keys.\n\t * @param {!Object<string, boolean>}\n\t */\n\tsetKeysBlacklist(blacklist) {\n\t\tthis.keysBlacklist_ = blacklist;\n\t}\n\n\t/**\n\t * Sets the value of all the specified state keys.\n\t * @param {!Object.<string,*>} values A map of state keys to the values they\n\t *   should be set to.\n\t * @param {function()=} opt_callback An optional function that will be run\n\t *   after the next batched update is triggered.\n\t */\n\tsetState(values, opt_callback) {\n\t\tObject.keys(values).forEach(name => this.set(name, values[name]));\n\t\tif (opt_callback && this.scheduledBatchData_) {\n\t\t\tthis.context_.once('stateChanged', opt_callback);\n\t\t}\n\t}\n\n\t/**\n\t * Sets the value of the specified state key. This is passed as that key's\n\t * setter to the `Object.defineProperty` call inside the `addKeyToState`\n\t * method.\n\t * @param {string} name The name of the key.\n\t * @param {*} value The new value of the key.\n\t * @protected\n\t */\n\tsetStateKeyValue_(name, value) {\n\t\tif (this.warnIfDisposed_(name) ||\n\t\t\t!this.canSetState(name) ||\n\t\t\t!this.validateKeyValue_(name, value)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst prevVal = this.get(name);\n\t\tconst info = this.getStateInfo(name);\n\t\tinfo.value = this.callSetter_(name, value, prevVal);\n\t\tthis.assertGivenIfRequired_(name);\n\t\tinfo.written = true;\n\t\tthis.informChange_(name, prevVal);\n\t}\n\n\t/**\n\t * Checks if we should inform about a state update. Updates are ignored during\n\t * state initialization. Otherwise, updates to primitive values are only\n\t * informed when the new value is different from the previous one. Updates to\n\t * objects (which includes functions and arrays) are always informed outside\n\t * initialization though, since we can't be sure if all of the internal data\n\t * has stayed the same.\n\t * @param {string} name The name of the key.\n\t * @param {*} prevVal The previous value of the key.\n\t * @return {boolean}\n\t * @protected\n\t */\n\tshouldInformChange_(name, prevVal) {\n\t\tconst info = this.getStateInfo(name);\n\t\treturn (info.state === State.KeyStates.INITIALIZED) &&\n\t\t\t(isObject(prevVal) || prevVal !== this.get(name));\n\t}\n\n\t/**\n\t * Validates the initial value for the state property with the given name.\n\t * @param {string} name\n\t * @protected\n\t */\n\tvalidateInitialValue_(name) {\n\t\tif (this.hasInitialValue_(name) && !this.callValidator_(name, this.initialValues_[name])) {\n\t\t\tdelete this.initialValues_[name];\n\t\t}\n\t}\n\n\t/**\n\t * Validates the state key's value, which includes calling the validator\n\t * defined in the key's configuration object, if there is one.\n\t * @param {string} name The name of the key.\n\t * @param {*} value The value to be validated.\n\t * @return {boolean} Flag indicating if value is valid or not.\n\t * @protected\n\t */\n\tvalidateKeyValue_(name, value) {\n\t\tconst info = this.getStateInfo(name);\n\t\treturn info.state === State.KeyStates.INITIALIZING ||\n\t\t\tthis.callValidator_(name, value);\n\t}\n\n\t/**\n\t * Warns if this instance has already been disposed.\n\t * @param {string} name Name of the property to be accessed if not disposed.\n\t * @return {boolean} True if disposed, or false otherwise.\n\t * @protected\n\t */\n\twarnIfDisposed_(name) {\n\t\tconst disposed = this.isDisposed();\n\t\tif (disposed) {\n\t\t\tconsole.warn(\n\t\t\t\t`Error. Trying to access property \"${name}\" on disposed instance`\n\t\t\t);\n\t\t}\n\t\treturn disposed;\n\t}\n}\n\nState.STATE_REF_KEY = '__METAL_STATE_REF_KEY__';\n\n/**\n * Constants that represent the states that a state key can be in.\n * @type {!Object}\n */\nState.KeyStates = {\n\tUNINITIALIZED: undefined,\n\tINITIALIZING: 1,\n\tINITIALIZED: 2\n};\n\nexport default State;\n","'use strict';\n\nimport validators from '../validators';\nimport Config from '../Config';\nimport State from '../State';\n\nexport default State;\nexport { validators, Config, State };\n","'use strict';\n\nimport core from 'metal';\nimport dom from 'metal-dom';\nimport State from 'metal-state';\n\n/**\n * Clipboard component.\n */\nclass Clipboard extends State {\n\t/**\n\t * Delegates a click event to the passed selector.\n\t */\n\tconstructor(opt_config) {\n\t\tsuper(opt_config);\n\n\t\tthis.listener_ = dom.on(this.selector, 'click', (e) => this.initialize(e));\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tthis.listener_.dispose();\n\t\tthis.listener_ = null;\n\t\tif (this.clipboardAction_) {\n\t\t\tthis.clipboardAction_.dispose();\n\t\t\tthis.clipboardAction_ = null;\n\t\t}\n\t}\n\n\t/**\n\t * Defines a new `ClipboardAction` on each click event.\n\t * @param {!Event} e\n\t */\n\tinitialize(e) {\n\t\tif (this.clipboardAction_) {\n\t\t\tthis.clipboardAction_ = null;\n\t\t}\n\n\t\tthis.clipboardAction_ = new ClipboardAction({\n\t\t\thost: this,\n\t\t\taction: this.action(e.delegateTarget),\n\t\t\ttarget: this.target(e.delegateTarget),\n\t\t\ttext: this.text(e.delegateTarget),\n\t\t\ttrigger: e.delegateTarget\n\t\t});\n\t}\n}\n\n/**\n * State definition.\n * @type {!Object}\n * @static\n */\nClipboard.STATE = {\n\t/**\n\t * A function that returns the name of the clipboard action that should be done\n\t * when for the given element (either 'copy' or 'cut').\n\t * @type {!function(!Element)}\n\t */\n\taction: {\n\t\tvalidator: core.isFunction,\n\t\tvalue: function(delegateTarget) {\n\t\t\treturn delegateTarget.getAttribute('data-action');\n\t\t}\n\t},\n\n\t/**\n\t * The selector for all elements that should be listened for clipboard actions.\n\t * @type {string}\n\t */\n\tselector: {\n\t\tvalue: '[data-clipboard]',\n\t\tvalidator: core.isString\n\t},\n\n\t/**\n\t * A function that returns an element that has the content to be copied to the\n\t * clipboard.\n\t * @type {!function(!Element)}\n\t */\n\ttarget: {\n\t\tvalidator: core.isFunction,\n\t\tvalue: function(delegateTarget) {\n\t\t\treturn document.querySelector(delegateTarget.getAttribute('data-target'));\n\t\t}\n\t},\n\n\t/**\n\t * A function that returns the text to be copied to the clipboard.\n\t * @type {!function(!Element)}\n\t */\n\ttext: {\n\t\tvalidator: core.isFunction,\n\t\tvalue: function(delegateTarget) {\n\t\t\treturn delegateTarget.getAttribute('data-text');\n\t\t}\n\t}\n};\n\n/**\n * ClipboardAction component.\n */\nclass ClipboardAction extends State {\n\t/**\n\t * Initializes selection either from a `text` or `target` state.\n\t */\n\tconstructor(opt_config) {\n\t\tsuper(opt_config);\n\n\t\tif (this.text) {\n\t\t\tthis.selectValue();\n\t\t} else if (this.target) {\n\t\t\tthis.selectTarget();\n\t\t}\n\t}\n\n\t/**\n\t * Removes current selection and focus from `target` element.\n\t */\n\tclearSelection() {\n\t\tif (this.target) {\n\t\t\tthis.target.blur();\n\t\t}\n\n\t\twindow.getSelection().removeAllRanges();\n\t}\n\n\t/**\n\t * Executes the copy operation based on the current selection.\n\t */\n\tcopyText() {\n\t\tlet succeeded;\n\n\t\ttry {\n\t\t\tsucceeded = document.execCommand(this.action);\n\t\t} catch (err) {\n\t\t\tsucceeded = false;\n\t\t}\n\n\t\tthis.handleResult(succeeded);\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tthis.removeFakeElement();\n\t\tsuper.disposeInternal();\n\t}\n\n\t/**\n\t * Emits an event based on the copy operation result.\n\t * @param {boolean} succeeded\n\t */\n\thandleResult(succeeded) {\n\t\tif (succeeded) {\n\t\t\tthis.host.emit('success', {\n\t\t\t\taction: this.action,\n\t\t\t\ttext: this.selectedText,\n\t\t\t\ttrigger: this.trigger,\n\t\t\t\tclearSelection: this.clearSelection.bind(this)\n\t\t\t});\n\t\t} else {\n\t\t\tthis.host.emit('error', {\n\t\t\t\taction: this.action,\n\t\t\t\ttrigger: this.trigger,\n\t\t\t\tclearSelection: this.clearSelection.bind(this)\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Removes the fake element that was added to the document, as well as its\n\t * listener.\n\t */\n\tremoveFakeElement() {\n\t\tif (this.fake) {\n\t\t\tdom.exitDocument(this.fake);\n\t\t}\n\n\t\tif (this.removeFakeHandler) {\n\t\t\tthis.removeFakeHandler.removeListener();\n\t\t}\n\t}\n\n\t/**\n\t * Selects the content from element passed on `target` state.\n\t */\n\tselectTarget() {\n\t\tif (this.target.nodeName === 'INPUT' || this.target.nodeName === 'TEXTAREA') {\n\t\t\tthis.target.select();\n\t\t\tthis.selectedText = this.target.value;\n\t\t} else {\n\t\t\tlet range = document.createRange();\n\t\t\tlet selection = window.getSelection();\n\n\t\t\trange.selectNodeContents(this.target);\n\t\t\tselection.addRange(range);\n\t\t\tthis.selectedText = selection.toString();\n\t\t}\n\n\t\tthis.copyText();\n\t}\n\n\t/**\n\t * Selects the content from value passed on `text` state.\n\t */\n\tselectValue() {\n\t\tthis.removeFakeElement();\n\t\tthis.removeFakeHandler = dom.once(document, 'click', this.removeFakeElement.bind(this));\n\n\t\tthis.fake = document.createElement('textarea');\n\t\tthis.fake.style.position = 'fixed';\n\t\tthis.fake.style.left = '-9999px';\n\t\tthis.fake.setAttribute('readonly', '');\n\t\tthis.fake.value = this.text;\n\t\tthis.selectedText = this.text;\n\n\t\tdom.enterDocument(this.fake);\n\n\t\tthis.fake.select();\n\t\tthis.copyText();\n\t}\n}\n\n/**\n * State definition.\n * @type {!Object}\n * @static\n */\nClipboardAction.STATE = {\n\t/**\n\t * The action to be performed (either 'copy' or 'cut').\n\t * @type {string}\n\t * @default 'copy'\n\t */\n\taction: {\n\t\tvalue: 'copy',\n\t\tvalidator: function(val) {\n\t\t\treturn val === 'copy' || val === 'cut';\n\t\t}\n\t},\n\n\t/**\n\t * A reference to the `Clipboard` base class.\n\t * @type {!Clipboard}\n\t */\n\thost: {\n\t\tvalidator: function(val) {\n\t\t\treturn val instanceof Clipboard;\n\t\t}\n\t},\n\n\t/**\n\t * The text that is current selected.\n\t * @type {string}\n\t */\n\tselectedText: {\n\t\tvalidator: core.isString\n\t},\n\n\t/**\n\t * The ID of an element that will be have its content copied.\n\t * @type {Element}\n\t */\n\ttarget: {\n\t\tvalidator: core.isElement\n\t},\n\n\t/**\n\t * The text to be copied.\n\t * @type {string}\n\t */\n\ttext: {\n\t\tvalidator: core.isString\n\t},\n\n\t/**\n\t * The element that when clicked initiates a clipboard action.\n\t * @type {!Element}\n\t */\n\ttrigger: {\n\t\tvalidator: core.isElement\n\t}\n};\n\nexport default Clipboard;\n","'use strict';\n\nimport { isFunction } from 'metal';\n\nconst SYNC_FNS_KEY = '__METAL_SYNC_FNS__';\n\n/**\n * Gets the `sync` methods for this component's state. Caches the results in\n * the component's constructor whenever possible, so that this doesn't need to\n * be calculated again. It's not possible to cache the results when at least\n * one sync method is defined in the instance itself instead of in its\n * prototype, as it may be bound to the instance (not reusable by others).\n * @param {!Component} component\n * @return {!Object}\n * @private\n */\nfunction getSyncFns_(component) {\n\tconst ctor = component.constructor;\n\tif (ctor.hasOwnProperty(SYNC_FNS_KEY)) {\n\t\treturn ctor[SYNC_FNS_KEY];\n\t}\n\n\tconst fns = {};\n\tconst keys = component.getDataManager().getSyncKeys(component);\n\tlet canCache = true;\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst name = `sync${keys[i].charAt(0).toUpperCase()}${keys[i].slice(1)}`;\n\t\tconst fn = component[name];\n\t\tif (fn) {\n\t\t\tfns[keys[i]] = fn;\n\t\t\tcanCache = canCache && component.constructor.prototype[name];\n\t\t}\n\t}\n\n\tif (canCache) {\n\t\tctor[SYNC_FNS_KEY] = fns;\n\t}\n\treturn fns;\n}\n\n/**\n * Calls \"sync\" functions for the given component's state.\n * @param {!Component} component\n * @param {Object=} opt_changes When given, only the properties inside it will\n *     be synced. Otherwise all state properties will be synced.\n */\nexport function syncState(component, opt_changes) {\n\tconst syncFns = getSyncFns_(component);\n\tconst keys = Object.keys(opt_changes || syncFns);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst fn = syncFns[keys[i]];\n\t\tif (isFunction(fn)) {\n\t\t\tconst change = opt_changes && opt_changes[keys[i]];\n\t\t\tconst manager = component.getDataManager();\n\t\t\tfn.call(\n\t\t\t\tcomponent,\n\t\t\t\tchange ? change.newVal : manager.get(component, keys[i]),\n\t\t\t\tchange ? change.prevVal : undefined\n\t\t\t);\n\t\t}\n\t}\n}\n","'use strict';\n\nimport { object } from 'metal';\nimport State from 'metal-state';\n\nconst BLACKLIST = {\n\tcomponents: true,\n\tcontext: true,\n\telement: true,\n\trefs: true,\n\tstate: true,\n\tstateKey: true,\n\twasRendered: true\n};\nconst DATA_MANAGER_DATA = '__DATA_MANAGER_DATA__';\n\nclass ComponentDataManager {\n\t/**\n\t * Creates the `State` instance that will handle the main component data.\n\t * @param {!Component} component\n\t * @param {!Object} data\n\t * @protected\n\t */\n\tcreateState_(component, data) {\n\t\tconst state = new State(component.getInitialConfig(), component, component);\n\t\tstate.setKeysBlacklist(BLACKLIST);\n\t\tstate.configState(\n\t\t\tobject.mixin({}, data, State.getStateStatic(component.constructor))\n\t\t);\n\t\tthis.getManagerData(component).state_ = state;\n\t}\n\n\t/**\n\t * Disposes of any data being used by the manager in this component.\n\t * @param {!Component} component\n\t */\n\tdispose(component) {\n\t\tconst data = this.getManagerData(component);\n\t\tif (data.state_) {\n\t\t\tdata.state_.dispose();\n\t\t}\n\t\tcomponent[DATA_MANAGER_DATA] = null;\n\t}\n\n\t/**\n\t * Gets the data with the given name.\n\t * @param {!Component} component\n\t * @param {string} name\n\t * @return {*}\n\t */\n\tget(component, name) {\n\t\treturn this.getManagerData(component).state_.get(name);\n\t}\n\n\t/**\n\t * Gets the manager data for the given component.\n\t * @param {!Component} component\n\t * @return {Object}\n\t */\n\tgetManagerData(component) {\n\t\treturn component[DATA_MANAGER_DATA];\n\t}\n\n\t/**\n\t * Gets the keys for state data that can be synced via `sync` functions.\n\t * @param {!Component} component\n\t * @return {!Array<string>}\n\t */\n\tgetSyncKeys(component) {\n\t\treturn this.getManagerData(component).state_.getStateKeys();\n\t}\n\n\t/**\n\t * Gets the keys for state data.\n\t * @param {!Component} component\n\t * @return {!Array<string>}\n\t */\n\tgetStateKeys(component) {\n\t\treturn this.getManagerData(component).state_.getStateKeys();\n\t}\n\n\t/**\n\t * Gets the whole state data.\n\t * @param {!Component} component\n\t * @return {!Object}\n\t */\n\tgetState(component) {\n\t\treturn this.getManagerData(component).state_.getState();\n\t}\n\n\t/**\n\t * Gets the `State` instance being used.\n\t * @param {!Component} component\n\t * @return {!Object}\n\t */\n\tgetStateInstance(component) {\n\t\treturn this.getManagerData(component).state_;\n\t}\n\n\t/**\n\t * Updates all non internal data with the given values (or to the default\n\t * value if none is given).\n\t * @param {!Component} component\n\t * @param {!Object} data\n\t * @param {State=} opt_state\n\t */\n\treplaceNonInternal(component, data, opt_state) {\n\t\tconst state = opt_state || this.getManagerData(component).state_;\n\t\tconst keys = state.getStateKeys();\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tconst key = keys[i];\n\t\t\tif (!state.getStateKeyConfig(key).internal) {\n\t\t\t\tif (data.hasOwnProperty(key)) {\n\t\t\t\t\tstate.set(key, data[key]);\n\t\t\t\t} else {\n\t\t\t\t\tstate.setDefaultValue(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Sets the value of all the specified state keys.\n\t * @param {!Component} component\n\t * @param {!Object.<string,*>} values A map of state keys to the values they\n\t *   should be set to.\n\t * @param {function()=} opt_callback An optional function that will be run\n\t *   after the next batched update is triggered.\n\t */\n\tsetState(component, state, opt_callback) {\n\t\tthis.getManagerData(component).state_.setState(state, opt_callback);\n\t}\n\n\t/**\n\t * Sets up the specified component's data.\n\t * @param {!Component} component\n\t * @param {!Object} data\n\t */\n\tsetUp(component, data) {\n\t\tcomponent[DATA_MANAGER_DATA] = {};\n\t\tthis.createState_(component, data);\n\t}\n}\n\nexport default new ComponentDataManager();\n","'use strict';\n\n/**\n * Base class that component renderers should extend from. It defines the\n * required methods all renderers should have.\n */\nclass ComponentRenderer {\n\n\t/**\n\t * Disposes of any data specific to the given component.\n\t * @param {!Component} component\n\t */\n\tdispose() {}\n\n\t/**\n\t * Returns extra configuration for data that should be added to the manager.\n\t * Sub classes can override to return `State` config for properties that\n\t * should be added to the component.\n\t * @param {!Component} component\n\t * @return {Object}\n\t */\n\tgetExtraDataConfig() {}\n\n\t/**\n\t * Renders the whole content (including its main element) and informs the\n\t * component about it. Should be overridden by sub classes.\n\t * @param {!Component} component\n\t */\n\trender(component) {\n\t\tif (!component.element) {\n\t\t\tcomponent.element = document.createElement('div');\n\t\t}\n\t\tcomponent.informRendered();\n\t}\n\n\t/**\n\t * Sets up this component to be used by this renderer. Sub classes should\n\t * override as needed for more behavior.\n\t * @param {!Component} component\n\t */\n\tsetUp() {}\n\n\t/**\n\t * Updates the component's element html. This is automatically called when\n\t * the value of at least one of the component's state keys has changed.\n\t * Should be implemented by sub classes. Sub classes have to remember to call\n\t * \"informRendered\" on the component when any update rendering is done.\n\t * @param {!Component} component\n\t * @param {Object.<string, Object>} changes Object containing the names\n\t *     of all changed state keys, each mapped to an object with its new\n\t *     (newVal) and previous (prevVal) values.\n\t */\n\tupdate() {}\n}\n\nexport default new ComponentRenderer();\n","'use strict';\n\nimport { addListenersFromObj } from './events/events';\nimport { getStaticProperty, isBoolean, isDefAndNotNull, isElement, isObject, isString, object } from 'metal';\nimport { syncState } from './sync/sync';\nimport { DomEventEmitterProxy, toElement } from 'metal-dom';\nimport ComponentDataManager from './ComponentDataManager';\nimport ComponentRenderer from './ComponentRenderer';\nimport { EventEmitter, EventHandler } from 'metal-events';\n\n/**\n * Component collects common behaviors to be followed by UI components, such\n * as Lifecycle, CSS classes management, events encapsulation and support for\n * different types of rendering.\n * Rendering logic can be done by either:\n *     - Listening to the `render` event inside the `created` lifecycle function\n *       and adding the rendering logic to the listener.\n *     - Using an existing implementation of `ComponentRenderer` like `Soy`,\n *       and following its patterns.\n *     - Building your own implementation of a `ComponentRenderer`.\n * Specifying the renderer that will be used can be done by setting the RENDERER\n * static variable to the renderer's constructor function.\n *\n * Example:\n *\n * <code>\n * class CustomComponent extends Component {\n *   created() {\n *   }\n *\n *   rendered() {\n *   }\n *\n *   attached() {\n *   }\n *\n *   detached() {\n *   }\n *\n *   disposed() {\n *   }\n * }\n *\n * CustomComponent.RENDERER = MyRenderer;\n *\n * CustomComponent.STATE = {\n *   title: { value: 'Title' },\n *   fontSize: { value: '10px' }\n * };\n * </code>\n *\n * @extends {State}\n */\nclass Component extends EventEmitter {\n\t/**\n\t * Constructor function for `Component`.\n\t * @param {Object=} opt_config An object with the initial values for this\n\t *     component's state.\n\t * @param {boolean|string|Element=} opt_parentElement The element where the\n\t *     component should be rendered. Can be given as a selector or an element.\n\t *     If `false` is passed, the component won't be rendered automatically\n\t *     after created.\n\t * @constructor\n\t */\n\tconstructor(opt_config, opt_parentElement) {\n\t\tsuper();\n\n\t\t/**\n\t\t * Instance of `DomEventEmitterProxy` which proxies events from the component's\n\t\t * element to the component itself.\n\t\t * @type {!DomEventEmitterProxy}\n\t\t * @protected\n\t\t */\n\t\tthis.elementEventProxy_ = new DomEventEmitterProxy(\n\t\t\tnull,\n\t\t\tthis,\n\t\t\tproxyBlackList_\n\t\t);\n\n\t\t/**\n\t\t * The `EventHandler` instance for events attached from the `events` state key.\n\t\t * @type {EventHandler}\n\t\t * @protected\n\t\t */\n\t\tthis.eventsStateKeyHandler_ = null;\n\n\t\t/**\n\t\t * Whether the element is in document.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis.inDocument = false;\n\n\t\t/**\n\t\t * The initial config option passed to this constructor.\n\t\t * @type {!Object}\n\t\t * @protected\n\t\t */\n\t\tthis.initialConfig_ = opt_config || {};\n\n\t\t/**\n\t\t * Whether the element was rendered.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis.wasRendered = false;\n\n\t\t/**\n\t\t * The component's element will be appended to the element this variable is\n\t\t * set to, unless the user specifies another parent when calling `render` or\n\t\t * `attach`.\n\t\t * @type {!Element}\n\t\t */\n\t\tthis.DEFAULT_ELEMENT_PARENT = document.body;\n\n\t\tthis.setShouldUseFacade(true);\n\t\tthis.element = this.initialConfig_.element;\n\n\t\tthis.setUpRenderer_();\n\t\tthis.setUpDataManager_();\n\t\tthis.setUpSyncUpdates_();\n\n\t\tthis.on('stateChanged', this.handleComponentStateChanged_);\n\t\tthis.on('eventsChanged', this.onEventsChanged_);\n\t\tthis.addListenersFromObj_(this.dataManager_.get(this, 'events'));\n\n\t\tthis.created();\n\t\tthis.componentCreated_ = true;\n\t\tif (opt_parentElement !== false) {\n\t\t\tthis.renderComponent(opt_parentElement);\n\t\t}\n\t}\n\n\t/**\n\t * Getter logic for the element property.\n\t * @return {Element}\n\t */\n\tget element() {\n\t\treturn this.elementValue_;\n\t}\n\n\t/**\n\t * Adds the listeners specified in the given object.\n\t * @param {!Object} obj\n\t * @protected\n\t */\n\taddListenersFromObj_(obj) {\n\t\tif (!this.eventsStateKeyHandler_) {\n\t\t\tthis.eventsStateKeyHandler_ = new EventHandler();\n\t\t}\n\t\tconst handles = addListenersFromObj(this, obj);\n\t\tthis.eventsStateKeyHandler_.add(...handles);\n\t}\n\n\t/**\n\t * Invokes the attached Lifecycle. When attached, the component element is\n\t * appended to the DOM and any other action to be performed must be\n\t * implemented in this method, such as, binding DOM events. A component can\n\t * be re-attached multiple times.\n\t * @param {(string|Element)=} opt_parentElement Optional parent element\n\t *     to render the component.\n\t * @param {(string|Element)=} opt_siblingElement Optional sibling element\n\t *     to render the component before it. Relevant when the component needs\n\t *     to be rendered before an existing element in the DOM.\n\t * @protected\n\t * @chainable\n\t */\n\tattach(opt_parentElement, opt_siblingElement) {\n\t\tif (!this.inDocument) {\n\t\t\tthis.attachElement(opt_parentElement, opt_siblingElement);\n\t\t\tthis.inDocument = true;\n\t\t\tthis.attachData_ = {\n\t\t\t\tparent: opt_parentElement,\n\t\t\t\tsibling: opt_siblingElement\n\t\t\t};\n\t\t\tthis.emit('attached', this.attachData_);\n\t\t\tthis.attached();\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * Lifecycle. When attached, the component element is appended to the DOM\n\t * and any other action to be performed must be implemented in this method,\n\t * such as, binding DOM events. A component can be re-attached multiple\n\t * times, therefore the undo behavior for any action performed in this phase\n\t * must be implemented on the detach phase.\n\t */\n\tattached() {}\n\n\t/**\n\t * Attaches the component element into the DOM.\n\t * @param {(string|Element)=} opt_parentElement Optional parent element\n\t *     to render the component.\n\t * @param {(string|Element)=} opt_siblingElement Optional sibling element\n\t *     to render the component before it. Relevant when the component needs\n\t *     to be rendered before an existing element in the DOM, e.g.\n\t *     `component.attach(null, existingElement)`.\n\t */\n\tattachElement(opt_parentElement, opt_siblingElement) {\n\t\tconst element = this.element;\n\t\tif (element && (opt_siblingElement || !element.parentNode)) {\n\t\t\tconst parent = toElement(opt_parentElement) || this.DEFAULT_ELEMENT_PARENT;\n\t\t\tparent.insertBefore(element, toElement(opt_siblingElement));\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. This is called when the component has just been created, before\n\t * it's rendered.\n\t */\n\tcreated() {}\n\n\t/**\n\t * Listens to a delegate event on the component's element.\n\t * @param {string} eventName The name of the event to listen to.\n\t * @param {string} selector The selector that matches the child elements that\n\t *   the event should be triggered for.\n\t * @param {!function(!Object)} callback Function to be called when the event is\n\t *   triggered. It will receive the normalized event object.\n\t * @return {!EventHandle} Can be used to remove the listener.\n\t */\n\tdelegate(eventName, selector, callback) {\n\t\treturn this.on(`delegate:${eventName}:${selector}`, callback);\n\t}\n\n\t/**\n\t * Invokes the detached Lifecycle. When detached, the component element is\n\t * removed from the DOM and any other action to be performed must be\n\t * implemented in this method, such as, unbinding DOM events. A component\n\t * can be detached multiple times.\n\t * @chainable\n\t */\n\tdetach() {\n\t\tif (this.inDocument) {\n\t\t\tif (this.element && this.element.parentNode) {\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t\tthis.inDocument = false;\n\t\t\tthis.detached();\n\t\t}\n\t\tthis.emit('detached');\n\t\treturn this;\n\t}\n\n\t/**\n\t * Lifecycle. When detached, the component element is removed from the DOM\n\t * and any other action to be performed must be implemented in this method,\n\t * such as, unbinding DOM events. A component can be detached multiple\n\t * times, therefore the undo behavior for any action performed in this phase\n\t * must be implemented on the attach phase.\n\t */\n\tdetached() {}\n\n\t/**\n\t * Lifecycle. Called when the component is disposed. Should be overridden by\n\t * sub classes to dispose of any internal data or events.\n\t */\n\tdisposed() {}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tthis.detach();\n\t\tthis.disposed();\n\n\t\tthis.elementEventProxy_.dispose();\n\t\tthis.elementEventProxy_ = null;\n\n\t\tthis.dataManager_.dispose(this);\n\t\tthis.dataManager_ = null;\n\n\t\tthis.renderer_.dispose(this);\n\t\tthis.renderer_ = null;\n\n\t\tsuper.disposeInternal();\n\t}\n\n\t/**\n\t * Gets data about where this component was attached at.\n\t * @return {!Object}\n\t */\n\tgetAttachData() {\n\t\treturn this.attachData_;\n\t}\n\n\t/**\n\t * Gets the `ComponentDataManager` being used.\n\t * @return {!ComponentDataManager}\n\t */\n\tgetDataManager() {\n\t\treturn this.dataManager_;\n\t}\n\n\t/**\n\t * Gets the configuration object that was passed to this component's constructor.\n\t * @return {!Object}\n\t */\n\tgetInitialConfig() {\n\t\treturn this.initialConfig_;\n\t}\n\n\t/**\n\t * Gets state data for this component.\n\t * @return {!Object}\n\t */\n\tgetState() {\n\t\treturn this.dataManager_.getState(this);\n\t}\n\n\t/**\n\t * Gets the keys for the state data.\n\t * @return {!Array<string>}\n\t */\n\tgetStateKeys() {\n\t\treturn this.dataManager_.getStateKeys(this);\n\t}\n\n\t/**\n\t * Gets the `ComponentRenderer` instance being used.\n\t * @return {!ComponentRenderer}\n\t */\n\tgetRenderer() {\n\t\treturn this.renderer_;\n\t}\n\n\t/**\n\t * Handles a change in the component's element.\n\t * @param {Element} prevVal\n\t * @param {Element} newVal\n\t * @protected\n\t */\n\thandleComponentElementChanged_(prevVal, newVal) {\n\t\tthis.elementEventProxy_.setOriginEmitter(newVal);\n\t\tif (this.componentCreated_) {\n\t\t\tthis.emit('elementChanged', {\n\t\t\t\tprevVal,\n\t\t\t\tnewVal\n\t\t\t});\n\t\t\tif (newVal && this.wasRendered) {\n\t\t\t\tthis.syncVisible(this.dataManager_.get(this, 'visible'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Handles state batch changes. Calls any existing `sync` functions that\n\t * match the changed state keys.\n\t * @param {Event} event\n\t * @protected\n\t */\n\thandleComponentStateChanged_(event) {\n\t\tif (!this.hasSyncUpdates()) {\n\t\t\tthis.updateRenderer_(event);\n\t\t}\n\t\tsyncState(this, event.changes);\n\t\tthis.emit('stateSynced', event);\n\t}\n\n\t/**\n\t * Handles a `stateKeyChanged` event. This is only called for components that\n\t * have requested updates to happen synchronously.\n\t * @param {!{key: string, newVal: *, prevVal: *}} data\n\t * @protected\n\t */\n\thandleComponentStateKeyChanged_(data) {\n\t\tthis.updateRenderer_({\n\t\t\tchanges: {\n\t\t\t\t[data.key]: data\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Checks if this component has sync updates enabled.\n\t * @return {boolean}\n\t */\n\thasSyncUpdates() {\n\t\treturn this.syncUpdates_;\n\t}\n\n\t/**\n\t * Informs that the component that the rendered has finished rendering it. The\n\t * renderer is the one responsible for calling this when appropriate. This\n\t * will emit events and run the appropriate lifecycle for the first render.\n\t */\n\tinformRendered() {\n\t\tconst firstRender = !this.hasRendererRendered_;\n\t\tthis.hasRendererRendered_ = true;\n\t\tthis.rendered(firstRender);\n\t\tthis.emit('rendered', firstRender);\n\t}\n\n\t/**\n\t * Checks if the given function is a component constructor.\n\t * @param {!function()} fn Any function\n\t * @return {boolean}\n\t */\n\tstatic isComponentCtor(fn) {\n\t\treturn fn.prototype && fn.prototype[Component.COMPONENT_FLAG];\n\t}\n\n\t/**\n\t * Merges two values for the ELEMENT_CLASSES property into a single one.\n\t * @param {string} class1\n\t * @param {string} class2\n\t * @return {string} The merged value.\n\t * @protected\n\t */\n\tmergeElementClasses_(class1, class2) {\n\t\treturn class1 ? class1 + ' ' + (class2 || '') : class2;\n\t}\n\n\t/**\n\t * Fired when the `events` state value is changed.\n\t * @param {!Object} event\n\t * @protected\n\t */\n\tonEventsChanged_(event) {\n\t\tthis.eventsStateKeyHandler_.removeAllListeners();\n\t\tthis.addListenersFromObj_(event.newVal);\n\t}\n\n\t/**\n\t * Creates and renders a component for the given constructor function. This\n\t * will always make sure that the constructor runs without rendering the\n\t * component, having the `render` step happen only after it has finished.\n\t * @param {!function()} Ctor The component's constructor function.\n\t * @param {Object|Element=} opt_configOrElement Optional config data or parent\n\t *     for the component.\n\t * @param {Element=} opt_element Optional parent for the component.\n\t * @return {!Component} The rendered component's instance.\n\t */\n\tstatic render(Ctor, opt_configOrElement, opt_element) {\n\t\tlet config = opt_configOrElement;\n\t\tlet element = opt_element;\n\t\tif (isElement(opt_configOrElement)) {\n\t\t\tconfig = null;\n\t\t\telement = opt_configOrElement;\n\t\t}\n\t\tconst instance = new Ctor(config, false);\n\t\tinstance.renderComponent(element);\n\t\treturn instance;\n\t}\n\n\t/**\n\t * Renders the component into the DOM via its `ComponentRenderer`. Stores the\n\t * given parent element to be used when the renderer is done (`informRendered`).\n\t * @param {(string|Element|boolean)=} opt_parentElement Optional parent element\n\t *     to render the component. If set to `false`, the element won't be\n\t *     attached to any element after rendering. In this case, `attach` should\n\t *     be called manually later to actually attach it to the dom.\n\t */\n\trenderComponent(opt_parentElement) {\n\t\tif (!this.hasRendererRendered_) {\n\t\t\tif (window.__METAL_DEV_TOOLS_HOOK__) {\n\t\t\t\twindow.__METAL_DEV_TOOLS_HOOK__(this);\n\t\t\t}\n\t\t\tthis.getRenderer().render(this);\n\t\t}\n\t\tthis.emit('render');\n\t\tsyncState(this);\n\t\tthis.attach(opt_parentElement);\n\t\tthis.wasRendered = true;\n\t}\n\n\t/**\n\t * Setter logic for the element property.\n\t * @param {?string|Element} val\n\t */\n\tset element(val) {\n\t\tif (!isElement(val) && !isString(val) && isDefAndNotNull(val)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (val) {\n\t\t\tval = toElement(val) || this.elementValue_;\n\t\t}\n\n\t\tif (this.elementValue_ !== val) {\n\t\t\tconst prev = this.elementValue_;\n\t\t\tthis.elementValue_ = val;\n\t\t\tthis.handleComponentElementChanged_(prev, val);\n\t\t}\n\t}\n\n\t/**\n\t * Sets the value of all the specified state keys.\n\t * @param {!Object.<string,*>} values A map of state keys to the values they\n\t *   should be set to.\n\t * @param {function()=} opt_callback An optional function that will be run\n\t *   after the next batched update is triggered.\n\t */\n\tsetState(state, opt_callback) {\n\t\tthis.dataManager_.setState(this, state, opt_callback);\n\t}\n\n\t/**\n\t * Setter for the `elementClasses` data property. Appends given value with\n\t * the one specified in `ELEMENT_CLASSES`.\n\t * @param {string} val\n\t * @return {string}\n\t * @protected\n\t */\n\tsetterElementClassesFn_(val) {\n\t\tconst elementClasses = getStaticProperty(\n\t\t\tthis.constructor,\n\t\t\t'ELEMENT_CLASSES',\n\t\t\tthis.mergeElementClasses_\n\t\t);\n\t\tif (elementClasses) {\n\t\t\tval += ` ${elementClasses}`;\n\t\t}\n\t\treturn val.trim();\n\t}\n\n\t/**\n\t * Sets up the component's data manager.\n\t * @protected\n\t */\n\tsetUpDataManager_() {\n\t\tthis.dataManager_ = getStaticProperty(this.constructor, 'DATA_MANAGER');\n\t\tthis.dataManager_.setUp(\n\t\t\tthis,\n\t\t\tobject.mixin({}, this.renderer_.getExtraDataConfig(this), Component.DATA)\n\t\t);\n\t}\n\n\t/**\n\t * Sets up the component's renderer.\n\t * @protected\n\t */\n\tsetUpRenderer_() {\n\t\tthis.renderer_ = getStaticProperty(this.constructor, 'RENDERER');\n\t\tthis.renderer_.setUp(this);\n\t}\n\n\t/**\n\t * Sets up the component to use sync updates when `SYNC_UPDATES` is `true`.\n\t * @protected\n\t */\n\tsetUpSyncUpdates_() {\n\t\tthis.syncUpdates_ = getStaticProperty(this.constructor, 'SYNC_UPDATES');\n\t\tif (this.hasSyncUpdates()) {\n\t\t\tthis.on(\n\t\t\t\t'stateKeyChanged',\n\t\t\t\tthis.handleComponentStateKeyChanged_.bind(this)\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Skips renderer updates until `stopSkipUpdates` is called.\n\t */\n\tstartSkipUpdates() {\n\t\tthis.skipUpdates_ = true;\n\t}\n\n\t/**\n\t * Stops skipping renderer updates.\n\t */\n\tstopSkipUpdates() {\n\t\tthis.skipUpdates_ = false;\n\t}\n\n\t/**\n\t * State synchronization logic for `visible` state key.\n\t * Updates the element's display value according to its visibility.\n\t * @param {boolean} newVal\n\t */\n\tsyncVisible(newVal) {\n\t\tif (this.element) {\n\t\t\tthis.element.style.display = newVal ? '' : 'none';\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Called whenever the component has just been rendered.\n\t * @param {boolean} firstRender Flag indicating if this was the component's\n\t *     first render.\n\t */\n\trendered() {}\n\n\t/**\n\t * Calls \"update\" on the renderer, passing it the changed data.\n\t * @param {!{changes: !Object}} data\n\t * @protected\n\t */\n\tupdateRenderer_(data) {\n\t\tif (!this.skipUpdates_ && this.hasRendererRendered_) {\n\t\t\tthis.getRenderer().update(this, data);\n\t\t}\n\t}\n\n\t/**\n\t * Validator logic for the `events` state key.\n\t * @param {Object} val\n\t * @return {boolean}\n\t * @protected\n\t */\n\tvalidatorEventsFn_(val) {\n\t\treturn !isDefAndNotNull(val) || isObject(val);\n\t}\n}\n\n/**\n * Component data definition.\n * @type {Object}\n * @static\n */\nComponent.DATA = {\n\t/**\n\t * Objects describing children elements that were passed to be rendered inside\n\t * this component.\n\t * @type {!Array<!Object>}\n\t */\n\tchildren: {\n\t\tvalidator: Array.isArray,\n\t\tvalue: []\n\t},\n\n\t/**\n\t * CSS classes to be applied to the element.\n\t * @type {string}\n\t */\n\telementClasses: {\n\t\tsetter: 'setterElementClassesFn_',\n\t\tvalidator: isString,\n\t\tvalue: ''\n\t},\n\n\t/**\n\t * Listeners that should be attached to this component. Should be provided as\n\t * an object, where the keys are event names and the values are the listener\n\t * functions (or function names).\n\t * @type {Object<string, (function()|string|{selector: string, fn: function()|string})>}\n\t */\n\tevents: {\n\t\tvalidator: 'validatorEventsFn_',\n\t\tvalue: null\n\t},\n\n\t/**\n\t * Indicates if the component is visible or not.\n\t * @type {boolean}\n\t */\n\tvisible: {\n\t\tvalidator: isBoolean,\n\t\tvalue: true\n\t}\n};\n\n/**\n * Name of the flag used to identify component constructors via their prototype.\n * @type {string}\n */\nComponent.COMPONENT_FLAG = '__metal_component__';\n\n/**\n * The `ComponentDataManager` class that should be used. This class will be\n * responsible for handling the component's data. Each component may have its\n * own implementation.\n * @type {!ComponentDataManager}\n */\nComponent.DATA_MANAGER = ComponentDataManager;\n\n/**\n * CSS classes to be applied to the element.\n * @type {string}\n */\nComponent.ELEMENT_CLASSES = '';\n\n/**\n * The `ComponentRenderer` that should be used. Components need to set this\n * to a subclass of `ComponentRenderer` that has the rendering logic, like\n * `SoyRenderer`.\n * @type {!ComponentRenderer}\n */\nComponent.RENDERER = ComponentRenderer;\n\n/**\n * Flag indicating if component updates will happen synchronously. Updates are\n * done asynchronously by default, which allows changes to be batched and\n * applied together.\n * @type {boolean}\n */\nComponent.SYNC_UPDATES = false;\n\n/**\n * Sets a prototype flag to easily determine if a given constructor is for\n * a component or not.\n */\nComponent.prototype[Component.COMPONENT_FLAG] = true;\n\nconst proxyBlackList_ = {\n\teventsChanged: true,\n\tstateChanged: true,\n\tstateKeyChanged: true\n};\n\nexport default Component;\n","'use strict';\n\nimport { getFunctionName } from 'metal';\n\n/**\n * The component registry is used to register components, so they can\n * be accessible by name.\n * @type {Object}\n */\nclass ComponentRegistry {\n\t/**\n\t * Gets the constructor function for the given component name, or\n\t * undefined if it hasn't been registered yet.\n\t * @param {string} name The component's name.\n\t * @return {?function()}\n\t * @static\n\t */\n\tstatic getConstructor(name) {\n\t\tconst constructorFn = ComponentRegistry.components_[name];\n\t\tif (!constructorFn) {\n\t\t\tconsole.error(\n\t\t\t\t`There's no constructor registered for the component named ${name}.\n\t\t\t\tComponents need to be registered via ComponentRegistry.register.`\n\t\t\t);\n\t\t}\n\t\treturn constructorFn;\n\t}\n\n\t/**\n\t * Registers a component, so it can be found by its name.\n\t * @param {!Function} constructorFn The component's constructor function.\n\t * @param {string=} opt_name Name of the registered component. If none is given\n\t *   the name defined by the NAME static variable will be used instead. If that\n\t *   isn't set as well, the name of the constructor function will be used.\n\t * @static\n\t */\n\tstatic register(constructorFn, opt_name) {\n\t\tlet name = opt_name;\n\t\tif (!name) {\n\t\t\tif (constructorFn.hasOwnProperty('NAME')) {\n\t\t\t\tname = constructorFn.NAME;\n\t\t\t} else {\n\t\t\t\tname = getFunctionName(constructorFn);\n\t\t\t}\n\t\t}\n\t\tconstructorFn.NAME = name;\n\t\tComponentRegistry.components_[name] = constructorFn;\n\t}\n}\n\n/**\n * Holds all registered components, indexed by their names.\n * @type {!Object<string, function()>}\n * @protected\n * @static\n */\nComponentRegistry.components_ = {};\n\nexport default ComponentRegistry;\n","'use strict';\n\nimport Component from '../Component';\nimport ComponentDataManager from '../ComponentDataManager';\nimport ComponentRegistry from '../ComponentRegistry';\nimport ComponentRenderer from '../ComponentRenderer';\n\nexport default Component;\nexport { Component, ComponentDataManager, ComponentRegistry, ComponentRenderer };\nexport * from '../events/events';\n","/*eslint-disable */\n\n/**\n * @license\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst scope = (typeof exports !== 'undefined' && typeof global !== 'undefined') ? global : window;\n\n(function (global, factory) {\n  (factory((global.IncrementalDOM = global.IncrementalDOM || {})));\n}(scope, function (exports) { 'use strict';\n\n  /**\n   * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS-IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /**\n   * A cached reference to the hasOwnProperty function.\n   */\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n  /**\n   * A constructor function that will create blank objects.\n   * @constructor\n   */\n  function Blank() {}\n\n  Blank.prototype = Object.create(null);\n\n  /**\n   * Used to prevent property collisions between our \"map\" and its prototype.\n   * @param {!Object<string, *>} map The map to check.\n   * @param {string} property The property to check.\n   * @return {boolean} Whether map has property.\n   */\n  var has = function (map, property) {\n    return hasOwnProperty.call(map, property);\n  };\n\n  /**\n   * Creates an map object without a prototype.\n   * @return {!Object}\n   */\n  var createMap = function () {\n    return new Blank();\n  };\n\n  /**\n   * The property name where we store Incremental DOM data.\n   */\n  var DATA_PROP = '__incrementalDOMData';\n\n  /**\n   * Keeps track of information needed to perform diffs for a given DOM node.\n   * @param {!string} nodeName\n   * @param {?string=} key\n   * @constructor\n   */\n  function NodeData(nodeName, key) {\n    /**\n     * The attributes and their values.\n     * @const {!Object<string, *>}\n     */\n    this.attrs = createMap();\n\n    /**\n     * An array of attribute name/value pairs, used for quickly diffing the\n     * incomming attributes to see if the DOM node's attributes need to be\n     * updated.\n     * @const {Array<*>}\n     */\n    this.attrsArr = [];\n\n    /**\n     * The incoming attributes for this Node, before they are updated.\n     * @const {!Object<string, *>}\n     */\n    this.newAttrs = createMap();\n\n    /**\n     * Whether or not the statics have been applied for the node yet.\n     * {boolean}\n     */\n    this.staticsApplied = false;\n\n    /**\n     * The key used to identify this node, used to preserve DOM nodes when they\n     * move within their parent.\n     * @const\n     */\n    this.key = key;\n\n    /**\n     * Keeps track of children within this node by their key.\n     * {!Object<string, !Element>}\n     */\n    this.keyMap = createMap();\n\n    /**\n     * Whether or not the keyMap is currently valid.\n     * @type {boolean}\n     */\n    this.keyMapValid = true;\n\n    /**\n     * Whether or the associated node is, or contains, a focused Element.\n     * @type {boolean}\n     */\n    this.focused = false;\n\n    /**\n     * The node name for this node.\n     * @const {string}\n     */\n    this.nodeName = nodeName;\n\n    /**\n     * @type {?string}\n     */\n    this.text = null;\n  }\n\n  /**\n   * Initializes a NodeData object for a Node.\n   *\n   * @param {Node} node The node to initialize data for.\n   * @param {string} nodeName The node name of node.\n   * @param {?string=} key The key that identifies the node.\n   * @return {!NodeData} The newly initialized data object\n   */\n  var initData = function (node, nodeName, key) {\n    var data = new NodeData(nodeName, key);\n    node[DATA_PROP] = data;\n    return data;\n  };\n\n  /**\n   * Retrieves the NodeData object for a Node, creating it if necessary.\n   *\n   * @param {?Node} node The Node to retrieve the data for.\n   * @return {!NodeData} The NodeData for this Node.\n   */\n  var getData = function (node) {\n    importNode(node);\n    return node[DATA_PROP];\n  };\n\n  /**\n   * Imports node and its subtree, initializing caches.\n   *\n   * @param {?Node} node The Node to import.\n   */\n  var importNode = function (node) {\n    if (node[DATA_PROP]) {\n      return;\n    }\n\n    var isElement = node instanceof Element;\n    var nodeName = isElement ? node.localName : node.nodeName;\n    var key = isElement ? node.getAttribute('key') : null;\n    var data = initData(node, nodeName, key);\n\n    if (key) {\n      getData(node.parentNode).keyMap[key] = node;\n    }\n\n    if (isElement) {\n      var attributes = node.attributes;\n      var attrs = data.attrs;\n      var newAttrs = data.newAttrs;\n      var attrsArr = data.attrsArr;\n\n      for (var i = 0; i < attributes.length; i += 1) {\n        var attr = attributes[i];\n        var name = attr.name;\n        var value = attr.value;\n\n        attrs[name] = value;\n        newAttrs[name] = undefined;\n        attrsArr.push(name);\n        attrsArr.push(value);\n      }\n    }\n\n    for (var child = node.firstChild; child; child = child.nextSibling) {\n      importNode(child);\n    }\n  };\n\n  /**\n   * Gets the namespace to create an element (of a given tag) in.\n   * @param {string} tag The tag to get the namespace for.\n   * @param {?Node} parent\n   * @return {?string} The namespace to create the tag in.\n   */\n  var getNamespaceForTag = function (tag, parent) {\n    if (tag === 'svg') {\n      return 'http://www.w3.org/2000/svg';\n    }\n\n    if (getData(parent).nodeName === 'foreignObject') {\n      return null;\n    }\n\n    return parent.namespaceURI;\n  };\n\n  /**\n   * Creates an Element.\n   * @param {Document} doc The document with which to create the Element.\n   * @param {?Node} parent\n   * @param {string} tag The tag for the Element.\n   * @param {?string=} key A key to identify the Element.\n   * @return {!Element}\n   */\n  var createElement = function (doc, parent, tag, key) {\n    var namespace = getNamespaceForTag(tag, parent);\n    var el = undefined;\n\n    if (namespace) {\n      el = doc.createElementNS(namespace, tag);\n    } else {\n      el = doc.createElement(tag);\n    }\n\n    initData(el, tag, key);\n\n    return el;\n  };\n\n  /**\n   * Creates a Text Node.\n   * @param {Document} doc The document with which to create the Element.\n   * @return {!Text}\n   */\n  var createText = function (doc) {\n    var node = doc.createTextNode('');\n    initData(node, '#text', null);\n    return node;\n  };\n\n  /**\n   * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS-IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /** @const */\n  var notifications = {\n    /**\n     * Called after patch has compleated with any Nodes that have been created\n     * and added to the DOM.\n     * @type {?function(Array<!Node>)}\n     */\n    nodesCreated: null,\n\n    /**\n     * Called after patch has compleated with any Nodes that have been removed\n     * from the DOM.\n     * Note it's an applications responsibility to handle any childNodes.\n     * @type {?function(Array<!Node>)}\n     */\n    nodesDeleted: null\n  };\n\n  /**\n   * Keeps track of the state of a patch.\n   * @constructor\n   */\n  function Context() {\n    /**\n     * @type {(Array<!Node>|undefined)}\n     */\n    this.created = notifications.nodesCreated && [];\n\n    /**\n     * @type {(Array<!Node>|undefined)}\n     */\n    this.deleted = notifications.nodesDeleted && [];\n  }\n\n  /**\n   * @param {!Node} node\n   */\n  Context.prototype.markCreated = function (node) {\n    if (this.created) {\n      this.created.push(node);\n    }\n  };\n\n  /**\n   * @param {!Node} node\n   */\n  Context.prototype.markDeleted = function (node) {\n    if (this.deleted) {\n      this.deleted.push(node);\n    }\n  };\n\n  /**\n   * Notifies about nodes that were created during the patch opearation.\n   */\n  Context.prototype.notifyChanges = function () {\n    if (this.created && this.created.length > 0) {\n      notifications.nodesCreated(this.created);\n    }\n\n    if (this.deleted && this.deleted.length > 0) {\n      notifications.nodesDeleted(this.deleted);\n    }\n  };\n\n  /**\n   * Copyright 2016 The Incremental DOM Authors. All Rights Reserved.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS-IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /**\n   * @param {!Node} node\n   * @return {boolean} True if the node the root of a document, false otherwise.\n   */\n  var isDocumentRoot = function (node) {\n    // For ShadowRoots, check if they are a DocumentFragment instead of if they\n    // are a ShadowRoot so that this can work in 'use strict' if ShadowRoots are\n    // not supported.\n    return node instanceof Document || node instanceof DocumentFragment;\n  };\n\n  /**\n   * @param {!Node} node The node to start at, inclusive.\n   * @param {?Node} root The root ancestor to get until, exclusive.\n   * @return {!Array<!Node>} The ancestry of DOM nodes.\n   */\n  var getAncestry = function (node, root) {\n    var ancestry = [];\n    var cur = node;\n\n    while (cur !== root) {\n      ancestry.push(cur);\n      cur = cur.parentNode;\n    }\n\n    return ancestry;\n  };\n\n  /**\n   * @param {!Node} node\n   * @return {!Node} The root node of the DOM tree that contains node.\n   */\n  var getRoot = function (node) {\n    var cur = node;\n    var prev = cur;\n\n    while (cur) {\n      prev = cur;\n      cur = cur.parentNode;\n    }\n\n    return prev;\n  };\n\n  /**\n   * @param {!Node} node The node to get the activeElement for.\n   * @return {?Element} The activeElement in the Document or ShadowRoot\n   *     corresponding to node, if present.\n   */\n  var getActiveElement = function (node) {\n    var root = getRoot(node);\n    return isDocumentRoot(root) ? root.activeElement : null;\n  };\n\n  /**\n   * Gets the path of nodes that contain the focused node in the same document as\n   * a reference node, up until the root.\n   * @param {!Node} node The reference node to get the activeElement for.\n   * @param {?Node} root The root to get the focused path until.\n   * @return {!Array<Node>}\n   */\n  var getFocusedPath = function (node, root) {\n    var activeElement = getActiveElement(node);\n\n    if (!activeElement || !node.contains(activeElement)) {\n      return [];\n    }\n\n    return getAncestry(activeElement, root);\n  };\n\n  /**\n   * Like insertBefore, but instead instead of moving the desired node, instead\n   * moves all the other nodes after.\n   * @param {?Node} parentNode\n   * @param {!Node} node\n   * @param {?Node} referenceNode\n   */\n  var moveBefore = function (parentNode, node, referenceNode) {\n    var insertReferenceNode = node.nextSibling;\n    var cur = referenceNode;\n\n    while (cur !== node) {\n      var next = cur.nextSibling;\n      parentNode.insertBefore(cur, insertReferenceNode);\n      cur = next;\n    }\n  };\n\n  /** @type {?Context} */\n  var context = null;\n\n  /** @type {?Node} */\n  var currentNode = null;\n\n  /** @type {?Node} */\n  var currentParent = null;\n\n  /** @type {?Document} */\n  var doc = null;\n\n  /**\n   * @param {!Array<Node>} focusPath The nodes to mark.\n   * @param {boolean} focused Whether or not they are focused.\n   */\n  var markFocused = function (focusPath, focused) {\n    for (var i = 0; i < focusPath.length; i += 1) {\n      getData(focusPath[i]).focused = focused;\n    }\n  };\n\n  /**\n   * Returns a patcher function that sets up and restores a patch context,\n   * running the run function with the provided data.\n   * @param {function((!Element|!DocumentFragment),!function(T),T=): ?Node} run\n   * @return {function((!Element|!DocumentFragment),!function(T),T=): ?Node}\n   * @template T\n   */\n  var patchFactory = function (run) {\n    /**\n     * TODO(moz): These annotations won't be necessary once we switch to Closure\n     * Compiler's new type inference. Remove these once the switch is done.\n     *\n     * @param {(!Element|!DocumentFragment)} node\n     * @param {!function(T)} fn\n     * @param {T=} data\n     * @return {?Node} node\n     * @template T\n     */\n    var f = function (node, fn, data) {\n      var prevContext = context;\n      var prevDoc = doc;\n      var prevCurrentNode = currentNode;\n      var prevCurrentParent = currentParent;\n      var previousInAttributes = false;\n      var previousInSkip = false;\n\n      context = new Context();\n      doc = node.ownerDocument;\n      currentParent = node.parentNode;\n\n      if ('production' !== 'production') {}\n\n      var focusPath = getFocusedPath(node, currentParent);\n      markFocused(focusPath, true);\n      var retVal = run(node, fn, data);\n      markFocused(focusPath, false);\n\n      if ('production' !== 'production') {}\n\n      context.notifyChanges();\n\n      context = prevContext;\n      doc = prevDoc;\n      currentNode = prevCurrentNode;\n      currentParent = prevCurrentParent;\n\n      return retVal;\n    };\n    return f;\n  };\n\n  /**\n   * Patches the document starting at node with the provided function. This\n   * function may be called during an existing patch operation.\n   * @param {!Element|!DocumentFragment} node The Element or Document\n   *     to patch.\n   * @param {!function(T)} fn A function containing elementOpen/elementClose/etc.\n   *     calls that describe the DOM.\n   * @param {T=} data An argument passed to fn to represent DOM state.\n   * @return {!Node} The patched node.\n   * @template T\n   */\n  var patchInner = patchFactory(function (node, fn, data) {\n    currentNode = node;\n\n    enterNode();\n    fn(data);\n    exitNode();\n\n    if ('production' !== 'production') {}\n\n    return node;\n  });\n\n  /**\n   * Patches an Element with the the provided function. Exactly one top level\n   * element call should be made corresponding to `node`.\n   * @param {!Element} node The Element where the patch should start.\n   * @param {!function(T)} fn A function containing elementOpen/elementClose/etc.\n   *     calls that describe the DOM. This should have at most one top level\n   *     element call.\n   * @param {T=} data An argument passed to fn to represent DOM state.\n   * @return {?Node} The node if it was updated, its replacedment or null if it\n   *     was removed.\n   * @template T\n   */\n  var patchOuter = patchFactory(function (node, fn, data) {\n    var startNode = /** @type {!Element} */{ nextSibling: node };\n    var expectedNextNode = null;\n    var expectedPrevNode = null;\n\n    if ('production' !== 'production') {}\n\n    currentNode = startNode;\n    fn(data);\n\n    if ('production' !== 'production') {}\n\n    if (node !== currentNode && node.parentNode) {\n      removeChild(currentParent, node, getData(currentParent).keyMap);\n    }\n\n    return startNode === currentNode ? null : currentNode;\n  });\n\n  /**\n   * Checks whether or not the current node matches the specified nodeName and\n   * key.\n   *\n   * @param {!Node} matchNode A node to match the data to.\n   * @param {?string} nodeName The nodeName for this node.\n   * @param {?string=} key An optional key that identifies a node.\n   * @return {boolean} True if the node matches, false otherwise.\n   */\n  var matches = function (matchNode, nodeName, key) {\n    var data = getData(matchNode);\n\n    // Key check is done using double equals as we want to treat a null key the\n    // same as undefined. This should be okay as the only values allowed are\n    // strings, null and undefined so the == semantics are not too weird.\n    return nodeName === data.nodeName && key == data.key;\n  };\n\n  /**\n   * Aligns the virtual Element definition with the actual DOM, moving the\n   * corresponding DOM node to the correct location or creating it if necessary.\n   * @param {string} nodeName For an Element, this should be a valid tag string.\n   *     For a Text, this should be #text.\n   * @param {?string=} key The key used to identify this element.\n   */\n  var alignWithDOM = function (nodeName, key) {\n    if (currentNode && matches(currentNode, nodeName, key)) {\n      return;\n    }\n\n    var parentData = getData(currentParent);\n    var currentNodeData = currentNode && getData(currentNode);\n    var keyMap = parentData.keyMap;\n    var node = undefined;\n\n    // Check to see if the node has moved within the parent.\n    if (key) {\n      var keyNode = keyMap[key];\n      if (keyNode) {\n        if (matches(keyNode, nodeName, key)) {\n          node = keyNode;\n        } else if (keyNode === currentNode) {\n          context.markDeleted(keyNode);\n        } else {\n          removeChild(currentParent, keyNode, keyMap);\n        }\n      }\n    }\n\n    // Create the node if it doesn't exist.\n    if (!node) {\n      if (nodeName === '#text') {\n        node = createText(doc);\n      } else {\n        node = createElement(doc, currentParent, nodeName, key);\n      }\n\n      if (key) {\n        keyMap[key] = node;\n      }\n\n      context.markCreated(node);\n    }\n\n    // Re-order the node into the right position, preserving focus if either\n    // node or currentNode are focused by making sure that they are not detached\n    // from the DOM.\n    if (getData(node).focused) {\n      // Move everything else before the node.\n      moveBefore(currentParent, node, currentNode);\n    } else if (currentNodeData && currentNodeData.key && !currentNodeData.focused) {\n      // Remove the currentNode, which can always be added back since we hold a\n      // reference through the keyMap. This prevents a large number of moves when\n      // a keyed item is removed or moved backwards in the DOM.\n      currentParent.replaceChild(node, currentNode);\n      parentData.keyMapValid = false;\n    } else {\n      currentParent.insertBefore(node, currentNode);\n    }\n\n    currentNode = node;\n  };\n\n  /**\n   * @param {?Node} node\n   * @param {?Node} child\n   * @param {?Object<string, !Element>} keyMap\n   */\n  var removeChild = function (node, child, keyMap) {\n    if (child.parentNode === node) {\n      node.removeChild(child);\n    }\n    context.markDeleted( /** @type {!Node}*/child);\n\n    var key = getData(child).key;\n    if (key) {\n      delete keyMap[key];\n    }\n  };\n\n  /**\n   * Clears out any unvisited Nodes, as the corresponding virtual element\n   * functions were never called for them.\n   */\n  var clearUnvisitedDOM = function () {\n    var node = currentParent;\n    var data = getData(node);\n    var keyMap = data.keyMap;\n    var keyMapValid = data.keyMapValid;\n    var child = node.lastChild;\n    var key = undefined;\n\n    if (child === currentNode && keyMapValid) {\n      return;\n    }\n\n    while (child !== currentNode) {\n      removeChild(node, child, keyMap);\n      child = node.lastChild;\n    }\n\n    // Clean the keyMap, removing any unusued keys.\n    if (!keyMapValid) {\n      for (key in keyMap) {\n        child = keyMap[key];\n        if (child.parentNode !== node) {\n          context.markDeleted(child);\n          delete keyMap[key];\n        }\n      }\n\n      data.keyMapValid = true;\n    }\n  };\n\n  /**\n   * Changes to the first child of the current node.\n   */\n  var enterNode = function () {\n    currentParent = currentNode;\n    currentNode = null;\n  };\n\n  /**\n   * @return {?Node} The next Node to be patched.\n   */\n  var getNextNode = function () {\n    if (currentNode) {\n      return currentNode.nextSibling;\n    } else {\n      return currentParent.firstChild;\n    }\n  };\n\n  /**\n   * Changes to the next sibling of the current node.\n   */\n  var nextNode = function () {\n    currentNode = getNextNode();\n  };\n\n  /**\n   * Changes to the parent of the current node, removing any unvisited children.\n   */\n  var exitNode = function () {\n    clearUnvisitedDOM();\n\n    currentNode = currentParent;\n    currentParent = currentParent.parentNode;\n  };\n\n  /**\n   * Makes sure that the current node is an Element with a matching tagName and\n   * key.\n   *\n   * @param {string} tag The element's tag.\n   * @param {?string=} key The key used to identify this element. This can be an\n   *     empty string, but performance may be better if a unique value is used\n   *     when iterating over an array of items.\n   * @return {!Element} The corresponding Element.\n   */\n  var coreElementOpen = function (tag, key) {\n    nextNode();\n    alignWithDOM(tag, key);\n    enterNode();\n    return (/** @type {!Element} */currentParent\n    );\n  };\n\n  /**\n   * Closes the currently open Element, removing any unvisited children if\n   * necessary.\n   *\n   * @return {!Element} The corresponding Element.\n   */\n  var coreElementClose = function () {\n    if ('production' !== 'production') {}\n\n    exitNode();\n    return (/** @type {!Element} */currentNode\n    );\n  };\n\n  /**\n   * Makes sure the current node is a Text node and creates a Text node if it is\n   * not.\n   *\n   * @return {!Text} The corresponding Text Node.\n   */\n  var coreText = function () {\n    nextNode();\n    alignWithDOM('#text', null);\n    return (/** @type {!Text} */currentNode\n    );\n  };\n\n  /**\n   * Gets the current Element being patched.\n   * @return {!Element}\n   */\n  var currentElement = function () {\n    if ('production' !== 'production') {}\n    return (/** @type {!Element} */currentParent\n    );\n  };\n\n  /**\n   * @return {Node} The Node that will be evaluated for the next instruction.\n   */\n  var currentPointer = function () {\n    if ('production' !== 'production') {}\n    return getNextNode();\n  };\n\n  /**\n   * Skips the children in a subtree, allowing an Element to be closed without\n   * clearing out the children.\n   */\n  var skip = function () {\n    if ('production' !== 'production') {}\n    currentNode = currentParent.lastChild;\n  };\n\n  /**\n   * Skips the next Node to be patched, moving the pointer forward to the next\n   * sibling of the current pointer.\n   */\n  var skipNode = nextNode;\n\n  /**\n   * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS-IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /** @const */\n  var symbols = {\n    default: '__default'\n  };\n\n  /**\n   * @param {string} name\n   * @return {string|undefined} The namespace to use for the attribute.\n   */\n  var getNamespace = function (name) {\n    if (name.lastIndexOf('xml:', 0) === 0) {\n      return 'http://www.w3.org/XML/1998/namespace';\n    }\n\n    if (name.lastIndexOf('xlink:', 0) === 0) {\n      return 'http://www.w3.org/1999/xlink';\n    }\n  };\n\n  /**\n   * Applies an attribute or property to a given Element. If the value is null\n   * or undefined, it is removed from the Element. Otherwise, the value is set\n   * as an attribute.\n   * @param {!Element} el\n   * @param {string} name The attribute's name.\n   * @param {?(boolean|number|string)=} value The attribute's value.\n   */\n  var applyAttr = function (el, name, value) {\n    if (value == null) {\n      el.removeAttribute(name);\n    } else {\n      var attrNS = getNamespace(name);\n      if (attrNS) {\n        el.setAttributeNS(attrNS, name, value);\n      } else {\n        el.setAttribute(name, value);\n      }\n    }\n  };\n\n  /**\n   * Applies a property to a given Element.\n   * @param {!Element} el\n   * @param {string} name The property's name.\n   * @param {*} value The property's value.\n   */\n  var applyProp = function (el, name, value) {\n    el[name] = value;\n  };\n\n  /**\n   * Applies a value to a style declaration. Supports CSS custom properties by\n   * setting properties containing a dash using CSSStyleDeclaration.setProperty.\n   * @param {CSSStyleDeclaration} style\n   * @param {!string} prop\n   * @param {*} value\n   */\n  var setStyleValue = function (style, prop, value) {\n    if (prop.indexOf('-') >= 0) {\n      style.setProperty(prop, /** @type {string} */value);\n    } else {\n      style[prop] = value;\n    }\n  };\n\n  /**\n   * Applies a style to an Element. No vendor prefix expansion is done for\n   * property names/values.\n   * @param {!Element} el\n   * @param {string} name The attribute's name.\n   * @param {*} style The style to set. Either a string of css or an object\n   *     containing property-value pairs.\n   */\n  var applyStyle = function (el, name, style) {\n    if (typeof style === 'string') {\n      el.style.cssText = style;\n    } else {\n      el.style.cssText = '';\n      var elStyle = el.style;\n      var obj = /** @type {!Object<string,string>} */style;\n\n      for (var prop in obj) {\n        if (has(obj, prop)) {\n          setStyleValue(elStyle, prop, obj[prop]);\n        }\n      }\n    }\n  };\n\n  /**\n   * Updates a single attribute on an Element.\n   * @param {!Element} el\n   * @param {string} name The attribute's name.\n   * @param {*} value The attribute's value. If the value is an object or\n   *     function it is set on the Element, otherwise, it is set as an HTML\n   *     attribute.\n   */\n  var applyAttributeTyped = function (el, name, value) {\n    var type = typeof value;\n\n    if (type === 'object' || type === 'function') {\n      applyProp(el, name, value);\n    } else {\n      applyAttr(el, name, /** @type {?(boolean|number|string)} */value);\n    }\n  };\n\n  /**\n   * Calls the appropriate attribute mutator for this attribute.\n   * @param {!Element} el\n   * @param {string} name The attribute's name.\n   * @param {*} value The attribute's value.\n   */\n  var updateAttribute = function (el, name, value) {\n    var data = getData(el);\n    var attrs = data.attrs;\n\n    if (attrs[name] === value) {\n      return;\n    }\n\n    var mutator = attributes[name] || attributes[symbols.default];\n    mutator(el, name, value);\n\n    attrs[name] = value;\n  };\n\n  /**\n   * A publicly mutable object to provide custom mutators for attributes.\n   * @const {!Object<string, function(!Element, string, *)>}\n   */\n  var attributes = createMap();\n\n  // Special generic mutator that's called for any attribute that does not\n  // have a specific mutator.\n  attributes[symbols.default] = applyAttributeTyped;\n\n  attributes['style'] = applyStyle;\n\n  /**\n   * The offset in the virtual element declaration where the attributes are\n   * specified.\n   * @const\n   */\n  var ATTRIBUTES_OFFSET = 3;\n\n  /**\n   * Builds an array of arguments for use with elementOpenStart, attr and\n   * elementOpenEnd.\n   * @const {Array<*>}\n   */\n  var argsBuilder = [];\n\n  /**\n   * @param {string} tag The element's tag.\n   * @param {?string=} key The key used to identify this element. This can be an\n   *     empty string, but performance may be better if a unique value is used\n   *     when iterating over an array of items.\n   * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n   *     static attributes for the Element. These will only be set once when the\n   *     Element is created.\n   * @param {...*} var_args, Attribute name/value pairs of the dynamic attributes\n   *     for the Element.\n   * @return {!Element} The corresponding Element.\n   */\n  var elementOpen = function (tag, key, statics, var_args) {\n    if ('production' !== 'production') {}\n\n    var node = coreElementOpen(tag, key);\n    var data = getData(node);\n\n    if (!data.staticsApplied) {\n      if (statics) {\n        for (var _i = 0; _i < statics.length; _i += 2) {\n          var name = /** @type {string} */statics[_i];\n          var value = statics[_i + 1];\n          updateAttribute(node, name, value);\n        }\n      }\n      // Down the road, we may want to keep track of the statics array to use it\n      // as an additional signal about whether a node matches or not. For now,\n      // just use a marker so that we do not reapply statics.\n      data.staticsApplied = true;\n    }\n\n    /*\n     * Checks to see if one or more attributes have changed for a given Element.\n     * When no attributes have changed, this is much faster than checking each\n     * individual argument. When attributes have changed, the overhead of this is\n     * minimal.\n     */\n    var attrsArr = data.attrsArr;\n    var newAttrs = data.newAttrs;\n    var isNew = !attrsArr.length;\n    var i = ATTRIBUTES_OFFSET;\n    var j = 0;\n\n    for (; i < arguments.length; i += 2, j += 2) {\n      var _attr = arguments[i];\n      if (isNew) {\n        attrsArr[j] = _attr;\n        newAttrs[_attr] = undefined;\n      } else if (attrsArr[j] !== _attr) {\n        break;\n      }\n\n      var value = arguments[i + 1];\n      if (isNew || attrsArr[j + 1] !== value) {\n        attrsArr[j + 1] = value;\n        updateAttribute(node, _attr, value);\n      }\n    }\n\n    if (i < arguments.length || j < attrsArr.length) {\n      for (; i < arguments.length; i += 1, j += 1) {\n        attrsArr[j] = arguments[i];\n      }\n\n      if (j < attrsArr.length) {\n        attrsArr.length = j;\n      }\n\n      /*\n       * Actually perform the attribute update.\n       */\n      for (i = 0; i < attrsArr.length; i += 2) {\n        var name = /** @type {string} */attrsArr[i];\n        var value = attrsArr[i + 1];\n        newAttrs[name] = value;\n      }\n\n      for (var _attr2 in newAttrs) {\n        updateAttribute(node, _attr2, newAttrs[_attr2]);\n        newAttrs[_attr2] = undefined;\n      }\n    }\n\n    return node;\n  };\n\n  /**\n   * Declares a virtual Element at the current location in the document. This\n   * corresponds to an opening tag and a elementClose tag is required. This is\n   * like elementOpen, but the attributes are defined using the attr function\n   * rather than being passed as arguments. Must be folllowed by 0 or more calls\n   * to attr, then a call to elementOpenEnd.\n   * @param {string} tag The element's tag.\n   * @param {?string=} key The key used to identify this element. This can be an\n   *     empty string, but performance may be better if a unique value is used\n   *     when iterating over an array of items.\n   * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n   *     static attributes for the Element. These will only be set once when the\n   *     Element is created.\n   */\n  var elementOpenStart = function (tag, key, statics) {\n    if ('production' !== 'production') {}\n\n    argsBuilder[0] = tag;\n    argsBuilder[1] = key;\n    argsBuilder[2] = statics;\n  };\n\n  /***\n   * Defines a virtual attribute at this point of the DOM. This is only valid\n   * when called between elementOpenStart and elementOpenEnd.\n   *\n   * @param {string} name\n   * @param {*} value\n   */\n  var attr = function (name, value) {\n    if ('production' !== 'production') {}\n\n    argsBuilder.push(name);\n    argsBuilder.push(value);\n  };\n\n  /**\n   * Closes an open tag started with elementOpenStart.\n   * @return {!Element} The corresponding Element.\n   */\n  var elementOpenEnd = function () {\n    if ('production' !== 'production') {}\n\n    var node = elementOpen.apply(null, argsBuilder);\n    argsBuilder.length = 0;\n    return node;\n  };\n\n  /**\n   * Closes an open virtual Element.\n   *\n   * @param {string} tag The element's tag.\n   * @return {!Element} The corresponding Element.\n   */\n  var elementClose = function (tag) {\n    if ('production' !== 'production') {}\n\n    var node = coreElementClose();\n\n    if ('production' !== 'production') {}\n\n    return node;\n  };\n\n  /**\n   * Declares a virtual Element at the current location in the document that has\n   * no children.\n   * @param {string} tag The element's tag.\n   * @param {?string=} key The key used to identify this element. This can be an\n   *     empty string, but performance may be better if a unique value is used\n   *     when iterating over an array of items.\n   * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n   *     static attributes for the Element. These will only be set once when the\n   *     Element is created.\n   * @param {...*} var_args Attribute name/value pairs of the dynamic attributes\n   *     for the Element.\n   * @return {!Element} The corresponding Element.\n   */\n  var elementVoid = function (tag, key, statics, var_args) {\n    elementOpen.apply(null, arguments);\n    return elementClose(tag);\n  };\n\n  /**\n   * Declares a virtual Text at this point in the document.\n   *\n   * @param {string|number|boolean} value The value of the Text.\n   * @param {...(function((string|number|boolean)):string)} var_args\n   *     Functions to format the value which are called only when the value has\n   *     changed.\n   * @return {!Text} The corresponding text node.\n   */\n  var text = function (value, var_args) {\n    if ('production' !== 'production') {}\n\n    var node = coreText();\n    var data = getData(node);\n\n    if (data.text !== value) {\n      data.text = /** @type {string} */value;\n\n      var formatted = value;\n      for (var i = 1; i < arguments.length; i += 1) {\n        /*\n         * Call the formatter function directly to prevent leaking arguments.\n         * https://github.com/google/incremental-dom/pull/204#issuecomment-178223574\n         */\n        var fn = arguments[i];\n        formatted = fn(formatted);\n      }\n\n      node.data = formatted;\n    }\n\n    return node;\n  };\n\n  exports.patch = patchInner;\n  exports.patchInner = patchInner;\n  exports.patchOuter = patchOuter;\n  exports.currentElement = currentElement;\n  exports.currentPointer = currentPointer;\n  exports.skip = skip;\n  exports.skipNode = skipNode;\n  exports.elementVoid = elementVoid;\n  exports.elementOpenStart = elementOpenStart;\n  exports.elementOpenEnd = elementOpenEnd;\n  exports.elementOpen = elementOpen;\n  exports.elementClose = elementClose;\n  exports.text = text;\n  exports.attr = attr;\n  exports.symbols = symbols;\n  exports.attributes = attributes;\n  exports.applyAttr = applyAttr;\n  exports.applyProp = applyProp;\n  exports.notifications = notifications;\n  exports.importNode = importNode;\n\n}));\n\n/* eslint-enable */\n","'use strict';\n\nconst RENDERER_DATA = '__METAL_IC_RENDERER_DATA__';\n\n/**\n * Removes the incremental dom renderer data object for this component.\n * @param {!Component} component\n */\nexport function clearData(component) {\n\tcomponent[RENDERER_DATA] = null;\n}\n\n/**\n * Gets the incremental dom renderer data object for this component, creating\n * it if it doesn't exist yet.\n * @param {!Component} component\n * @return {!Object}\n */\nexport function getData(component) {\n\tif (!component[RENDERER_DATA]) {\n\t\tcomponent[RENDERER_DATA] = {};\n\t}\n\treturn component[RENDERER_DATA];\n}\n","'use strict';\n\nimport { getData } from './data';\n\n/**\n * Clears the changes tracked so far.\n * @param {!Object} data\n */\nexport function clearChanges(data) {\n\tdata.changes = null;\n}\n\n/**\n * Handles the `stateKeyChanged` event from a component. Stores change data.\n * @param {!Object} data\n * @param {!Object} eventData\n * @private\n */\nfunction handleStateKeyChanged_(data, eventData) {\n\tdata.changes = data.changes || {};\n\tconst type = eventData.type || 'props';\n\tdata.changes[type] = data.changes[type] || {};\n\tdata.changes[type][eventData.key] = eventData;\n}\n\n/**\n * Returns an object with changes in the given component since the last time,\n * or null if there weren't any.\n * @param {!Component} component\n * @return {Object}\n */\nexport function getChanges(component) {\n\treturn getData(component).changes;\n}\n\n/**\n * Starts tracking changes for the given component\n * @param {!Component} component\n */\nexport function trackChanges(component) {\n\tconst data = getData(component);\n\tcomponent.on('stateKeyChanged', handleStateKeyChanged_.bind(null, data));\n}\n","'use strict';\n\n/**\n * Builds the component config object from its incremental dom call's\n * arguments.\n * @param {!Array} args\n * @return {!Object}\n */\nexport function buildConfigFromCall(args) {\n\tconst config = {};\n\tif (args[1]) {\n\t\tconfig.key = args[1];\n\t}\n\tconst attrsArr = (args[2] || []).concat(args.slice(3));\n\tfor (let i = 0; i < attrsArr.length; i += 2) {\n\t\tconfig[attrsArr[i]] = attrsArr[i + 1];\n\t}\n\treturn config;\n}\n\n/**\n * Builds an incremental dom call array from the given tag and config object.\n * @param {string} tag\n * @param {!Object} config\n * @return {!Array}\n */\nexport function buildCallFromConfig(tag, config) {\n\tconst call = [tag, config.key, []];\n\tconst keys = Object.keys(config);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tif (keys[i] !== 'children') {\n\t\t\tcall.push(keys[i], config[keys[i]]);\n\t\t}\n\t}\n\treturn call;\n}\n","'use strict';\n\nimport './incremental-dom';\n\n/**\n * Gets the original incremental dom functions.\n * @return {!Object}\n */\nexport function getOriginalFns() {\n\treturn originalFns;\n}\n\n/**\n * Gets the original incremental dom function with the given name.\n * @param {string} name\n * @return {!Object}\n */\nexport function getOriginalFn(name) {\n\treturn originalFns[name];\n}\n\n/**\n * Starts intercepting calls to incremental dom, replacing them with the given\n * functions. Note that `elementVoid`, `elementOpenStart`, `elementOpenEnd`\n * and `attr` are the only ones that can't be intercepted, since they'll\n * automatically be converted into equivalent calls to `elementOpen` and\n * `elementClose`.\n * @param {!Object} fns Functions to be called instead of the original ones\n *     from incremental DOM. Should be given as a map from the function name\n *     to the function that should intercept it. All interceptors will receive\n *     the original function as the first argument, the actual arguments from\n *     from the original call following it.\n */\nexport function startInterception(fns) {\n\tfns.attr = fnAttr;\n\tfns.elementOpenEnd = fnOpenEnd;\n\tfns.elementOpenStart = fnOpenStart;\n\tfns.elementVoid = fnVoid;\n\tfnStack.push(fns);\n}\n\n/**\n * Restores the original `elementOpen` function from incremental dom to the\n * implementation it used before the last call to `startInterception`.\n */\nexport function stopInterception() {\n\tfnStack.pop();\n}\n\nconst originalFns = {\n\tattr: IncrementalDOM.attr,\n\tattributes: IncrementalDOM.attributes[IncrementalDOM.symbols.default],\n\telementClose: IncrementalDOM.elementClose,\n\telementOpen: IncrementalDOM.elementOpen,\n\telementOpenEnd: IncrementalDOM.elementOpenEnd,\n\telementOpenStart: IncrementalDOM.elementOpenStart,\n\telementVoid: IncrementalDOM.elementVoid,\n\ttext: IncrementalDOM.text\n};\n\nconst fnStack = [];\n\nlet collectedArgs = [];\n\nfunction fnAttr(name, value) {\n\tcollectedArgs.push(name, value);\n}\n\nfunction fnOpenStart(tag, key, statics) {\n\tcollectedArgs = [tag, key, statics];\n}\n\nfunction fnOpenEnd() {\n\treturn IncrementalDOM.elementOpen(...collectedArgs);\n}\n\nfunction fnVoid() {\n\tIncrementalDOM.elementOpen.apply(null, arguments);\n\treturn IncrementalDOM.elementClose.apply(null, arguments);\n}\n\nfunction getStack() {\n\treturn fnStack.length > 0 ? fnStack[fnStack.length - 1] : null;\n}\n\nfunction buildHandleCall(name) {\n\tconst data = {\n\t\tname\n\t};\n\tconst fn = handleCall.bind(data);\n\treturn fn;\n}\n\nfunction handleCall() {\n\tconst name = this.name; // eslint-disable-line\n\tconst stack = getStack();\n\tconst fn = (stack && stack[name]) || originalFns[name];\n\treturn fn.apply(null, arguments);\n}\n\nIncrementalDOM.attr = buildHandleCall('attr');\nIncrementalDOM.elementClose = buildHandleCall('elementClose');\nIncrementalDOM.elementOpen = buildHandleCall('elementOpen');\nIncrementalDOM.elementOpenEnd = buildHandleCall('elementOpenEnd');\nIncrementalDOM.elementOpenStart = buildHandleCall('elementOpenStart');\nIncrementalDOM.elementVoid = buildHandleCall('elementVoid');\nIncrementalDOM.text = buildHandleCall('text');\n\nIncrementalDOM.attributes[IncrementalDOM.symbols.default] = buildHandleCall(\n\t'attributes'\n);\n","'use strict';\n\nimport { buildCallFromConfig, buildConfigFromCall } from '../callArgs';\nimport { isDef } from 'metal';\nimport { startInterception, stopInterception } from '../intercept';\n\n/**\n * Property identifying a specific object as a Metal.js child node, and\n * pointing to the component instance that created it.\n * @type {string}\n */\nexport const CHILD_OWNER = '__metalChildOwner';\n\n/**\n * Captures all child elements from incremental dom calls.\n * @param {!Component} component The component that is capturing children.\n * @param {!function()} callback Function to be called when children have all\n *     been captured.\n * @param {Object} data Data to pass to the callback function when calling it.\n */\nexport function captureChildren(component, callback, data) {\n\towner_ = component;\n\tcallback_ = callback;\n\tcallbackData_ = data;\n\ttree_ = {\n\t\tprops: {\n\t\t\tchildren: []\n\t\t}\n\t};\n\ttree_.config = tree_.props;\n\tcurrentParent_ = tree_;\n\tisCapturing_ = true;\n\tstartInterception({\n\t\telementClose: handleInterceptedCloseCall_,\n\t\telementOpen: handleInterceptedOpenCall_,\n\t\ttext: handleInterceptedTextCall_\n\t});\n}\n\n/**\n * Checks if the given tag was built from a component's children.\n * @param {*} tag\n * @return {boolean}\n */\nexport function isChildTag(tag) {\n\treturn isDef(tag.tag);\n}\n\n/**\n * Gets the node's original owner.\n * @param {!Object} node\n * @return {Component}\n */\nexport function getOwner(node) {\n\treturn node[CHILD_OWNER];\n}\n\n/**\n * Renders a children tree through incremental dom.\n * @param {!{args: Array, children: !Array, isText: ?boolean}}\n * @param {function()=} opt_skipNode Optional function that is called for\n *     each node to be rendered. If it returns true, the node will be skipped.\n * @protected\n */\nexport function renderChildTree(tree, opt_skipNode) {\n\tif (isCapturing_) {\n\t\t// If capturing, just add the node directly to the captured tree.\n\t\taddChildToTree(tree);\n\t\treturn;\n\t}\n\n\tif (opt_skipNode && opt_skipNode.call(null, tree)) {\n\t\treturn;\n\t}\n\n\tif (isDef(tree.text)) {\n\t\tlet args = tree.args ? tree.args : [];\n\t\targs[0] = tree.text;\n\t\tIncrementalDOM.text.apply(null, args);\n\t} else {\n\t\tlet args = buildCallFromConfig(tree.tag, tree.props);\n\t\targs[0] = {\n\t\t\ttag: args[0],\n\t\t\towner: getOwner(tree)\n\t\t};\n\t\tIncrementalDOM.elementOpen.apply(null, args);\n\t\tif (tree.props.children) {\n\t\t\tfor (let i = 0; i < tree.props.children.length; i++) {\n\t\t\t\trenderChildTree(tree.props.children[i], opt_skipNode);\n\t\t\t}\n\t\t}\n\t\tIncrementalDOM.elementClose(tree.tag);\n\t}\n}\n\nlet callbackData_;\nlet callback_;\nlet currentParent_;\nlet isCapturing_ = false;\nlet owner_;\nlet tree_;\n\n/**\n * Adds a child element to the tree.\n * @param {!Array} args The arguments passed to the incremental dom call.\n * @param {boolean=} opt_isText Optional flag indicating if the child is a\n *     text element.\n * @protected\n */\nfunction addChildCallToTree_(args, opt_isText) {\n\tconst child = {\n\t\tparent: currentParent_,\n\t\t[CHILD_OWNER]: owner_\n\t};\n\n\tif (opt_isText) {\n\t\tchild.text = args[0];\n\t\tif (args.length > 1) {\n\t\t\tchild.args = args;\n\t\t}\n\t} else {\n\t\tchild.tag = args[0];\n\t\tchild.props = buildConfigFromCall(args);\n\t\tchild.props.children = [];\n\t\tchild.config = child.props;\n\t}\n\n\taddChildToTree(child);\n\treturn child;\n}\n\nfunction addChildToTree(child) {\n\tcurrentParent_.props.children.push(child);\n}\n\n/**\n * Handles an intercepted call to the `elementClose` function from incremental\n * dom.\n * @protected\n */\nfunction handleInterceptedCloseCall_() {\n\tif (currentParent_ === tree_) {\n\t\tstopInterception();\n\t\tisCapturing_ = false;\n\t\tconst node = callback_.call(owner_, tree_, callbackData_);\n\t\tcallback_ = null;\n\t\tcallbackData_ = null;\n\t\tcurrentParent_ = null;\n\t\towner_ = null;\n\t\ttree_ = null;\n\t\treturn node;\n\t} else {\n\t\tcurrentParent_ = currentParent_.parent;\n\t\treturn true;\n\t}\n}\n\n/**\n * Handles an intercepted call to the `elementOpen` function from incremental\n * dom.\n * @param {!function()} originalFn The original function before interception.\n * @protected\n */\nfunction handleInterceptedOpenCall_(...args) {\n\tcurrentParent_ = addChildCallToTree_(args);\n}\n\n/**\n * Handles an intercepted call to the `text` function from incremental dom.\n * @param {!function()} originalFn The original function before interception.\n * @protected\n */\nfunction handleInterceptedTextCall_(...args) {\n\taddChildCallToTree_(args, true);\n}\n","'use strict';\n\nimport { delegate } from 'metal-dom';\nimport { getComponentFn } from 'metal-component';\nimport { getOriginalFn } from '../intercept';\nimport { isBoolean, isDefAndNotNull, isString } from 'metal';\n\nconst HANDLE_SUFFIX = '__handle__';\nconst LISTENER_REGEX = /^(?:on([A-Z].+))|(?:data-on(.+))$/;\n\n/**\n * Applies an attribute to a specified element owned by the given component.\n * @param {!Component} component\n * @param {!Element} element\n * @param {string} name\n * @param {*} value\n */\nexport function applyAttribute(component, element, name, value) {\n\tconst eventName = getEventFromListenerAttr_(name);\n\tif (eventName) {\n\t\tattachEvent_(component, element, name, eventName, value);\n\t\treturn;\n\t}\n\n\tvalue = fixCheckedAttr_(name, value);\n\tsetValueAttrAsProperty_(element, name, value);\n\n\tif (isBoolean(value)) {\n\t\tsetBooleanAttr_(element, name, value);\n\t} else {\n\t\tgetOriginalFn('attributes')(element, name, value);\n\t}\n}\n\n/**\n * Listens to the specified event, attached via incremental dom calls.\n * @param {!Component} component\n * @param {!Element} element\n * @param {string} attr\n * @param {string} eventName\n * @param {function()} fn\n * @private\n */\nfunction attachEvent_(component, element, attr, eventName, fn) {\n\tconst handleKey = eventName + HANDLE_SUFFIX;\n\tif (element[handleKey]) {\n\t\telement[handleKey].removeListener();\n\t\telement[handleKey] = null;\n\t}\n\n\telement[attr] = fn;\n\tconst elementAttrName = `data-on${eventName.toLowerCase()}`;\n\tif (fn) {\n\t\tif (fn.givenAsName_) {\n\t\t\t// Listeners given by name should show up in the dom element.\n\t\t\telement.setAttribute(elementAttrName, fn.givenAsName_);\n\t\t}\n\t\telement[handleKey] = delegate(document, eventName, element, fn);\n\t} else {\n\t\telement.removeAttribute(elementAttrName);\n\t}\n}\n\n/**\n * Converts all event listener attributes given as function names to actual\n * function references. It's important to do this before calling the real\n * incremental dom `elementOpen` function, otherwise if a component passes a\n * the same function name that an element was already using for another\n * component, that event won't be reattached as incremental dom will think that\n * the value hasn't changed. Passing the function references as the value will\n * guarantee that different functions will cause events to be reattached,\n * regardless of their original names.\n * @param {!Component} component\n * @param {!Object} config\n */\nexport function convertListenerNamesToFns(component, config) {\n\tconst keys = Object.keys(config);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst key = keys[i];\n\t\tconfig[key] = convertListenerNameToFn_(component, key, config[key]);\n\t}\n}\n\n/**\n * Converts the given attribute's value to a function reference, if it's\n * currently a listener name.\n * @param {!Component} component\n * @param {string} name\n * @param {*} value\n * @return {*}\n * @private\n */\nfunction convertListenerNameToFn_(component, name, value) {\n\tif (isString(value)) {\n\t\tconst eventName = getEventFromListenerAttr_(name);\n\t\tif (eventName) {\n\t\t\tconst fn = getComponentFn(component, value);\n\t\t\tfn.givenAsName_ = name;\n\t\t\treturn fn;\n\t\t}\n\t}\n\treturn value;\n}\n\n/**\n * Changes the value of the `checked` attribute to be a boolean.\n * NOTE: This is a temporary fix to account for incremental dom setting\n * \"checked\" as an attribute only, which can cause bugs since that won't\n * necessarily check/uncheck the element it's set on. See\n * https://github.com/google/incremental-dom/issues/198 for more details.\n * @param {string} name\n * @param {*} value\n * @return {*}\n * @private\n */\nfunction fixCheckedAttr_(name, value) {\n\tif (name === 'checked') {\n\t\tvalue = isDefAndNotNull(value) && value !== false;\n\t}\n\treturn value;\n}\n\n/**\n * Returns the event name if the given attribute is a listener (matching the\n * `LISTENER_REGEX` regex), or null if it isn't.\n * @param {string} attr\n * @return {?string}\n * @private\n */\nfunction getEventFromListenerAttr_(attr) {\n\tconst matches = LISTENER_REGEX.exec(attr);\n\tconst eventName = matches ? (matches[1] ? matches[1] : matches[2]) : null;\n\treturn eventName ? eventName.toLowerCase() : null;\n}\n\n/**\n * Sets boolean attributes manually. This is done because incremental dom sets\n * boolean values as string data attributes by default, which is counter\n * intuitive. This changes the behavior to use the actual boolean value.\n * @param {!Element} element\n * @param {string} name\n * @param {*} value\n * @private\n */\nfunction setBooleanAttr_(element, name, value) {\n\telement[name] = value;\n\tif (value) {\n\t\telement.setAttribute(name, '');\n\t} else {\n\t\telement.removeAttribute(name);\n\t}\n}\n\n/**\n * Sets the value of the `value` attribute directly in the element.\n * NOTE: This is a temporary fix to account for incremental dom setting \"value\"\n * as an attribute only, which can cause bugs since that won't necessarily\n * update the input's content it's set on. See\n * https://github.com/google/incremental-dom/issues/239 for more details. We\n * only do this if the new value is different though, as otherwise the browser\n * will automatically move the typing cursor to the end of the field.\n * @param {!Element} element\n * @param {string} name\n * @param {*} value\n * @private\n */\nfunction setValueAttrAsProperty_(element, name, value) {\n\tif (name === 'value' && element.value !== value) {\n\t\telement[name] = value;\n\t}\n}\n","'use strict';\n\nimport { getData } from '../data';\n\nlet comps_ = [];\nlet disposing_ = false;\n\n/**\n * Disposes all sub components that were not rerendered since the last\n * time this function was scheduled.\n */\nexport function disposeUnused() {\n\tif (disposing_) {\n\t\treturn;\n\t}\n\tdisposing_ = true;\n\n\tfor (let i = 0; i < comps_.length; i++) {\n\t\tconst comp = comps_[i];\n\t\tif (!comp.isDisposed() && !getData(comp).parent) {\n\t\t\t// Don't let disposing cause the element to be removed, since it may\n\t\t\t// be currently being reused by another component.\n\t\t\tcomp.element = null;\n\t\t\tcomp.dispose();\n\t\t}\n\t}\n\tcomps_ = [];\n\tdisposing_ = false;\n}\n\n/**\n * Schedules the given components to be checked and disposed if not used\n * anymore when `disposeUnused` is called.\n * @param {!Array<!Component>} comps\n */\nexport function schedule(comps) {\n\tfor (let i = 0; i < comps.length; i++) {\n\t\tif (!comps[i].isDisposed()) {\n\t\t\tgetData(comps[i]).parent = null;\n\t\t\tcomps_.push(comps[i]);\n\t\t}\n\t}\n}\n","'use strict';\n\nimport { applyAttribute, convertListenerNamesToFns } from './attributes';\nimport { buildConfigFromCall, buildCallFromConfig } from '../callArgs';\nimport { captureChildren, getOwner, isChildTag, renderChildTree } from '../children/children';\nimport { clearChanges } from '../changes';\nimport { domData } from 'metal-dom';\nimport { getData } from '../data';\nimport { getCompatibilityModeData, getUid, isDef, isDefAndNotNull, isFunction, isString, object } from 'metal';\nimport { disposeUnused, schedule } from '../cleanup/unused';\nimport { getOriginalFn, startInterception, stopInterception } from '../intercept';\nimport { Component, ComponentRegistry } from 'metal-component';\n\nconst renderingComponents_ = [];\nconst emptyChildren_ = [];\n\n/**\n * Adds the given css classes to the specified arguments for an incremental\n * dom call, merging with the existing value if there is one.\n * @param {string} elementClasses\n * @param {!Object} config\n * @private\n */\nfunction addElementClasses_(elementClasses, config) {\n\tif (config.class) {\n\t\tconfig.class += ` ${elementClasses}`;\n\t\tconfig.class = removeDuplicateClasses_(config.class);\n\t} else {\n\t\tconfig.class = elementClasses;\n\t}\n}\n\n/**\n * Builds the \"children\" array to be passed to the current component.\n * @param {!Array<!Object>} children\n * @return {!Array<!Object>}\n * @private\n */\nfunction buildChildren_(children) {\n\treturn children.length === 0 ? emptyChildren_ : children;\n}\n\n/**\n * Finishes the render operation, doing some cleaups.\n * @param {!Component} component\n * @private\n */\nfunction cleanUpRender_(component) {\n\tstopInterception();\n\tif (!getData(component).rootElementReached) {\n\t\tcomponent.element = null;\n\t}\n\tcomponent.informRendered();\n\tfinishedRenderingComponent_();\n}\n\n/**\n * Removes the most recent component from the queue of rendering components.\n * @private\n */\nfunction finishedRenderingComponent_() {\n\trenderingComponents_.pop();\n\tif (renderingComponents_.length === 0) {\n\t\tdisposeUnused();\n\t}\n}\n\n/**\n * Generates a key for the next element to be rendered.\n * @param {!Component} component\n * @param {?string} key The key originally passed to the element.\n * @return {?string}\n * @private\n */\nfunction generateKey_(component, key) {\n\tconst data = getData(component);\n\tif (!data.rootElementReached && data.config.key) {\n\t\tkey = data.config.key;\n\t}\n\treturn component.getRenderer().generateKey(component, key);\n}\n\n/**\n * Gets the child components stored in the given object.\n * @param {!Object} data\n * @return {!Array<!Component>}\n * @private\n */\nfunction getChildComponents_(data) {\n\tdata.childComponents = data.childComponents || [];\n\treturn data.childComponents;\n}\n\n/**\n * Gets the component being currently rendered.\n * @return {Component}\n */\nexport function getComponentBeingRendered() {\n\treturn renderingComponents_[renderingComponents_.length - 1];\n}\n\n/**\n * Gets the data object that should be currently used. This object will either\n * come from the current element being rendered by incremental dom or from\n * the component instance being rendered (only when the current element is the\n * component's direct parent).\n * @return {!Object}\n * @private\n */\nfunction getCurrentData() {\n\tconst element = IncrementalDOM.currentElement();\n\tconst comp = getComponentBeingRendered();\n\tlet obj = getData(comp);\n\tif (obj.rootElementReached && element !== comp.element.parentNode) {\n\t\tobj = domData.get(element);\n\t}\n\tobj.icComponentsData = obj.icComponentsData || {};\n\treturn obj.icComponentsData;\n}\n\n/**\n * Returns the \"ref\" to be used for a component. Uses \"key\" as \"ref\" when\n * compatibility mode is on for the current renderer.\n * @param {!Component} owner\n * @param {!Object} config\n * @return {?string}\n * @private\n */\nfunction getRef_(owner, config) {\n\tconst compatData = getCompatibilityModeData();\n\tif (compatData) {\n\t\tconst ownerRenderer = owner.getRenderer();\n\t\tconst renderers = compatData.renderers;\n\t\tconst useKey = !renderers ||\n\t\t\trenderers.indexOf(ownerRenderer) !== -1 ||\n\t\t\trenderers.indexOf(ownerRenderer.RENDERER_NAME) !== -1;\n\t\tif (useKey && config.key && !config.ref) {\n\t\t\treturn config.key;\n\t\t}\n\t}\n\treturn config.ref;\n}\n\n/**\n * Gets the sub component referenced by the given tag and config data,\n * creating it if it doesn't yet exist.\n * @param {string|!Function} tagOrCtor The tag name.\n * @param {!Object} config The config object for the sub component.\n * @param {!Component} owner\n * @return {!Component} The sub component.\n * @protected\n */\nfunction getSubComponent_(tagOrCtor, config, owner) {\n\tlet Ctor = tagOrCtor;\n\tif (isString(Ctor)) {\n\t\tCtor = ComponentRegistry.getConstructor(tagOrCtor);\n\t}\n\n\tconst ref = getRef_(owner, config);\n\tlet comp;\n\tif (isDef(ref)) {\n\t\tcomp = match_(owner.components[ref], Ctor, config, owner);\n\t\towner.components[ref] = comp;\n\t\towner.refs[ref] = comp;\n\t} else {\n\t\tconst data = getCurrentData();\n\t\tlet key = config.key;\n\t\tif (!isDef(key)) {\n\t\t\tconst type = getUid(Ctor, true);\n\t\t\tdata.currCount = data.currCount || {};\n\t\t\tdata.currCount[type] = data.currCount[type] || 0;\n\t\t\tkey = `__METAL_IC__${type}_${data.currCount[type]++}`;\n\t\t}\n\t\tcomp = match_(data.prevComps ? data.prevComps[key] : null, Ctor, config, owner);\n\t\tdata.currComps = data.currComps || {};\n\t\tdata.currComps[key] = comp;\n\t}\n\n\treturn comp;\n}\n\n/**\n * Handles the event of children having finished being captured.\n * @param {!Object} tree The captured children in tree format.\n * @private\n */\nfunction handleChildrenCaptured_(tree, {props, tag}) {\n\tprops.children = buildChildren_(tree.props.children);\n\treturn renderFromTag_(tag, props);\n}\n\n/**\n * Handles a child being rendered via `IncrementalDomChildren.render`. Skips\n * component nodes so that they can be rendered the correct way without\n * having to recapture both them and their children via incremental dom.\n * @param {!Object} node\n * @return {boolean}\n * @private\n */\nfunction handleChildRender_(node) {\n\tif (node.tag && isComponentTag_(node.tag)) {\n\t\tnode.props.children = buildChildren_(node.props.children);\n\t\trenderFromTag_(node.tag, node.props, getOwner(node));\n\t\treturn true;\n\t}\n}\n\n/**\n * Handles an intercepted call to the attributes default handler from\n * incremental dom.\n * @param {!Element} element\n * @param {string} name\n * @param {*} value\n * @private\n */\nfunction handleInterceptedAttributesCall_(element, name, value) {\n\tapplyAttribute(getComponentBeingRendered(), element, name, value);\n}\n\n/**\n * Handles an intercepted call to the `elementOpen` function from incremental\n * dom.\n * @param {string} tag\n * @private\n */\nfunction handleInterceptedOpenCall_(tag) {\n\tif (isComponentTag_(tag)) {\n\t\treturn handleSubComponentCall_.apply(null, arguments);\n\t} else {\n\t\treturn handleRegularCall_.apply(null, arguments);\n\t}\n}\n\n/**\n * Handles an intercepted call to the `elementOpen` function from incremental\n * dom, done for a regular element. Among other things, adds any inline\n * listeners found on the first render and makes sure that component root\n * elements are always reused.\n * @param {!Component} owner\n * @param {!Array} args\n * @return {!Element} The rendered element.\n * @private\n */\nfunction handleRegularCall_(...args) {\n\tconst config = buildConfigFromCall(args);\n\tlet tag = args[0];\n\n\tconst comp = getComponentBeingRendered();\n\tlet owner = comp;\n\tif (isChildTag(tag)) {\n\t\towner = tag.owner;\n\t\ttag = tag.tag;\n\t}\n\tconfig.key = generateKey_(comp, config.key);\n\n\tif (!getData(comp).rootElementReached) {\n\t\tconst elementClasses = comp.getDataManager().get(comp, 'elementClasses');\n\t\tif (elementClasses) {\n\t\t\taddElementClasses_(elementClasses, config);\n\t\t}\n\t}\n\tconvertListenerNamesToFns(comp, config);\n\n\tconst call = buildCallFromConfig(tag, config);\n\tconst node = getOriginalFn('elementOpen').apply(null, call);\n\tresetNodeData_(node);\n\tupdateElementIfNotReached_(comp, node);\n\n\tif (isDefAndNotNull(config.ref)) {\n\t\towner.refs[config.ref] = node;\n\t}\n\towner.getRenderer().handleNodeRendered(node);\n\n\treturn node;\n}\n\n/**\n * Handles an intercepted call to the `elementOpen` function from incremental\n * dom, done for a sub component element. Creates and updates the appropriate\n * sub component.\n * @private\n */\nfunction handleSubComponentCall_(...args) {\n\tcaptureChildren(getComponentBeingRendered(), handleChildrenCaptured_, {\n\t\tprops: buildConfigFromCall(args),\n\t\ttag: args[0]\n\t});\n}\n\n/**\n * Checks if the given tag represents a metal component.\n * @param {string} tag\n * @return {boolean}\n * @private\n */\nexport function isComponentTag_(tag) {\n\treturn isFunction(tag) || (isString(tag) && tag[0] === tag[0].toUpperCase());\n}\n\n/**\n * Checks if the given component can be a match for a constructor.\n * @param {!Component} comp\n * @param {!function()} Ctor\n * @param {!Component} owner\n * @return {boolean}\n * @private\n */\nfunction isMatch_(comp, Ctor, owner) {\n\tif (!comp || comp.constructor !== Ctor || comp.isDisposed()) {\n\t\treturn false;\n\t}\n\treturn getData(comp).owner === owner;\n}\n\n/**\n * Returns the given component if it matches the specified constructor\n * function. Otherwise, returns a new instance of the given constructor. On\n * both cases the component's state and config will be updated.\n * @param {Component} comp\n * @param {!function()} Ctor\n * @param {!Object} config\n * @param {!Component} owner\n * @return {!Component}\n * @private\n */\nfunction match_(comp, Ctor, config, owner) {\n\tif (isMatch_(comp, Ctor, owner)) {\n\t\tcomp.startSkipUpdates();\n\t\tcomp.getDataManager().replaceNonInternal(comp, config);\n\t\tcomp.stopSkipUpdates();\n\t} else {\n\t\tcomp = new Ctor(config, false);\n\t}\n\tgetData(comp).config = config;\n\treturn comp;\n}\n\n/**\n * Prepares the render operation, resetting the component's data and starting\n * the incremental dom interception.\n * @param {!Component} component\n * @private\n */\nfunction prepareRender_(component) {\n\trenderingComponents_.push(component);\n\n\tconst data = getData(component);\n\tresetComponentsData_(data.icComponentsData);\n\tclearChanges(data);\n\tdata.rootElementReached = false;\n\tcomponent.refs = {};\n\n\tif (data.childComponents) {\n\t\tschedule(data.childComponents);\n\t\tdata.childComponents = null;\n\t}\n\n\tstartInterception({\n\t\tattributes: handleInterceptedAttributesCall_,\n\t\telementOpen: handleInterceptedOpenCall_\n\t});\n}\n\n/**\n * Removes duplicate css classes from the given string.\n * @param {string} classString\n * @return {string}\n * @private\n */\nfunction removeDuplicateClasses_(classString) {\n\tconst classes = [];\n\tconst all = classString.split(/\\s+/);\n\tconst used = {};\n\tfor (let i = 0; i < all.length; i++) {\n\t\tif (!used[all[i]]) {\n\t\t\tused[all[i]] = true;\n\t\t\tclasses.push(all[i]);\n\t\t}\n\t}\n\treturn classes.join(' ');\n}\n\n/**\n * Renders the component with incremental dom function calls. This assumes that\n * an incremental dom `patch` is already running, and that this function has\n * been called inside it.\n * @param {!Component} component\n */\nexport function render(component) {\n\tprepareRender_(component);\n\tcomponent.getRenderer().renderIncDom(component);\n\tcleanUpRender_(component);\n}\n\n/**\n * Renders the given child node.\n * @param {!Object} child\n */\nexport function renderChild(child) {\n\trenderChildTree(child, handleChildRender_);\n}\n\n/**\n * Renders the contents for the given tag.\n * @param {!function()|string} tag\n * @param {!Object} config\n * @param {Component=} opt_owner\n * @private\n */\nfunction renderFromTag_(tag, config, opt_owner) {\n\tif (isString(tag) || tag.prototype.getRenderer) {\n\t\tconst comp = renderSubComponent_(tag, config, opt_owner);\n\t\tupdateElementIfNotReached_(getComponentBeingRendered(), comp.element);\n\t\treturn comp.element;\n\t} else {\n\t\treturn tag(config);\n\t}\n}\n\n/**\n * Creates and renders the given function, which can either be a simple\n * incremental dom function or a component constructor.\n * @param {!IncrementalDomRenderer} renderer\n * @param {!function()} fnOrCtor Either a simple incremental dom function or a\n *     component constructor.\n * @param {Object|Element=} opt_dataOrElement Optional config data for the\n *     function or parent for the rendered content.\n * @param {Element=} opt_parent Optional parent for the rendered content.\n * @return {!Component} The rendered component's instance.\n */\nexport function renderFunction(renderer, fnOrCtor, opt_dataOrElement, opt_parent) {\n\tif (!Component.isComponentCtor(fnOrCtor)) {\n\t\tconst fn = fnOrCtor;\n\t\tclass TempComponent extends Component {\n\t\t\tcreated() {\n\t\t\t\tconst parent = getComponentBeingRendered();\n\t\t\t\tif (parent) {\n\t\t\t\t\tupdateContext_(this, parent);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\trender() {\n\t\t\t\tfn(this.getInitialConfig());\n\t\t\t}\n\t\t}\n\t\tTempComponent.RENDERER = renderer;\n\t\tfnOrCtor = TempComponent;\n\t}\n\treturn Component.render(fnOrCtor, opt_dataOrElement, opt_parent);\n}\n\n/**\n * This updates the sub component that is represented by the given data.\n * The sub component is created, added to its parent and rendered. If it\n * had already been rendered before though, it will only have its state\n * updated instead.\n * @param {string|!function()} tagOrCtor The tag name or constructor function.\n * @param {!Object} config The config object for the sub component.\n * @param {ComponentRenderer=} opt_owner\n * @return {!Component} The updated sub component.\n * @private\n */\nfunction renderSubComponent_(tagOrCtor, config, opt_owner) {\n\tconst parent = getComponentBeingRendered();\n\tconst owner = opt_owner || parent;\n\tconst comp = getSubComponent_(tagOrCtor, config, owner);\n\tupdateContext_(comp, parent);\n\n\tconst data = getData(comp);\n\tdata.parent = parent;\n\tdata.owner = owner;\n\n\tconst parentData = getData(parent);\n\tgetChildComponents_(parentData).push(comp);\n\tif (!config.key && !parentData.rootElementReached) {\n\t\tconfig.key = parentData.config.key;\n\t}\n\n\tcomp.getRenderer().renderInsidePatch(comp);\n\tif (!comp.wasRendered) {\n\t\tcomp.renderComponent();\n\t}\n\treturn comp;\n}\n\n/**\n * Resets the given incremental dom data object, preparing it for the next pass.\n * @param {Object} data\n * @private\n */\nfunction resetComponentsData_(data) {\n\tif (data) {\n\t\tdata.prevComps = data.currComps;\n\t\tdata.currComps = null;\n\t\tdata.currCount = null;\n\t}\n}\n/**\n * Resets all data stored in the given node.\n * @param {!Element} node\n * @private\n */\nfunction resetNodeData_(node) {\n\tif (domData.has(node)) {\n\t\tresetComponentsData_(domData.get(node).icComponentsData);\n\t}\n}\n\n/**\n * Updates the given component's context according to the data from the\n * component that is currently being rendered.\n * @param {!Component} comp\n * @protected\n */\nfunction updateContext_(comp, parent) {\n\tconst context = comp.context;\n\tconst childContext = parent.getChildContext ? parent.getChildContext() : null;\n\tobject.mixin(context, parent.context, childContext);\n\tcomp.context = context;\n}\n\n/**\n * Updates this renderer's component's element with the given values, unless\n * it has already been reached by an earlier call.\n * @param {!Component} component\n * @param {!Element} node\n * @private\n */\nfunction updateElementIfNotReached_(component, node) {\n\tconst data = getData(component);\n\tif (!data.rootElementReached) {\n\t\tdata.rootElementReached = true;\n\t\tif (component.element !== node) {\n\t\t\tcomponent.element = node;\n\t\t}\n\t}\n}\n","'use strict';\n\nimport { append, exitDocument } from 'metal-dom';\nimport { getData } from '../data';\nimport { render } from './render';\n\nconst patchingComponents_ = [];\n\n/**\n * Guarantees that the component's element has a parent. That's necessary\n * when calling incremental dom's `patchOuter` for now, as otherwise it will\n * throw an error if the element needs to be replaced.\n * @return {Element} The parent, in case it was added.\n * @private\n */\nfunction buildParentIfNecessary_(element) {\n\tif (!element || !element.parentNode) {\n\t\tconst parent = document.createElement('div');\n\t\tif (element) {\n\t\t\tappend(parent, element);\n\t\t}\n\t\treturn parent;\n\t}\n}\n\n/**\n * Calls incremental dom's patch function.\n * @param {!Component} component The component to patch.\n * @param {!Element} element The element the component should be patched on.\n * @param {boolean=} opt_outer Flag indicating if `patchOuter` should be used\n *     instead of `patch`.\n * @private\n */\nfunction callPatch_(component, element, opt_outer) {\n\tpatchingComponents_.push(component);\n\n\tconst data = getData(component);\n\tif (!data.render) {\n\t\t// Store reference to avoid binds on every patch.\n\t\tdata.render = render.bind(null, component);\n\t}\n\n\tconst patchFn = opt_outer ? IncrementalDOM.patchOuter : IncrementalDOM.patch;\n\tpatchFn(element, data.render);\n\n\tpatchingComponents_.pop();\n}\n\n/**\n * Gets the component that triggered the current patch operation.\n * @return {Component}\n */\nexport function getPatchingComponent() {\n\treturn patchingComponents_[patchingComponents_.length - 1];\n}\n\n/**\n * Patches the component with incremental dom function calls.\n * @param {!Component} component\n */\nexport function patch(component) {\n\tif (!tryPatchEmptyWithParent_(component)) {\n\t\tif (!tryPatchWithNoParent_(component)) {\n\t\t\tconst element = component.element;\n\t\t\tcallPatch_(component, element, true);\n\t\t}\n\t}\n}\n\n/**\n * Checks if the component has no content but was rendered from another\n * component. If so, we'll need to patch this parent to make sure that any new\n * content will be added in the right position.\n * @param {!Component} component\n * @return {?boolean} True if the patch happened. Nothing otherwise.\n * @private\n */\nfunction tryPatchEmptyWithParent_(component) {\n\tconst data = getData(component);\n\tif (!component.element && data.parent) {\n\t\tdata.parent.getRenderer().patch(data.parent);\n\t\treturn true;\n\t}\n}\n\n/**\n * Checks if the component's element exists and has a parent. If that's not the\n * case, a temporary parent will be created and passed to the `patch` function,\n * since incremental dom requires it. Once the patch is done the temporary\n * parent is removed and the component's content is reattached to the correct\n * final position.\n * @param {!Component} component\n * @return {?boolean} True if the patch happened. Nothing otherwise.\n * @private\n */\nfunction tryPatchWithNoParent_(component) {\n\tconst tempParent = buildParentIfNecessary_(component.element);\n\tif (tempParent) {\n\t\tcallPatch_(component, tempParent);\n\t\texitDocument(component.element);\n\t\tif (component.element && component.inDocument) {\n\t\t\tconst attach = component.getAttachData();\n\t\t\tcomponent.attachElement(attach.parent, attach.sibling);\n\t\t}\n\t\treturn true;\n\t}\n}\n","'use strict';\n\nimport './incremental-dom';\nimport { getChanges, trackChanges } from './changes';\nimport { clearData, getData } from './data';\nimport { getOwner } from './children/children';\nimport { getPatchingComponent, patch } from './render/patch';\nimport { render, renderChild, renderFunction } from './render/render';\nimport { Component, ComponentRenderer } from 'metal-component';\n\nclass IncrementalDomRenderer extends ComponentRenderer.constructor {\n\t/**\n\t * Returns an array with the args that should be passed to the component's\n\t * `shouldUpdate` method. This can be overridden by sub classes to change\n\t * what the method should receive.\n\t * @param {Object} changes\n\t * @return {!Array}\n\t */\n\tbuildShouldUpdateArgs(changes) {\n\t\treturn [changes.props];\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdispose(component) {\n\t\tconst data = getData(component);\n\t\tconst ref = data.config.ref;\n\t\tconst owner = data.owner;\n\t\tif (owner && owner.components && owner.components[ref] === component) {\n\t\t\tdelete owner.components[ref];\n\t\t}\n\n\t\tif (data.childComponents) {\n\t\t\tfor (let i = 0; i < data.childComponents.length; i++) {\n\t\t\t\tconst child = data.childComponents[i];\n\t\t\t\tif (!child.isDisposed()) {\n\t\t\t\t\tchild.element = null;\n\t\t\t\t\tchild.dispose();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tclearData(component);\n\t}\n\n\t/**\n\t * Generates a key for the element currently being rendered in the given\n\t * component. By default, just returns the original key. Sub classes can\n\t * override this to change the behavior.\n\t * @param {!Component} component\n\t * @param {string} key\n\t * @return {?string}\n\t */\n\tgenerateKey(component, key) {\n\t\treturn key;\n\t}\n\n\t/**\n\t * Get the component's config data.\n\t * @param {!Component} component\n\t * @return {!Object}\n\t */\n\tgetConfig(component) {\n\t\treturn getData(component).config;\n\t}\n\n\t/**\n\t * Get the component's incremental dom renderer data.\n\t * @param {!Component} component\n\t * @return {!Object}\n\t */\n\tgetData(component) {\n\t\treturn getData(component);\n\t}\n\n\t/**\n\t * Gets the component that triggered the current patch operation.\n\t * @return {Component}\n\t */\n\tgetPatchingComponent() {\n\t\treturn getPatchingComponent();\n\t}\n\n\t/**\n\t * Handles a node having just been rendered. Sub classes should override this\n\t * for custom behavior.\n\t */\n\thandleNodeRendered() {}\n\n\t/**\n\t * Checks if the given object is an incremental dom node.\n\t * @param {!Object} node\n\t * @return {boolean}\n\t */\n\tisIncDomNode(node) {\n\t\treturn !!getOwner(node);\n\t}\n\n\t/**\n\t * Calls incremental dom's patch function to render the component.\n\t * @param {!Component} component\n\t */\n\tpatch(component) {\n\t\tpatch(component);\n\t}\n\n\t/**\n\t * Renders the renderer's component for the first time, patching its element\n\t * through incremental dom function calls. If the first arg is a function\n\t * instead of a component instance, creates and renders this function, which\n\t * can either be a simple incremental dom function or a component constructor.\n\t * @param {!Component} component\n\t * @param {!Component|function()} component Can be a component instance, a\n\t *     simple incremental dom function or a component constructor.\n\t * @param {Object|Element=} opt_dataOrElement Optional config data for the\n\t *     function, or parent for the rendered content.\n\t * @param {Element=} opt_parent Optional parent for the rendered content.\n\t * @return {!Component} The rendered component's instance.\n\t */\n\trender(component, opt_dataOrElement, opt_parent) {\n\t\tif (component instanceof Component) {\n\t\t\tthis.patch(component);\n\t\t} else {\n\t\t\treturn renderFunction(this, component, opt_dataOrElement, opt_parent);\n\t\t}\n\t}\n\n\t/**\n\t * Renders the given child node via its owner renderer.\n\t * @param {!Object} child\n\t */\n\trenderChild(child) {\n\t\trenderChild(child);\n\t}\n\n\t/**\n\t * Calls functions from `IncrementalDOM` to build the component element's\n\t * content. Can be overriden by subclasses (for integration with template\n\t * engines for example).\n\t * @param {!Component} component\n\t */\n\trenderIncDom(component) {\n\t\tif (component.render) {\n\t\t\tcomponent.render();\n\t\t} else {\n\t\t\tIncrementalDOM.elementVoid('div');\n\t\t}\n\t}\n\n\t/**\n\t * Runs the incremental dom functions for rendering this component, without\n\t * calling `patch`. This function needs to be called inside a `patch`.\n\t * @param {!Component} component\n\t */\n\trenderInsidePatch(component) {\n\t\tconst shouldRender = !component.wasRendered ||\n\t\t\tthis.shouldUpdate(component, getChanges(component)) ||\n\t\t\tIncrementalDOM.currentPointer() !== component.element;\n\t\tif (shouldRender) {\n\t\t\trender(component);\n\t\t} else if (component.element) {\n\t\t\tthis.skipRender();\n\t\t}\n\t}\n\n\t/**\n\t * Sets up this component to be used by this renderer.\n\t * @param {!Component} component\n\t */\n\tsetUp(component) {\n\t\tcomponent.context = {};\n\t\tcomponent.components = {};\n\t\tcomponent.refs = {};\n\n\t\tconst data = getData(component);\n\t\tdata.config = component.getInitialConfig();\n\t\ttrackChanges(component);\n\t}\n\n\t/**\n\t * Checks if the component should be updated with the current state changes.\n\t * @param {!Component} component\n\t * @param {Object} changes\n\t * @return {boolean}\n\t */\n\tshouldUpdate(component, changes) {\n\t\tif (!changes) {\n\t\t\treturn false;\n\t\t}\n\t\tif (component.shouldUpdate) {\n\t\t\treturn component.shouldUpdate(...this.buildShouldUpdateArgs(changes));\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Skips the next disposal of children components, by clearing the array as\n\t * if there were no children rendered the last time. This can be useful for\n\t * allowing components to be reused by other parent components in separate\n\t * render update cycles.\n\t * @param {!Component} component\n\t */\n\tskipNextChildrenDisposal(component) {\n\t\tgetData(component).childComponents = null;\n\t}\n\n\t/**\n\t * Skips rendering the current node.\n\t */\n\tskipRender() {\n\t\tIncrementalDOM.skipNode();\n\t}\n\n\t/**\n\t * Updates the renderer's component when state changes, patching its element\n\t * through incremental dom function calls.\n\t * @param {!Component} component\n\t */\n\tupdate(component) {\n\t\tif (this.shouldUpdate(component, getChanges(component))) {\n\t\t\tthis.patch(component);\n\t\t}\n\t}\n}\n\nconst renderer = new IncrementalDomRenderer();\n\n// Name of this renderer. Renderers should provide this as a way to identify\n// them via a simple string (when calling enableCompatibilityMode to add\n// support to old features for specific renderers for example).\nrenderer.RENDERER_NAME = 'incremental-dom';\n\nexport default renderer;\n","import 'metal-incremental-dom';\n\n(function() {\nthis.CLOSURE_NO_DEPS = true;\nthis.goog = this.goog || {};\n\n// Copyright 2006 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Bootstrap for the Google JS Library (Closure).\n *\n * In uncompiled mode base.js will write out Closure's deps file, unless the\n * global <code>CLOSURE_NO_DEPS</code> is set to true.  This allows projects to\n * include their own deps file(s) from different locations.\n *\n * @author arv@google.com (Erik Arvidsson)\n *\n * @provideGoog\n */\n\n\n/**\n * @define {boolean} Overridden to true by the compiler when\n *     --process_closure_primitives is specified.\n */\nvar COMPILED = false;\n\n\n/**\n * Base namespace for the Closure library.  Checks to see goog is already\n * defined in the current scope before assigning to prevent clobbering if\n * base.js is loaded more than once.\n *\n * @const\n */\nvar goog = this.goog || {};\n\n\n/**\n * Reference to the global context.  In most cases this will be 'window'.\n */\ngoog.global = this;\n\n\n/**\n * A hook for overriding the define values in uncompiled mode.\n *\n * In uncompiled mode, {@code CLOSURE_UNCOMPILED_DEFINES} may be defined before\n * loading base.js.  If a key is defined in {@code CLOSURE_UNCOMPILED_DEFINES},\n * {@code goog.define} will use the value instead of the default value.  This\n * allows flags to be overwritten without compilation (this is normally\n * accomplished with the compiler's \"define\" flag).\n *\n * Example:\n * <pre>\n *   var CLOSURE_UNCOMPILED_DEFINES = {'goog.DEBUG': false};\n * </pre>\n *\n * @type {Object<string, (string|number|boolean)>|undefined}\n */\ngoog.global.CLOSURE_UNCOMPILED_DEFINES;\n\n\n/**\n * A hook for overriding the define values in uncompiled or compiled mode,\n * like CLOSURE_UNCOMPILED_DEFINES but effective in compiled code.  In\n * uncompiled code CLOSURE_UNCOMPILED_DEFINES takes precedence.\n *\n * Also unlike CLOSURE_UNCOMPILED_DEFINES the values must be number, boolean or\n * string literals or the compiler will emit an error.\n *\n * While any @define value may be set, only those set with goog.define will be\n * effective for uncompiled code.\n *\n * Example:\n * <pre>\n *   var CLOSURE_DEFINES = {'goog.DEBUG': false} ;\n * </pre>\n *\n * @type {Object<string, (string|number|boolean)>|undefined}\n */\ngoog.global.CLOSURE_DEFINES;\n\n\n/**\n * Returns true if the specified value is not undefined.\n * WARNING: Do not use this to test if an object has a property. Use the in\n * operator instead.\n *\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is defined.\n */\ngoog.isDef = function(val) {\n  // void 0 always evaluates to undefined and hence we do not need to depend on\n  // the definition of the global variable named 'undefined'.\n  return val !== void 0;\n};\n\n\n/**\n * Builds an object structure for the provided namespace path, ensuring that\n * names that already exist are not overwritten. For example:\n * \"a.b.c\" -> a = {};a.b={};a.b.c={};\n * Used by goog.provide and goog.exportSymbol.\n * @param {string} name name of the object that this file defines.\n * @param {*=} opt_object the object to expose at the end of the path.\n * @param {Object=} opt_objectToExportTo The object to add the path to; default\n *     is |goog.global|.\n * @private\n */\ngoog.exportPath_ = function(name, opt_object, opt_objectToExportTo) {\n  var parts = name.split('.');\n  var cur = opt_objectToExportTo || goog.global;\n\n  // Internet Explorer exhibits strange behavior when throwing errors from\n  // methods externed in this manner.  See the testExportSymbolExceptions in\n  // base_test.html for an example.\n  if (!(parts[0] in cur) && cur.execScript) {\n    cur.execScript('var ' + parts[0]);\n  }\n\n  // Certain browsers cannot parse code in the form for((a in b); c;);\n  // This pattern is produced by the JSCompiler when it collapses the\n  // statement above into the conditional loop below. To prevent this from\n  // happening, use a for-loop and reserve the init logic as below.\n\n  // Parentheses added to eliminate strict JS warning in Firefox.\n  for (var part; parts.length && (part = parts.shift());) {\n    if (!parts.length && goog.isDef(opt_object)) {\n      // last part and we have an object; use it\n      cur[part] = opt_object;\n    } else if (cur[part]) {\n      cur = cur[part];\n    } else {\n      cur = cur[part] = {};\n    }\n  }\n};\n\n\n/**\n * Defines a named value. In uncompiled mode, the value is retrieved from\n * CLOSURE_DEFINES or CLOSURE_UNCOMPILED_DEFINES if the object is defined and\n * has the property specified, and otherwise used the defined defaultValue.\n * When compiled the default can be overridden using the compiler\n * options or the value set in the CLOSURE_DEFINES object.\n *\n * @param {string} name The distinguished name to provide.\n * @param {string|number|boolean} defaultValue\n */\ngoog.define = function(name, defaultValue) {\n  var value = defaultValue;\n  if (!COMPILED) {\n    if (goog.global.CLOSURE_UNCOMPILED_DEFINES &&\n        Object.prototype.hasOwnProperty.call(\n            goog.global.CLOSURE_UNCOMPILED_DEFINES, name)) {\n      value = goog.global.CLOSURE_UNCOMPILED_DEFINES[name];\n    } else if (\n        goog.global.CLOSURE_DEFINES &&\n        Object.prototype.hasOwnProperty.call(\n            goog.global.CLOSURE_DEFINES, name)) {\n      value = goog.global.CLOSURE_DEFINES[name];\n    }\n  }\n  goog.exportPath_(name, value);\n};\n\n\n/**\n * @define {boolean} DEBUG is provided as a convenience so that debugging code\n * that should not be included in a production js_binary can be easily stripped\n * by specifying --define goog.DEBUG=false to the JSCompiler. For example, most\n * toString() methods should be declared inside an \"if (goog.DEBUG)\" conditional\n * because they are generally used for debugging purposes and it is difficult\n * for the JSCompiler to statically determine whether they are used.\n */\ngoog.define('goog.DEBUG', true);\n\n\n/**\n * @define {string} LOCALE defines the locale being used for compilation. It is\n * used to select locale specific data to be compiled in js binary. BUILD rule\n * can specify this value by \"--define goog.LOCALE=<locale_name>\" as JSCompiler\n * option.\n *\n * Take into account that the locale code format is important. You should use\n * the canonical Unicode format with hyphen as a delimiter. Language must be\n * lowercase, Language Script - Capitalized, Region - UPPERCASE.\n * There are few examples: pt-BR, en, en-US, sr-Latin-BO, zh-Hans-CN.\n *\n * See more info about locale codes here:\n * http://www.unicode.org/reports/tr35/#Unicode_Language_and_Locale_Identifiers\n *\n * For language codes you should use values defined by ISO 693-1. See it here\n * http://www.w3.org/WAI/ER/IG/ert/iso639.htm. There is only one exception from\n * this rule: the Hebrew language. For legacy reasons the old code (iw) should\n * be used instead of the new code (he), see http://wiki/Main/IIISynonyms.\n */\ngoog.define('goog.LOCALE', 'en');  // default to en\n\n\n/**\n * @define {boolean} Whether this code is running on trusted sites.\n *\n * On untrusted sites, several native functions can be defined or overridden by\n * external libraries like Prototype, Datejs, and JQuery and setting this flag\n * to false forces closure to use its own implementations when possible.\n *\n * If your JavaScript can be loaded by a third party site and you are wary about\n * relying on non-standard implementations, specify\n * \"--define goog.TRUSTED_SITE=false\" to the JSCompiler.\n */\ngoog.define('goog.TRUSTED_SITE', true);\n\n\n/**\n * @define {boolean} Whether a project is expected to be running in strict mode.\n *\n * This define can be used to trigger alternate implementations compatible with\n * running in EcmaScript Strict mode or warn about unavailable functionality.\n * @see https://goo.gl/g5EoHI\n *\n */\ngoog.define('goog.STRICT_MODE_COMPATIBLE', false);\n\n\n/**\n * @define {boolean} Whether code that calls {@link goog.setTestOnly} should\n *     be disallowed in the compilation unit.\n */\ngoog.define('goog.DISALLOW_TEST_ONLY_CODE', COMPILED && !goog.DEBUG);\n\n\n/**\n * @define {boolean} Whether to use a Chrome app CSP-compliant method for\n *     loading scripts via goog.require. @see appendScriptSrcNode_.\n */\ngoog.define('goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING', false);\n\n\n/**\n * Defines a namespace in Closure.\n *\n * A namespace may only be defined once in a codebase. It may be defined using\n * goog.provide() or goog.module().\n *\n * The presence of one or more goog.provide() calls in a file indicates\n * that the file defines the given objects/namespaces.\n * Provided symbols must not be null or undefined.\n *\n * In addition, goog.provide() creates the object stubs for a namespace\n * (for example, goog.provide(\"goog.foo.bar\") will create the object\n * goog.foo.bar if it does not already exist).\n *\n * Build tools also scan for provide/require/module statements\n * to discern dependencies, build dependency files (see deps.js), etc.\n *\n * @see goog.require\n * @see goog.module\n * @param {string} name Namespace provided by this file in the form\n *     \"goog.package.part\".\n */\ngoog.provide = function(name) {\n  if (!COMPILED) {\n    // Ensure that the same namespace isn't provided twice.\n    // A goog.module/goog.provide maps a goog.require to a specific file\n    if (goog.isProvided_(name)) {\n      throw Error('Namespace \"' + name + '\" already declared.');\n    }\n  }\n\n  goog.constructNamespace_(name);\n};\n\n\n/**\n * @param {string} name Namespace provided by this file in the form\n *     \"goog.package.part\".\n * @param {Object=} opt_obj The object to embed in the namespace.\n * @private\n */\ngoog.constructNamespace_ = function(name, opt_obj) {\n  if (!COMPILED) {\n    delete goog.implicitNamespaces_[name];\n\n    var namespace = name;\n    while ((namespace = namespace.substring(0, namespace.lastIndexOf('.')))) {\n      if (goog.getObjectByName(namespace)) {\n        break;\n      }\n      goog.implicitNamespaces_[namespace] = true;\n    }\n  }\n\n  goog.exportPath_(name, opt_obj);\n};\n\n\n/**\n * Module identifier validation regexp.\n * Note: This is a conservative check, it is very possible to be more lenient,\n *   the primary exclusion here is \"/\" and \"\\\" and a leading \".\", these\n *   restrictions are intended to leave the door open for using goog.require\n *   with relative file paths rather than module identifiers.\n * @private\n */\ngoog.VALID_MODULE_RE_ = /^[a-zA-Z_$][a-zA-Z0-9._$]*$/;\n\n\n/**\n * Defines a module in Closure.\n *\n * Marks that this file must be loaded as a module and claims the namespace.\n *\n * A namespace may only be defined once in a codebase. It may be defined using\n * goog.provide() or goog.module().\n *\n * goog.module() has three requirements:\n * - goog.module may not be used in the same file as goog.provide.\n * - goog.module must be the first statement in the file.\n * - only one goog.module is allowed per file.\n *\n * When a goog.module annotated file is loaded, it is enclosed in\n * a strict function closure. This means that:\n * - any variables declared in a goog.module file are private to the file\n * (not global), though the compiler is expected to inline the module.\n * - The code must obey all the rules of \"strict\" JavaScript.\n * - the file will be marked as \"use strict\"\n *\n * NOTE: unlike goog.provide, goog.module does not declare any symbols by\n * itself. If declared symbols are desired, use\n * goog.module.declareLegacyNamespace().\n *\n *\n * See the public goog.module proposal: http://goo.gl/Va1hin\n *\n * @param {string} name Namespace provided by this file in the form\n *     \"goog.package.part\", is expected but not required.\n */\ngoog.module = function(name) {\n  if (!goog.isString(name) || !name ||\n      name.search(goog.VALID_MODULE_RE_) == -1) {\n    throw Error('Invalid module identifier');\n  }\n  if (!goog.isInModuleLoader_()) {\n    throw Error('Module ' + name + ' has been loaded incorrectly.');\n  }\n  if (goog.moduleLoaderState_.moduleName) {\n    throw Error('goog.module may only be called once per module.');\n  }\n\n  // Store the module name for the loader.\n  goog.moduleLoaderState_.moduleName = name;\n  if (!COMPILED) {\n    // Ensure that the same namespace isn't provided twice.\n    // A goog.module/goog.provide maps a goog.require to a specific file\n    if (goog.isProvided_(name)) {\n      throw Error('Namespace \"' + name + '\" already declared.');\n    }\n    delete goog.implicitNamespaces_[name];\n  }\n};\n\n\n/**\n * @param {string} name The module identifier.\n * @return {?} The module exports for an already loaded module or null.\n *\n * Note: This is not an alternative to goog.require, it does not\n * indicate a hard dependency, instead it is used to indicate\n * an optional dependency or to access the exports of a module\n * that has already been loaded.\n * @suppress {missingProvide}\n */\ngoog.module.get = function(name) {\n  return goog.module.getInternal_(name);\n};\n\n\n/**\n * @param {string} name The module identifier.\n * @return {?} The module exports for an already loaded module or null.\n * @private\n */\ngoog.module.getInternal_ = function(name) {\n  if (!COMPILED) {\n    if (goog.isProvided_(name)) {\n      // goog.require only return a value with-in goog.module files.\n      return name in goog.loadedModules_ ? goog.loadedModules_[name] :\n                                           goog.getObjectByName(name);\n    } else {\n      return null;\n    }\n  }\n};\n\n\n/**\n * @private {?{moduleName: (string|undefined), declareLegacyNamespace:boolean}}\n */\ngoog.moduleLoaderState_ = null;\n\n\n/**\n * @private\n * @return {boolean} Whether a goog.module is currently being initialized.\n */\ngoog.isInModuleLoader_ = function() {\n  return goog.moduleLoaderState_ != null;\n};\n\n\n/**\n * Provide the module's exports as a globally accessible object under the\n * module's declared name.  This is intended to ease migration to goog.module\n * for files that have existing usages.\n * @suppress {missingProvide}\n */\ngoog.module.declareLegacyNamespace = function() {\n  if (!COMPILED && !goog.isInModuleLoader_()) {\n    throw new Error(\n        'goog.module.declareLegacyNamespace must be called from ' +\n        'within a goog.module');\n  }\n  if (!COMPILED && !goog.moduleLoaderState_.moduleName) {\n    throw Error(\n        'goog.module must be called prior to ' +\n        'goog.module.declareLegacyNamespace.');\n  }\n  goog.moduleLoaderState_.declareLegacyNamespace = true;\n};\n\n\n/**\n * Marks that the current file should only be used for testing, and never for\n * live code in production.\n *\n * In the case of unit tests, the message may optionally be an exact namespace\n * for the test (e.g. 'goog.stringTest'). The linter will then ignore the extra\n * provide (if not explicitly defined in the code).\n *\n * @param {string=} opt_message Optional message to add to the error that's\n *     raised when used in production code.\n */\ngoog.setTestOnly = function(opt_message) {\n  if (goog.DISALLOW_TEST_ONLY_CODE) {\n    opt_message = opt_message || '';\n    throw Error(\n        'Importing test-only code into non-debug environment' +\n        (opt_message ? ': ' + opt_message : '.'));\n  }\n};\n\nif (!COMPILED) {\n  /**\n   * Check if the given name has been goog.provided. This will return false for\n   * names that are available only as implicit namespaces.\n   * @param {string} name name of the object to look for.\n   * @return {boolean} Whether the name has been provided.\n   * @private\n   */\n  goog.isProvided_ = function(name) {\n    return (name in goog.loadedModules_) ||\n        (!goog.implicitNamespaces_[name] &&\n         goog.isDefAndNotNull(goog.getObjectByName(name)));\n  };\n\n  /**\n   * Namespaces implicitly defined by goog.provide. For example,\n   * goog.provide('goog.events.Event') implicitly declares that 'goog' and\n   * 'goog.events' must be namespaces.\n   *\n   * @type {!Object<string, (boolean|undefined)>}\n   * @private\n   */\n  goog.implicitNamespaces_ = {'goog.module': true};\n\n  // NOTE: We add goog.module as an implicit namespace as goog.module is defined\n  // here and because the existing module package has not been moved yet out of\n  // the goog.module namespace. This satisifies both the debug loader and\n  // ahead-of-time dependency management.\n}\n\n\n/**\n * Returns an object based on its fully qualified external name.  The object\n * is not found if null or undefined.  If you are using a compilation pass that\n * renames property names beware that using this function will not find renamed\n * properties.\n *\n * @param {string} name The fully qualified name.\n * @param {Object=} opt_obj The object within which to look; default is\n *     |goog.global|.\n * @return {?} The value (object or primitive) or, if not found, null.\n */\ngoog.getObjectByName = function(name, opt_obj) {\n  var parts = name.split('.');\n  var cur = opt_obj || goog.global;\n  for (var part; part = parts.shift();) {\n    if (goog.isDefAndNotNull(cur[part])) {\n      cur = cur[part];\n    } else {\n      return null;\n    }\n  }\n  return cur;\n};\n\n\n/**\n * Globalizes a whole namespace, such as goog or goog.lang.\n *\n * @param {!Object} obj The namespace to globalize.\n * @param {Object=} opt_global The object to add the properties to.\n * @deprecated Properties may be explicitly exported to the global scope, but\n *     this should no longer be done in bulk.\n */\ngoog.globalize = function(obj, opt_global) {\n  var global = opt_global || goog.global;\n  for (var x in obj) {\n    global[x] = obj[x];\n  }\n};\n\n\n/**\n * Adds a dependency from a file to the files it requires.\n * @param {string} relPath The path to the js file.\n * @param {!Array<string>} provides An array of strings with\n *     the names of the objects this file provides.\n * @param {!Array<string>} requires An array of strings with\n *     the names of the objects this file requires.\n * @param {boolean|!Object<string>=} opt_loadFlags Parameters indicating\n *     how the file must be loaded.  The boolean 'true' is equivalent\n *     to {'module': 'goog'} for backwards-compatibility.  Valid properties\n *     and values include {'module': 'goog'} and {'lang': 'es6'}.\n */\ngoog.addDependency = function(relPath, provides, requires, opt_loadFlags) {\n  if (goog.DEPENDENCIES_ENABLED) {\n    var provide, require;\n    var path = relPath.replace(/\\\\/g, '/');\n    var deps = goog.dependencies_;\n    if (!opt_loadFlags || typeof opt_loadFlags === 'boolean') {\n      opt_loadFlags = opt_loadFlags ? {'module': 'goog'} : {};\n    }\n    for (var i = 0; provide = provides[i]; i++) {\n      deps.nameToPath[provide] = path;\n      deps.pathIsModule[path] = opt_loadFlags['module'] == 'goog';\n    }\n    for (var j = 0; require = requires[j]; j++) {\n      if (!(path in deps.requires)) {\n        deps.requires[path] = {};\n      }\n      deps.requires[path][require] = true;\n    }\n  }\n};\n\n\n\n\n// NOTE(nnaze): The debug DOM loader was included in base.js as an original way\n// to do \"debug-mode\" development.  The dependency system can sometimes be\n// confusing, as can the debug DOM loader's asynchronous nature.\n//\n// With the DOM loader, a call to goog.require() is not blocking -- the script\n// will not load until some point after the current script.  If a namespace is\n// needed at runtime, it needs to be defined in a previous script, or loaded via\n// require() with its registered dependencies.\n//\n// User-defined namespaces may need their own deps file. For a reference on\n// creating a deps file, see:\n// Externally: https://developers.google.com/closure/library/docs/depswriter\n//\n// Because of legacy clients, the DOM loader can't be easily removed from\n// base.js.  Work is being done to make it disableable or replaceable for\n// different environments (DOM-less JavaScript interpreters like Rhino or V8,\n// for example). See bootstrap/ for more information.\n\n\n/**\n * @define {boolean} Whether to enable the debug loader.\n *\n * If enabled, a call to goog.require() will attempt to load the namespace by\n * appending a script tag to the DOM (if the namespace has been registered).\n *\n * If disabled, goog.require() will simply assert that the namespace has been\n * provided (and depend on the fact that some outside tool correctly ordered\n * the script).\n */\ngoog.define('goog.ENABLE_DEBUG_LOADER', true);\n\n\n/**\n * @param {string} msg\n * @private\n */\ngoog.logToConsole_ = function(msg) {\n  if (goog.global.console) {\n    goog.global.console['error'](msg);\n  }\n};\n\n\n/**\n * Implements a system for the dynamic resolution of dependencies that works in\n * parallel with the BUILD system. Note that all calls to goog.require will be\n * stripped by the JSCompiler when the --process_closure_primitives option is\n * used.\n * @see goog.provide\n * @param {string} name Namespace to include (as was given in goog.provide()) in\n *     the form \"goog.package.part\".\n * @return {?} If called within a goog.module file, the associated namespace or\n *     module otherwise null.\n */\ngoog.require = function(name) {\n  // If the object already exists we do not need do do anything.\n  if (!COMPILED) {\n    if (goog.ENABLE_DEBUG_LOADER && goog.IS_OLD_IE_) {\n      goog.maybeProcessDeferredDep_(name);\n    }\n\n    if (goog.isProvided_(name)) {\n      if (goog.isInModuleLoader_()) {\n        return goog.module.getInternal_(name);\n      } else {\n        return null;\n      }\n    }\n\n    if (goog.ENABLE_DEBUG_LOADER) {\n      var path = goog.getPathFromDeps_(name);\n      if (path) {\n        goog.writeScripts_(path);\n        return null;\n      }\n    }\n\n    var errorMessage = 'goog.require could not find: ' + name;\n    goog.logToConsole_(errorMessage);\n\n    throw Error(errorMessage);\n  }\n};\n\n\n/**\n * Path for included scripts.\n * @type {string}\n */\ngoog.basePath = '';\n\n\n/**\n * A hook for overriding the base path.\n * @type {string|undefined}\n */\ngoog.global.CLOSURE_BASE_PATH;\n\n\n/**\n * Whether to write out Closure's deps file. By default, the deps are written.\n * @type {boolean|undefined}\n */\ngoog.global.CLOSURE_NO_DEPS;\n\n\n/**\n * A function to import a single script. This is meant to be overridden when\n * Closure is being run in non-HTML contexts, such as web workers. It's defined\n * in the global scope so that it can be set before base.js is loaded, which\n * allows deps.js to be imported properly.\n *\n * The function is passed the script source, which is a relative URI. It should\n * return true if the script was imported, false otherwise.\n * @type {(function(string): boolean)|undefined}\n */\ngoog.global.CLOSURE_IMPORT_SCRIPT;\n\n\n/**\n * Null function used for default values of callbacks, etc.\n * @return {void} Nothing.\n */\ngoog.nullFunction = function() {};\n\n\n/**\n * When defining a class Foo with an abstract method bar(), you can do:\n * Foo.prototype.bar = goog.abstractMethod\n *\n * Now if a subclass of Foo fails to override bar(), an error will be thrown\n * when bar() is invoked.\n *\n * Note: This does not take the name of the function to override as an argument\n * because that would make it more difficult to obfuscate our JavaScript code.\n *\n * @type {!Function}\n * @throws {Error} when invoked to indicate the method should be overridden.\n */\ngoog.abstractMethod = function() {\n  throw Error('unimplemented abstract method');\n};\n\n\n/**\n * Adds a {@code getInstance} static method that always returns the same\n * instance object.\n * @param {!Function} ctor The constructor for the class to add the static\n *     method to.\n */\ngoog.addSingletonGetter = function(ctor) {\n  ctor.getInstance = function() {\n    if (ctor.instance_) {\n      return ctor.instance_;\n    }\n    if (goog.DEBUG) {\n      // NOTE: JSCompiler can't optimize away Array#push.\n      goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = ctor;\n    }\n    return ctor.instance_ = new ctor;\n  };\n};\n\n\n/**\n * All singleton classes that have been instantiated, for testing. Don't read\n * it directly, use the {@code goog.testing.singleton} module. The compiler\n * removes this variable if unused.\n * @type {!Array<!Function>}\n * @private\n */\ngoog.instantiatedSingletons_ = [];\n\n\n/**\n * @define {boolean} Whether to load goog.modules using {@code eval} when using\n * the debug loader.  This provides a better debugging experience as the\n * source is unmodified and can be edited using Chrome Workspaces or similar.\n * However in some environments the use of {@code eval} is banned\n * so we provide an alternative.\n */\ngoog.define('goog.LOAD_MODULE_USING_EVAL', true);\n\n\n/**\n * @define {boolean} Whether the exports of goog.modules should be sealed when\n * possible.\n */\ngoog.define('goog.SEAL_MODULE_EXPORTS', goog.DEBUG);\n\n\n/**\n * The registry of initialized modules:\n * the module identifier to module exports map.\n * @private @const {!Object<string, ?>}\n */\ngoog.loadedModules_ = {};\n\n\n/**\n * True if goog.dependencies_ is available.\n * @const {boolean}\n */\ngoog.DEPENDENCIES_ENABLED = !COMPILED && goog.ENABLE_DEBUG_LOADER;\n\n\nif (goog.DEPENDENCIES_ENABLED) {\n  /**\n   * This object is used to keep track of dependencies and other data that is\n   * used for loading scripts.\n   * @private\n   * @type {{\n   *   pathIsModule: !Object<string, boolean>,\n   *   nameToPath: !Object<string, string>,\n   *   requires: !Object<string, !Object<string, boolean>>,\n   *   visited: !Object<string, boolean>,\n   *   written: !Object<string, boolean>,\n   *   deferred: !Object<string, string>\n   * }}\n   */\n  goog.dependencies_ = {\n    pathIsModule: {},  // 1 to 1\n\n    nameToPath: {},  // 1 to 1\n\n    requires: {},  // 1 to many\n\n    // Used when resolving dependencies to prevent us from visiting file twice.\n    visited: {},\n\n    written: {},  // Used to keep track of script files we have written.\n\n    deferred: {}  // Used to track deferred module evaluations in old IEs\n  };\n\n\n  /**\n   * Tries to detect whether is in the context of an HTML document.\n   * @return {boolean} True if it looks like HTML document.\n   * @private\n   */\n  goog.inHtmlDocument_ = function() {\n    /** @type {Document} */\n    var doc = goog.global.document;\n    return doc != null && 'write' in doc;  // XULDocument misses write.\n  };\n\n\n  /**\n   * Tries to detect the base path of base.js script that bootstraps Closure.\n   * @private\n   */\n  goog.findBasePath_ = function() {\n    if (goog.isDef(goog.global.CLOSURE_BASE_PATH)) {\n      goog.basePath = goog.global.CLOSURE_BASE_PATH;\n      return;\n    } else if (!goog.inHtmlDocument_()) {\n      return;\n    }\n    /** @type {Document} */\n    var doc = goog.global.document;\n    var scripts = doc.getElementsByTagName('SCRIPT');\n    // Search backwards since the current script is in almost all cases the one\n    // that has base.js.\n    for (var i = scripts.length - 1; i >= 0; --i) {\n      var script = /** @type {!HTMLScriptElement} */ (scripts[i]);\n      var src = script.src;\n      var qmark = src.lastIndexOf('?');\n      var l = qmark == -1 ? src.length : qmark;\n      if (src.substr(l - 7, 7) == 'base.js') {\n        goog.basePath = src.substr(0, l - 7);\n        return;\n      }\n    }\n  };\n\n\n  /**\n   * Imports a script if, and only if, that script hasn't already been imported.\n   * (Must be called at execution time)\n   * @param {string} src Script source.\n   * @param {string=} opt_sourceText The optionally source text to evaluate\n   * @private\n   */\n  goog.importScript_ = function(src, opt_sourceText) {\n    var importScript =\n        goog.global.CLOSURE_IMPORT_SCRIPT || goog.writeScriptTag_;\n    if (importScript(src, opt_sourceText)) {\n      goog.dependencies_.written[src] = true;\n    }\n  };\n\n\n  /** @const @private {boolean} */\n  goog.IS_OLD_IE_ =\n      !!(!goog.global.atob && goog.global.document && goog.global.document.all);\n\n\n  /**\n   * Given a URL initiate retrieval and execution of the module.\n   * @param {string} src Script source URL.\n   * @private\n   */\n  goog.importModule_ = function(src) {\n    // In an attempt to keep browsers from timing out loading scripts using\n    // synchronous XHRs, put each load in its own script block.\n    var bootstrap = 'goog.retrieveAndExecModule_(\"' + src + '\");';\n\n    if (goog.importScript_('', bootstrap)) {\n      goog.dependencies_.written[src] = true;\n    }\n  };\n\n\n  /** @private {!Array<string>} */\n  goog.queuedModules_ = [];\n\n\n  /**\n   * Return an appropriate module text. Suitable to insert into\n   * a script tag (that is unescaped).\n   * @param {string} srcUrl\n   * @param {string} scriptText\n   * @return {string}\n   * @private\n   */\n  goog.wrapModule_ = function(srcUrl, scriptText) {\n    if (!goog.LOAD_MODULE_USING_EVAL || !goog.isDef(goog.global.JSON)) {\n      return '' +\n          'goog.loadModule(function(exports) {' +\n          '\"use strict\";' + scriptText +\n          '\\n' +  // terminate any trailing single line comment.\n          ';return exports' +\n          '});' +\n          '\\n//# sourceURL=' + srcUrl + '\\n';\n    } else {\n      return '' +\n          'goog.loadModule(' +\n          goog.global.JSON.stringify(\n              scriptText + '\\n//# sourceURL=' + srcUrl + '\\n') +\n          ');';\n    }\n  };\n\n  // On IE9 and earlier, it is necessary to handle\n  // deferred module loads. In later browsers, the\n  // code to be evaluated is simply inserted as a script\n  // block in the correct order. To eval deferred\n  // code at the right time, we piggy back on goog.require to call\n  // goog.maybeProcessDeferredDep_.\n  //\n  // The goog.requires are used both to bootstrap\n  // the loading process (when no deps are available) and\n  // declare that they should be available.\n  //\n  // Here we eval the sources, if all the deps are available\n  // either already eval'd or goog.require'd.  This will\n  // be the case when all the dependencies have already\n  // been loaded, and the dependent module is loaded.\n  //\n  // But this alone isn't sufficient because it is also\n  // necessary to handle the case where there is no root\n  // that is not deferred.  For that there we register for an event\n  // and trigger goog.loadQueuedModules_ handle any remaining deferred\n  // evaluations.\n\n  /**\n   * Handle any remaining deferred goog.module evals.\n   * @private\n   */\n  goog.loadQueuedModules_ = function() {\n    var count = goog.queuedModules_.length;\n    if (count > 0) {\n      var queue = goog.queuedModules_;\n      goog.queuedModules_ = [];\n      for (var i = 0; i < count; i++) {\n        var path = queue[i];\n        goog.maybeProcessDeferredPath_(path);\n      }\n    }\n  };\n\n\n  /**\n   * Eval the named module if its dependencies are\n   * available.\n   * @param {string} name The module to load.\n   * @private\n   */\n  goog.maybeProcessDeferredDep_ = function(name) {\n    if (goog.isDeferredModule_(name) && goog.allDepsAreAvailable_(name)) {\n      var path = goog.getPathFromDeps_(name);\n      goog.maybeProcessDeferredPath_(goog.basePath + path);\n    }\n  };\n\n  /**\n   * @param {string} name The module to check.\n   * @return {boolean} Whether the name represents a\n   *     module whose evaluation has been deferred.\n   * @private\n   */\n  goog.isDeferredModule_ = function(name) {\n    var path = goog.getPathFromDeps_(name);\n    if (path && goog.dependencies_.pathIsModule[path]) {\n      var abspath = goog.basePath + path;\n      return (abspath) in goog.dependencies_.deferred;\n    }\n    return false;\n  };\n\n  /**\n   * @param {string} name The module to check.\n   * @return {boolean} Whether the name represents a\n   *     module whose declared dependencies have all been loaded\n   *     (eval'd or a deferred module load)\n   * @private\n   */\n  goog.allDepsAreAvailable_ = function(name) {\n    var path = goog.getPathFromDeps_(name);\n    if (path && (path in goog.dependencies_.requires)) {\n      for (var requireName in goog.dependencies_.requires[path]) {\n        if (!goog.isProvided_(requireName) &&\n            !goog.isDeferredModule_(requireName)) {\n          return false;\n        }\n      }\n    }\n    return true;\n  };\n\n\n  /**\n   * @param {string} abspath\n   * @private\n   */\n  goog.maybeProcessDeferredPath_ = function(abspath) {\n    if (abspath in goog.dependencies_.deferred) {\n      var src = goog.dependencies_.deferred[abspath];\n      delete goog.dependencies_.deferred[abspath];\n      goog.globalEval(src);\n    }\n  };\n\n\n  /**\n   * Load a goog.module from the provided URL.  This is not a general purpose\n   * code loader and does not support late loading code, that is it should only\n   * be used during page load. This method exists to support unit tests and\n   * \"debug\" loaders that would otherwise have inserted script tags. Under the\n   * hood this needs to use a synchronous XHR and is not recommeneded for\n   * production code.\n   *\n   * The module's goog.requires must have already been satisified; an exception\n   * will be thrown if this is not the case. This assumption is that no\n   * \"deps.js\" file exists, so there is no way to discover and locate the\n   * module-to-be-loaded's dependencies and no attempt is made to do so.\n   *\n   * There should only be one attempt to load a module.  If\n   * \"goog.loadModuleFromUrl\" is called for an already loaded module, an\n   * exception will be throw.\n   *\n   * @param {string} url The URL from which to attempt to load the goog.module.\n   */\n  goog.loadModuleFromUrl = function(url) {\n    // Because this executes synchronously, we don't need to do any additional\n    // bookkeeping. When \"goog.loadModule\" the namespace will be marked as\n    // having been provided which is sufficient.\n    goog.retrieveAndExecModule_(url);\n  };\n\n\n  /**\n   * @param {function(?):?|string} moduleDef The module definition.\n   */\n  goog.loadModule = function(moduleDef) {\n    // NOTE: we allow function definitions to be either in the from\n    // of a string to eval (which keeps the original source intact) or\n    // in a eval forbidden environment (CSP) we allow a function definition\n    // which in its body must call {@code goog.module}, and return the exports\n    // of the module.\n    var previousState = goog.moduleLoaderState_;\n    try {\n      goog.moduleLoaderState_ = {\n        moduleName: undefined,\n        declareLegacyNamespace: false\n      };\n      var exports;\n      if (goog.isFunction(moduleDef)) {\n        exports = moduleDef.call(goog.global, {});\n      } else if (goog.isString(moduleDef)) {\n        exports = goog.loadModuleFromSource_.call(goog.global, moduleDef);\n      } else {\n        throw Error('Invalid module definition');\n      }\n\n      var moduleName = goog.moduleLoaderState_.moduleName;\n      if (!goog.isString(moduleName) || !moduleName) {\n        throw Error('Invalid module name \\\"' + moduleName + '\\\"');\n      }\n\n      // Don't seal legacy namespaces as they may be uses as a parent of\n      // another namespace\n      if (goog.moduleLoaderState_.declareLegacyNamespace) {\n        goog.constructNamespace_(moduleName, exports);\n      } else if (goog.SEAL_MODULE_EXPORTS && Object.seal) {\n        Object.seal(exports);\n      }\n\n      goog.loadedModules_[moduleName] = exports;\n    } finally {\n      goog.moduleLoaderState_ = previousState;\n    }\n  };\n\n\n  /**\n   * @private @const {function(string):?}\n   *\n   * The new type inference warns because this function has no formal\n   * parameters, but its jsdoc says that it takes one argument.\n   * (The argument is used via arguments[0], but NTI does not detect this.)\n   * @suppress {newCheckTypes}\n   */\n  goog.loadModuleFromSource_ = function() {\n    // NOTE: we avoid declaring parameters or local variables here to avoid\n    // masking globals or leaking values into the module definition.\n    'use strict';\n    var exports = {};\n    eval(arguments[0]);\n    return exports;\n  };\n\n\n  /**\n   * Writes a new script pointing to {@code src} directly into the DOM.\n   *\n   * NOTE: This method is not CSP-compliant. @see goog.appendScriptSrcNode_ for\n   * the fallback mechanism.\n   *\n   * @param {string} src The script URL.\n   * @private\n   */\n  goog.writeScriptSrcNode_ = function(src) {\n    goog.global.document.write(\n        '<script type=\"text/javascript\" src=\"' + src + '\"></' +\n        'script>');\n  };\n\n\n  /**\n   * Appends a new script node to the DOM using a CSP-compliant mechanism. This\n   * method exists as a fallback for document.write (which is not allowed in a\n   * strict CSP context, e.g., Chrome apps).\n   *\n   * NOTE: This method is not analogous to using document.write to insert a\n   * <script> tag; specifically, the user agent will execute a script added by\n   * document.write immediately after the current script block finishes\n   * executing, whereas the DOM-appended script node will not be executed until\n   * the entire document is parsed and executed. That is to say, this script is\n   * added to the end of the script execution queue.\n   *\n   * The page must not attempt to call goog.required entities until after the\n   * document has loaded, e.g., in or after the window.onload callback.\n   *\n   * @param {string} src The script URL.\n   * @private\n   */\n  goog.appendScriptSrcNode_ = function(src) {\n    /** @type {Document} */\n    var doc = goog.global.document;\n    var scriptEl =\n        /** @type {HTMLScriptElement} */ (doc.createElement('script'));\n    scriptEl.type = 'text/javascript';\n    scriptEl.src = src;\n    scriptEl.defer = false;\n    scriptEl.async = false;\n    doc.head.appendChild(scriptEl);\n  };\n\n\n  /**\n   * The default implementation of the import function. Writes a script tag to\n   * import the script.\n   *\n   * @param {string} src The script url.\n   * @param {string=} opt_sourceText The optionally source text to evaluate\n   * @return {boolean} True if the script was imported, false otherwise.\n   * @private\n   */\n  goog.writeScriptTag_ = function(src, opt_sourceText) {\n    if (goog.inHtmlDocument_()) {\n      /** @type {!HTMLDocument} */\n      var doc = goog.global.document;\n\n      // If the user tries to require a new symbol after document load,\n      // something has gone terribly wrong. Doing a document.write would\n      // wipe out the page. This does not apply to the CSP-compliant method\n      // of writing script tags.\n      if (!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING &&\n          doc.readyState == 'complete') {\n        // Certain test frameworks load base.js multiple times, which tries\n        // to write deps.js each time. If that happens, just fail silently.\n        // These frameworks wipe the page between each load of base.js, so this\n        // is OK.\n        var isDeps = /\\bdeps.js$/.test(src);\n        if (isDeps) {\n          return false;\n        } else {\n          throw Error('Cannot write \"' + src + '\" after document load');\n        }\n      }\n\n      var isOldIE = goog.IS_OLD_IE_;\n\n      if (opt_sourceText === undefined) {\n        if (!isOldIE) {\n          if (goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING) {\n            goog.appendScriptSrcNode_(src);\n          } else {\n            goog.writeScriptSrcNode_(src);\n          }\n        } else {\n          var state = \" onreadystatechange='goog.onScriptLoad_(this, \" +\n              ++goog.lastNonModuleScriptIndex_ + \")' \";\n          doc.write(\n              '<script type=\"text/javascript\" src=\"' + src + '\"' + state +\n              '></' +\n              'script>');\n        }\n      } else {\n        doc.write(\n            '<script type=\"text/javascript\">' + opt_sourceText + '</' +\n            'script>');\n      }\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n\n  /** @private {number} */\n  goog.lastNonModuleScriptIndex_ = 0;\n\n\n  /**\n   * A readystatechange handler for legacy IE\n   * @param {!HTMLScriptElement} script\n   * @param {number} scriptIndex\n   * @return {boolean}\n   * @private\n   */\n  goog.onScriptLoad_ = function(script, scriptIndex) {\n    // for now load the modules when we reach the last script,\n    // later allow more inter-mingling.\n    if (script.readyState == 'complete' &&\n        goog.lastNonModuleScriptIndex_ == scriptIndex) {\n      goog.loadQueuedModules_();\n    }\n    return true;\n  };\n\n  /**\n   * Resolves dependencies based on the dependencies added using addDependency\n   * and calls importScript_ in the correct order.\n   * @param {string} pathToLoad The path from which to start discovering\n   *     dependencies.\n   * @private\n   */\n  goog.writeScripts_ = function(pathToLoad) {\n    /** @type {!Array<string>} The scripts we need to write this time. */\n    var scripts = [];\n    var seenScript = {};\n    var deps = goog.dependencies_;\n\n    /** @param {string} path */\n    function visitNode(path) {\n      if (path in deps.written) {\n        return;\n      }\n\n      // We have already visited this one. We can get here if we have cyclic\n      // dependencies.\n      if (path in deps.visited) {\n        return;\n      }\n\n      deps.visited[path] = true;\n\n      if (path in deps.requires) {\n        for (var requireName in deps.requires[path]) {\n          // If the required name is defined, we assume that it was already\n          // bootstrapped by other means.\n          if (!goog.isProvided_(requireName)) {\n            if (requireName in deps.nameToPath) {\n              visitNode(deps.nameToPath[requireName]);\n            } else {\n              throw Error('Undefined nameToPath for ' + requireName);\n            }\n          }\n        }\n      }\n\n      if (!(path in seenScript)) {\n        seenScript[path] = true;\n        scripts.push(path);\n      }\n    }\n\n    visitNode(pathToLoad);\n\n    // record that we are going to load all these scripts.\n    for (var i = 0; i < scripts.length; i++) {\n      var path = scripts[i];\n      goog.dependencies_.written[path] = true;\n    }\n\n    // If a module is loaded synchronously then we need to\n    // clear the current inModuleLoader value, and restore it when we are\n    // done loading the current \"requires\".\n    var moduleState = goog.moduleLoaderState_;\n    goog.moduleLoaderState_ = null;\n\n    for (var i = 0; i < scripts.length; i++) {\n      var path = scripts[i];\n      if (path) {\n        if (!deps.pathIsModule[path]) {\n          goog.importScript_(goog.basePath + path);\n        } else {\n          goog.importModule_(goog.basePath + path);\n        }\n      } else {\n        goog.moduleLoaderState_ = moduleState;\n        throw Error('Undefined script input');\n      }\n    }\n\n    // restore the current \"module loading state\"\n    goog.moduleLoaderState_ = moduleState;\n  };\n\n\n  /**\n   * Looks at the dependency rules and tries to determine the script file that\n   * fulfills a particular rule.\n   * @param {string} rule In the form goog.namespace.Class or project.script.\n   * @return {?string} Url corresponding to the rule, or null.\n   * @private\n   */\n  goog.getPathFromDeps_ = function(rule) {\n    if (rule in goog.dependencies_.nameToPath) {\n      return goog.dependencies_.nameToPath[rule];\n    } else {\n      return null;\n    }\n  };\n\n  goog.findBasePath_();\n\n  // Allow projects to manage the deps files themselves.\n  if (!goog.global.CLOSURE_NO_DEPS) {\n    goog.importScript_(goog.basePath + 'deps.js');\n  }\n}\n\n\n/**\n * Normalize a file path by removing redundant \"..\" and extraneous \".\" file\n * path components.\n * @param {string} path\n * @return {string}\n * @private\n */\ngoog.normalizePath_ = function(path) {\n  var components = path.split('/');\n  var i = 0;\n  while (i < components.length) {\n    if (components[i] == '.') {\n      components.splice(i, 1);\n    } else if (\n        i && components[i] == '..' && components[i - 1] &&\n        components[i - 1] != '..') {\n      components.splice(--i, 2);\n    } else {\n      i++;\n    }\n  }\n  return components.join('/');\n};\n\n\n/**\n * Loads file by synchronous XHR. Should not be used in production environments.\n * @param {string} src Source URL.\n * @return {string} File contents.\n * @private\n */\ngoog.loadFileSync_ = function(src) {\n  if (goog.global.CLOSURE_LOAD_FILE_SYNC) {\n    return goog.global.CLOSURE_LOAD_FILE_SYNC(src);\n  } else {\n    /** @type {XMLHttpRequest} */\n    var xhr = new goog.global['XMLHttpRequest']();\n    xhr.open('get', src, false);\n    xhr.send();\n    return xhr.responseText;\n  }\n};\n\n\n/**\n * Retrieve and execute a module.\n * @param {string} src Script source URL.\n * @private\n */\ngoog.retrieveAndExecModule_ = function(src) {\n  if (!COMPILED) {\n    // The full but non-canonicalized URL for later use.\n    var originalPath = src;\n    // Canonicalize the path, removing any /./ or /../ since Chrome's debugging\n    // console doesn't auto-canonicalize XHR loads as it does <script> srcs.\n    src = goog.normalizePath_(src);\n\n    var importScript =\n        goog.global.CLOSURE_IMPORT_SCRIPT || goog.writeScriptTag_;\n\n    var scriptText = goog.loadFileSync_(src);\n\n    if (scriptText != null) {\n      var execModuleScript = goog.wrapModule_(src, scriptText);\n      var isOldIE = goog.IS_OLD_IE_;\n      if (isOldIE) {\n        goog.dependencies_.deferred[originalPath] = execModuleScript;\n        goog.queuedModules_.push(originalPath);\n      } else {\n        importScript(src, execModuleScript);\n      }\n    } else {\n      throw new Error('load of ' + src + 'failed');\n    }\n  }\n};\n\n\n//==============================================================================\n// Language Enhancements\n//==============================================================================\n\n\n/**\n * This is a \"fixed\" version of the typeof operator.  It differs from the typeof\n * operator in such a way that null returns 'null' and arrays return 'array'.\n * @param {?} value The value to get the type of.\n * @return {string} The name of the type.\n */\ngoog.typeOf = function(value) {\n  var s = typeof value;\n  if (s == 'object') {\n    if (value) {\n      // Check these first, so we can avoid calling Object.prototype.toString if\n      // possible.\n      //\n      // IE improperly marshals typeof across execution contexts, but a\n      // cross-context object will still return false for \"instanceof Object\".\n      if (value instanceof Array) {\n        return 'array';\n      } else if (value instanceof Object) {\n        return s;\n      }\n\n      // HACK: In order to use an Object prototype method on the arbitrary\n      //   value, the compiler requires the value be cast to type Object,\n      //   even though the ECMA spec explicitly allows it.\n      var className = Object.prototype.toString.call(\n          /** @type {!Object} */ (value));\n      // In Firefox 3.6, attempting to access iframe window objects' length\n      // property throws an NS_ERROR_FAILURE, so we need to special-case it\n      // here.\n      if (className == '[object Window]') {\n        return 'object';\n      }\n\n      // We cannot always use constructor == Array or instanceof Array because\n      // different frames have different Array objects. In IE6, if the iframe\n      // where the array was created is destroyed, the array loses its\n      // prototype. Then dereferencing val.splice here throws an exception, so\n      // we can't use goog.isFunction. Calling typeof directly returns 'unknown'\n      // so that will work. In this case, this function will return false and\n      // most array functions will still work because the array is still\n      // array-like (supports length and []) even though it has lost its\n      // prototype.\n      // Mark Miller noticed that Object.prototype.toString\n      // allows access to the unforgeable [[Class]] property.\n      //  15.2.4.2 Object.prototype.toString ( )\n      //  When the toString method is called, the following steps are taken:\n      //      1. Get the [[Class]] property of this object.\n      //      2. Compute a string value by concatenating the three strings\n      //         \"[object \", Result(1), and \"]\".\n      //      3. Return Result(2).\n      // and this behavior survives the destruction of the execution context.\n      if ((className == '[object Array]' ||\n           // In IE all non value types are wrapped as objects across window\n           // boundaries (not iframe though) so we have to do object detection\n           // for this edge case.\n           typeof value.length == 'number' &&\n               typeof value.splice != 'undefined' &&\n               typeof value.propertyIsEnumerable != 'undefined' &&\n               !value.propertyIsEnumerable('splice')\n\n               )) {\n        return 'array';\n      }\n      // HACK: There is still an array case that fails.\n      //     function ArrayImpostor() {}\n      //     ArrayImpostor.prototype = [];\n      //     var impostor = new ArrayImpostor;\n      // this can be fixed by getting rid of the fast path\n      // (value instanceof Array) and solely relying on\n      // (value && Object.prototype.toString.vall(value) === '[object Array]')\n      // but that would require many more function calls and is not warranted\n      // unless closure code is receiving objects from untrusted sources.\n\n      // IE in cross-window calls does not correctly marshal the function type\n      // (it appears just as an object) so we cannot use just typeof val ==\n      // 'function'. However, if the object has a call property, it is a\n      // function.\n      if ((className == '[object Function]' ||\n           typeof value.call != 'undefined' &&\n               typeof value.propertyIsEnumerable != 'undefined' &&\n               !value.propertyIsEnumerable('call'))) {\n        return 'function';\n      }\n\n    } else {\n      return 'null';\n    }\n\n  } else if (s == 'function' && typeof value.call == 'undefined') {\n    // In Safari typeof nodeList returns 'function', and on Firefox typeof\n    // behaves similarly for HTML{Applet,Embed,Object}, Elements and RegExps. We\n    // would like to return object for those and we can detect an invalid\n    // function by making sure that the function object has a call method.\n    return 'object';\n  }\n  return s;\n};\n\n\n/**\n * Returns true if the specified value is null.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is null.\n */\ngoog.isNull = function(val) {\n  return val === null;\n};\n\n\n/**\n * Returns true if the specified value is defined and not null.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is defined and not null.\n */\ngoog.isDefAndNotNull = function(val) {\n  // Note that undefined == null.\n  return val != null;\n};\n\n\n/**\n * Returns true if the specified value is an array.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is an array.\n */\ngoog.isArray = function(val) {\n  return goog.typeOf(val) == 'array';\n};\n\n\n/**\n * Returns true if the object looks like an array. To qualify as array like\n * the value needs to be either a NodeList or an object with a Number length\n * property. As a special case, a function value is not array like, because its\n * length property is fixed to correspond to the number of expected arguments.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is an array.\n */\ngoog.isArrayLike = function(val) {\n  var type = goog.typeOf(val);\n  // We do not use goog.isObject here in order to exclude function values.\n  return type == 'array' || type == 'object' && typeof val.length == 'number';\n};\n\n\n/**\n * Returns true if the object looks like a Date. To qualify as Date-like the\n * value needs to be an object and have a getFullYear() function.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is a like a Date.\n */\ngoog.isDateLike = function(val) {\n  return goog.isObject(val) && typeof val.getFullYear == 'function';\n};\n\n\n/**\n * Returns true if the specified value is a string.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is a string.\n */\ngoog.isString = function(val) {\n  return typeof val == 'string';\n};\n\n\n/**\n * Returns true if the specified value is a boolean.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is boolean.\n */\ngoog.isBoolean = function(val) {\n  return typeof val == 'boolean';\n};\n\n\n/**\n * Returns true if the specified value is a number.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is a number.\n */\ngoog.isNumber = function(val) {\n  return typeof val == 'number';\n};\n\n\n/**\n * Returns true if the specified value is a function.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is a function.\n */\ngoog.isFunction = function(val) {\n  return goog.typeOf(val) == 'function';\n};\n\n\n/**\n * Returns true if the specified value is an object.  This includes arrays and\n * functions.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is an object.\n */\ngoog.isObject = function(val) {\n  var type = typeof val;\n  return type == 'object' && val != null || type == 'function';\n  // return Object(val) === val also works, but is slower, especially if val is\n  // not an object.\n};\n\n\n/**\n * Gets a unique ID for an object. This mutates the object so that further calls\n * with the same object as a parameter returns the same value. The unique ID is\n * guaranteed to be unique across the current session amongst objects that are\n * passed into {@code getUid}. There is no guarantee that the ID is unique or\n * consistent across sessions. It is unsafe to generate unique ID for function\n * prototypes.\n *\n * @param {Object} obj The object to get the unique ID for.\n * @return {number} The unique ID for the object.\n */\ngoog.getUid = function(obj) {\n  // TODO(arv): Make the type stricter, do not accept null.\n\n  // In Opera window.hasOwnProperty exists but always returns false so we avoid\n  // using it. As a consequence the unique ID generated for BaseClass.prototype\n  // and SubClass.prototype will be the same.\n  return obj[goog.UID_PROPERTY_] ||\n      (obj[goog.UID_PROPERTY_] = ++goog.uidCounter_);\n};\n\n\n/**\n * Whether the given object is already assigned a unique ID.\n *\n * This does not modify the object.\n *\n * @param {!Object} obj The object to check.\n * @return {boolean} Whether there is an assigned unique id for the object.\n */\ngoog.hasUid = function(obj) {\n  return !!obj[goog.UID_PROPERTY_];\n};\n\n\n/**\n * Removes the unique ID from an object. This is useful if the object was\n * previously mutated using {@code goog.getUid} in which case the mutation is\n * undone.\n * @param {Object} obj The object to remove the unique ID field from.\n */\ngoog.removeUid = function(obj) {\n  // TODO(arv): Make the type stricter, do not accept null.\n\n  // In IE, DOM nodes are not instances of Object and throw an exception if we\n  // try to delete.  Instead we try to use removeAttribute.\n  if (obj !== null && 'removeAttribute' in obj) {\n    obj.removeAttribute(goog.UID_PROPERTY_);\n  }\n  /** @preserveTry */\n  try {\n    delete obj[goog.UID_PROPERTY_];\n  } catch (ex) {\n  }\n};\n\n\n/**\n * Name for unique ID property. Initialized in a way to help avoid collisions\n * with other closure JavaScript on the same page.\n * @type {string}\n * @private\n */\ngoog.UID_PROPERTY_ = 'closure_uid_' + ((Math.random() * 1e9) >>> 0);\n\n\n/**\n * Counter for UID.\n * @type {number}\n * @private\n */\ngoog.uidCounter_ = 0;\n\n\n/**\n * Adds a hash code field to an object. The hash code is unique for the\n * given object.\n * @param {Object} obj The object to get the hash code for.\n * @return {number} The hash code for the object.\n * @deprecated Use goog.getUid instead.\n */\ngoog.getHashCode = goog.getUid;\n\n\n/**\n * Removes the hash code field from an object.\n * @param {Object} obj The object to remove the field from.\n * @deprecated Use goog.removeUid instead.\n */\ngoog.removeHashCode = goog.removeUid;\n\n\n/**\n * Clones a value. The input may be an Object, Array, or basic type. Objects and\n * arrays will be cloned recursively.\n *\n * WARNINGS:\n * <code>goog.cloneObject</code> does not detect reference loops. Objects that\n * refer to themselves will cause infinite recursion.\n *\n * <code>goog.cloneObject</code> is unaware of unique identifiers, and copies\n * UIDs created by <code>getUid</code> into cloned results.\n *\n * @param {*} obj The value to clone.\n * @return {*} A clone of the input value.\n * @deprecated goog.cloneObject is unsafe. Prefer the goog.object methods.\n */\ngoog.cloneObject = function(obj) {\n  var type = goog.typeOf(obj);\n  if (type == 'object' || type == 'array') {\n    if (obj.clone) {\n      return obj.clone();\n    }\n    var clone = type == 'array' ? [] : {};\n    for (var key in obj) {\n      clone[key] = goog.cloneObject(obj[key]);\n    }\n    return clone;\n  }\n\n  return obj;\n};\n\n\n/**\n * A native implementation of goog.bind.\n * @param {Function} fn A function to partially apply.\n * @param {Object|undefined} selfObj Specifies the object which this should\n *     point to when the function is run.\n * @param {...*} var_args Additional arguments that are partially applied to the\n *     function.\n * @return {!Function} A partially-applied form of the function bind() was\n *     invoked as a method of.\n * @private\n * @suppress {deprecated} The compiler thinks that Function.prototype.bind is\n *     deprecated because some people have declared a pure-JS version.\n *     Only the pure-JS version is truly deprecated.\n */\ngoog.bindNative_ = function(fn, selfObj, var_args) {\n  return /** @type {!Function} */ (fn.call.apply(fn.bind, arguments));\n};\n\n\n/**\n * A pure-JS implementation of goog.bind.\n * @param {Function} fn A function to partially apply.\n * @param {Object|undefined} selfObj Specifies the object which this should\n *     point to when the function is run.\n * @param {...*} var_args Additional arguments that are partially applied to the\n *     function.\n * @return {!Function} A partially-applied form of the function bind() was\n *     invoked as a method of.\n * @private\n */\ngoog.bindJs_ = function(fn, selfObj, var_args) {\n  if (!fn) {\n    throw new Error();\n  }\n\n  if (arguments.length > 2) {\n    var boundArgs = Array.prototype.slice.call(arguments, 2);\n    return function() {\n      // Prepend the bound arguments to the current arguments.\n      var newArgs = Array.prototype.slice.call(arguments);\n      Array.prototype.unshift.apply(newArgs, boundArgs);\n      return fn.apply(selfObj, newArgs);\n    };\n\n  } else {\n    return function() { return fn.apply(selfObj, arguments); };\n  }\n};\n\n\n/**\n * Partially applies this function to a particular 'this object' and zero or\n * more arguments. The result is a new function with some arguments of the first\n * function pre-filled and the value of this 'pre-specified'.\n *\n * Remaining arguments specified at call-time are appended to the pre-specified\n * ones.\n *\n * Also see: {@link #partial}.\n *\n * Usage:\n * <pre>var barMethBound = goog.bind(myFunction, myObj, 'arg1', 'arg2');\n * barMethBound('arg3', 'arg4');</pre>\n *\n * @param {?function(this:T, ...)} fn A function to partially apply.\n * @param {T} selfObj Specifies the object which this should point to when the\n *     function is run.\n * @param {...*} var_args Additional arguments that are partially applied to the\n *     function.\n * @return {!Function} A partially-applied form of the function goog.bind() was\n *     invoked as a method of.\n * @template T\n * @suppress {deprecated} See above.\n */\ngoog.bind = function(fn, selfObj, var_args) {\n  // TODO(nicksantos): narrow the type signature.\n  if (Function.prototype.bind &&\n      // NOTE(nicksantos): Somebody pulled base.js into the default Chrome\n      // extension environment. This means that for Chrome extensions, they get\n      // the implementation of Function.prototype.bind that calls goog.bind\n      // instead of the native one. Even worse, we don't want to introduce a\n      // circular dependency between goog.bind and Function.prototype.bind, so\n      // we have to hack this to make sure it works correctly.\n      Function.prototype.bind.toString().indexOf('native code') != -1) {\n    goog.bind = goog.bindNative_;\n  } else {\n    goog.bind = goog.bindJs_;\n  }\n  return goog.bind.apply(null, arguments);\n};\n\n\n/**\n * Like goog.bind(), except that a 'this object' is not required. Useful when\n * the target function is already bound.\n *\n * Usage:\n * var g = goog.partial(f, arg1, arg2);\n * g(arg3, arg4);\n *\n * @param {Function} fn A function to partially apply.\n * @param {...*} var_args Additional arguments that are partially applied to fn.\n * @return {!Function} A partially-applied form of the function goog.partial()\n *     was invoked as a method of.\n */\ngoog.partial = function(fn, var_args) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  return function() {\n    // Clone the array (with slice()) and append additional arguments\n    // to the existing arguments.\n    var newArgs = args.slice();\n    newArgs.push.apply(newArgs, arguments);\n    return fn.apply(this, newArgs);\n  };\n};\n\n\n/**\n * Copies all the members of a source object to a target object. This method\n * does not work on all browsers for all objects that contain keys such as\n * toString or hasOwnProperty. Use goog.object.extend for this purpose.\n * @param {Object} target Target.\n * @param {Object} source Source.\n */\ngoog.mixin = function(target, source) {\n  for (var x in source) {\n    target[x] = source[x];\n  }\n\n  // For IE7 or lower, the for-in-loop does not contain any properties that are\n  // not enumerable on the prototype object (for example, isPrototypeOf from\n  // Object.prototype) but also it will not include 'replace' on objects that\n  // extend String and change 'replace' (not that it is common for anyone to\n  // extend anything except Object).\n};\n\n\n/**\n * @return {number} An integer value representing the number of milliseconds\n *     between midnight, January 1, 1970 and the current time.\n */\ngoog.now = (goog.TRUSTED_SITE && Date.now) || (function() {\n             // Unary plus operator converts its operand to a number which in\n             // the case of\n             // a date is done by calling getTime().\n             return +new Date();\n           });\n\n\n/**\n * Evals JavaScript in the global scope.  In IE this uses execScript, other\n * browsers use goog.global.eval. If goog.global.eval does not evaluate in the\n * global scope (for example, in Safari), appends a script tag instead.\n * Throws an exception if neither execScript or eval is defined.\n * @param {string} script JavaScript string.\n */\ngoog.globalEval = function(script) {\n  if (goog.global.execScript) {\n    goog.global.execScript(script, 'JavaScript');\n  } else if (goog.global.eval) {\n    // Test to see if eval works\n    if (goog.evalWorksForGlobals_ == null) {\n      goog.global.eval('var _evalTest_ = 1;');\n      if (typeof goog.global['_evalTest_'] != 'undefined') {\n        try {\n          delete goog.global['_evalTest_'];\n        } catch (ignore) {\n          // Microsoft edge fails the deletion above in strict mode.\n        }\n        goog.evalWorksForGlobals_ = true;\n      } else {\n        goog.evalWorksForGlobals_ = false;\n      }\n    }\n\n    if (goog.evalWorksForGlobals_) {\n      goog.global.eval(script);\n    } else {\n      /** @type {Document} */\n      var doc = goog.global.document;\n      var scriptElt =\n          /** @type {!HTMLScriptElement} */ (doc.createElement('SCRIPT'));\n      scriptElt.type = 'text/javascript';\n      scriptElt.defer = false;\n      // Note(user): can't use .innerHTML since \"t('<test>')\" will fail and\n      // .text doesn't work in Safari 2.  Therefore we append a text node.\n      scriptElt.appendChild(doc.createTextNode(script));\n      doc.body.appendChild(scriptElt);\n      doc.body.removeChild(scriptElt);\n    }\n  } else {\n    throw Error('goog.globalEval not available');\n  }\n};\n\n\n/**\n * Indicates whether or not we can call 'eval' directly to eval code in the\n * global scope. Set to a Boolean by the first call to goog.globalEval (which\n * empirically tests whether eval works for globals). @see goog.globalEval\n * @type {?boolean}\n * @private\n */\ngoog.evalWorksForGlobals_ = null;\n\n\n/**\n * Optional map of CSS class names to obfuscated names used with\n * goog.getCssName().\n * @private {!Object<string, string>|undefined}\n * @see goog.setCssNameMapping\n */\ngoog.cssNameMapping_;\n\n\n/**\n * Optional obfuscation style for CSS class names. Should be set to either\n * 'BY_WHOLE' or 'BY_PART' if defined.\n * @type {string|undefined}\n * @private\n * @see goog.setCssNameMapping\n */\ngoog.cssNameMappingStyle_;\n\n\n/**\n * Handles strings that are intended to be used as CSS class names.\n *\n * This function works in tandem with @see goog.setCssNameMapping.\n *\n * Without any mapping set, the arguments are simple joined with a hyphen and\n * passed through unaltered.\n *\n * When there is a mapping, there are two possible styles in which these\n * mappings are used. In the BY_PART style, each part (i.e. in between hyphens)\n * of the passed in css name is rewritten according to the map. In the BY_WHOLE\n * style, the full css name is looked up in the map directly. If a rewrite is\n * not specified by the map, the compiler will output a warning.\n *\n * When the mapping is passed to the compiler, it will replace calls to\n * goog.getCssName with the strings from the mapping, e.g.\n *     var x = goog.getCssName('foo');\n *     var y = goog.getCssName(this.baseClass, 'active');\n *  becomes:\n *     var x = 'foo';\n *     var y = this.baseClass + '-active';\n *\n * If one argument is passed it will be processed, if two are passed only the\n * modifier will be processed, as it is assumed the first argument was generated\n * as a result of calling goog.getCssName.\n *\n * @param {string} className The class name.\n * @param {string=} opt_modifier A modifier to be appended to the class name.\n * @return {string} The class name or the concatenation of the class name and\n *     the modifier.\n */\ngoog.getCssName = function(className, opt_modifier) {\n  var getMapping = function(cssName) {\n    return goog.cssNameMapping_[cssName] || cssName;\n  };\n\n  var renameByParts = function(cssName) {\n    // Remap all the parts individually.\n    var parts = cssName.split('-');\n    var mapped = [];\n    for (var i = 0; i < parts.length; i++) {\n      mapped.push(getMapping(parts[i]));\n    }\n    return mapped.join('-');\n  };\n\n  var rename;\n  if (goog.cssNameMapping_) {\n    rename =\n        goog.cssNameMappingStyle_ == 'BY_WHOLE' ? getMapping : renameByParts;\n  } else {\n    rename = function(a) { return a; };\n  }\n\n  if (opt_modifier) {\n    return className + '-' + rename(opt_modifier);\n  } else {\n    return rename(className);\n  }\n};\n\n\n/**\n * Sets the map to check when returning a value from goog.getCssName(). Example:\n * <pre>\n * goog.setCssNameMapping({\n *   \"goog\": \"a\",\n *   \"disabled\": \"b\",\n * });\n *\n * var x = goog.getCssName('goog');\n * // The following evaluates to: \"a a-b\".\n * goog.getCssName('goog') + ' ' + goog.getCssName(x, 'disabled')\n * </pre>\n * When declared as a map of string literals to string literals, the JSCompiler\n * will replace all calls to goog.getCssName() using the supplied map if the\n * --process_closure_primitives flag is set.\n *\n * @param {!Object} mapping A map of strings to strings where keys are possible\n *     arguments to goog.getCssName() and values are the corresponding values\n *     that should be returned.\n * @param {string=} opt_style The style of css name mapping. There are two valid\n *     options: 'BY_PART', and 'BY_WHOLE'.\n * @see goog.getCssName for a description.\n */\ngoog.setCssNameMapping = function(mapping, opt_style) {\n  goog.cssNameMapping_ = mapping;\n  goog.cssNameMappingStyle_ = opt_style;\n};\n\n\n/**\n * To use CSS renaming in compiled mode, one of the input files should have a\n * call to goog.setCssNameMapping() with an object literal that the JSCompiler\n * can extract and use to replace all calls to goog.getCssName(). In uncompiled\n * mode, JavaScript code should be loaded before this base.js file that declares\n * a global variable, CLOSURE_CSS_NAME_MAPPING, which is used below. This is\n * to ensure that the mapping is loaded before any calls to goog.getCssName()\n * are made in uncompiled mode.\n *\n * A hook for overriding the CSS name mapping.\n * @type {!Object<string, string>|undefined}\n */\ngoog.global.CLOSURE_CSS_NAME_MAPPING;\n\n\nif (!COMPILED && goog.global.CLOSURE_CSS_NAME_MAPPING) {\n  // This does not call goog.setCssNameMapping() because the JSCompiler\n  // requires that goog.setCssNameMapping() be called with an object literal.\n  goog.cssNameMapping_ = goog.global.CLOSURE_CSS_NAME_MAPPING;\n}\n\n\n/**\n * Gets a localized message.\n *\n * This function is a compiler primitive. If you give the compiler a localized\n * message bundle, it will replace the string at compile-time with a localized\n * version, and expand goog.getMsg call to a concatenated string.\n *\n * Messages must be initialized in the form:\n * <code>\n * var MSG_NAME = goog.getMsg('Hello {$placeholder}', {'placeholder': 'world'});\n * </code>\n *\n * @param {string} str Translatable string, places holders in the form {$foo}.\n * @param {Object<string, string>=} opt_values Maps place holder name to value.\n * @return {string} message with placeholders filled.\n */\ngoog.getMsg = function(str, opt_values) {\n  if (opt_values) {\n    str = str.replace(/\\{\\$([^}]+)}/g, function(match, key) {\n      return (opt_values != null && key in opt_values) ? opt_values[key] :\n                                                         match;\n    });\n  }\n  return str;\n};\n\n\n/**\n * Gets a localized message. If the message does not have a translation, gives a\n * fallback message.\n *\n * This is useful when introducing a new message that has not yet been\n * translated into all languages.\n *\n * This function is a compiler primitive. Must be used in the form:\n * <code>var x = goog.getMsgWithFallback(MSG_A, MSG_B);</code>\n * where MSG_A and MSG_B were initialized with goog.getMsg.\n *\n * @param {string} a The preferred message.\n * @param {string} b The fallback message.\n * @return {string} The best translated message.\n */\ngoog.getMsgWithFallback = function(a, b) {\n  return a;\n};\n\n\n/**\n * Exposes an unobfuscated global namespace path for the given object.\n * Note that fields of the exported object *will* be obfuscated, unless they are\n * exported in turn via this function or goog.exportProperty.\n *\n * Also handy for making public items that are defined in anonymous closures.\n *\n * ex. goog.exportSymbol('public.path.Foo', Foo);\n *\n * ex. goog.exportSymbol('public.path.Foo.staticFunction', Foo.staticFunction);\n *     public.path.Foo.staticFunction();\n *\n * ex. goog.exportSymbol('public.path.Foo.prototype.myMethod',\n *                       Foo.prototype.myMethod);\n *     new public.path.Foo().myMethod();\n *\n * @param {string} publicPath Unobfuscated name to export.\n * @param {*} object Object the name should point to.\n * @param {Object=} opt_objectToExportTo The object to add the path to; default\n *     is goog.global.\n */\ngoog.exportSymbol = function(publicPath, object, opt_objectToExportTo) {\n  goog.exportPath_(publicPath, object, opt_objectToExportTo);\n};\n\n\n/**\n * Exports a property unobfuscated into the object's namespace.\n * ex. goog.exportProperty(Foo, 'staticFunction', Foo.staticFunction);\n * ex. goog.exportProperty(Foo.prototype, 'myMethod', Foo.prototype.myMethod);\n * @param {Object} object Object whose static property is being exported.\n * @param {string} publicName Unobfuscated name to export.\n * @param {*} symbol Object the name should point to.\n */\ngoog.exportProperty = function(object, publicName, symbol) {\n  object[publicName] = symbol;\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * Usage:\n * <pre>\n * function ParentClass(a, b) { }\n * ParentClass.prototype.foo = function(a) { };\n *\n * function ChildClass(a, b, c) {\n *   ChildClass.base(this, 'constructor', a, b);\n * }\n * goog.inherits(ChildClass, ParentClass);\n *\n * var child = new ChildClass('a', 'b', 'see');\n * child.foo(); // This works.\n * </pre>\n *\n * @param {!Function} childCtor Child class.\n * @param {!Function} parentCtor Parent class.\n */\ngoog.inherits = function(childCtor, parentCtor) {\n  /** @constructor */\n  function tempCtor() {}\n  tempCtor.prototype = parentCtor.prototype;\n  childCtor.superClass_ = parentCtor.prototype;\n  childCtor.prototype = new tempCtor();\n  /** @override */\n  childCtor.prototype.constructor = childCtor;\n\n  /**\n   * Calls superclass constructor/method.\n   *\n   * This function is only available if you use goog.inherits to\n   * express inheritance relationships between classes.\n   *\n   * NOTE: This is a replacement for goog.base and for superClass_\n   * property defined in childCtor.\n   *\n   * @param {!Object} me Should always be \"this\".\n   * @param {string} methodName The method name to call. Calling\n   *     superclass constructor can be done with the special string\n   *     'constructor'.\n   * @param {...*} var_args The arguments to pass to superclass\n   *     method/constructor.\n   * @return {*} The return value of the superclass method/constructor.\n   */\n  childCtor.base = function(me, methodName, var_args) {\n    // Copying using loop to avoid deop due to passing arguments object to\n    // function. This is faster in many JS engines as of late 2014.\n    var args = new Array(arguments.length - 2);\n    for (var i = 2; i < arguments.length; i++) {\n      args[i - 2] = arguments[i];\n    }\n    return parentCtor.prototype[methodName].apply(me, args);\n  };\n};\n\n\n/**\n * Call up to the superclass.\n *\n * If this is called from a constructor, then this calls the superclass\n * constructor with arguments 1-N.\n *\n * If this is called from a prototype method, then you must pass the name of the\n * method as the second argument to this function. If you do not, you will get a\n * runtime error. This calls the superclass' method with arguments 2-N.\n *\n * This function only works if you use goog.inherits to express inheritance\n * relationships between your classes.\n *\n * This function is a compiler primitive. At compile-time, the compiler will do\n * macro expansion to remove a lot of the extra overhead that this function\n * introduces. The compiler will also enforce a lot of the assumptions that this\n * function makes, and treat it as a compiler error if you break them.\n *\n * @param {!Object} me Should always be \"this\".\n * @param {*=} opt_methodName The method name if calling a super method.\n * @param {...*} var_args The rest of the arguments.\n * @return {*} The return value of the superclass method.\n * @suppress {es5Strict} This method can not be used in strict mode, but\n *     all Closure Library consumers must depend on this file.\n */\ngoog.base = function(me, opt_methodName, var_args) {\n  var caller = arguments.callee.caller;\n\n  if (goog.STRICT_MODE_COMPATIBLE || (goog.DEBUG && !caller)) {\n    throw Error(\n        'arguments.caller not defined.  goog.base() cannot be used ' +\n        'with strict mode code. See ' +\n        'http://www.ecma-international.org/ecma-262/5.1/#sec-C');\n  }\n\n  if (caller.superClass_) {\n    // Copying using loop to avoid deop due to passing arguments object to\n    // function. This is faster in many JS engines as of late 2014.\n    var ctorArgs = new Array(arguments.length - 1);\n    for (var i = 1; i < arguments.length; i++) {\n      ctorArgs[i - 1] = arguments[i];\n    }\n    // This is a constructor. Call the superclass constructor.\n    return caller.superClass_.constructor.apply(me, ctorArgs);\n  }\n\n  // Copying using loop to avoid deop due to passing arguments object to\n  // function. This is faster in many JS engines as of late 2014.\n  var args = new Array(arguments.length - 2);\n  for (var i = 2; i < arguments.length; i++) {\n    args[i - 2] = arguments[i];\n  }\n  var foundCaller = false;\n  for (var ctor = me.constructor; ctor;\n       ctor = ctor.superClass_ && ctor.superClass_.constructor) {\n    if (ctor.prototype[opt_methodName] === caller) {\n      foundCaller = true;\n    } else if (foundCaller) {\n      return ctor.prototype[opt_methodName].apply(me, args);\n    }\n  }\n\n  // If we did not find the caller in the prototype chain, then one of two\n  // things happened:\n  // 1) The caller is an instance method.\n  // 2) This method was not called by the right caller.\n  if (me[opt_methodName] === caller) {\n    return me.constructor.prototype[opt_methodName].apply(me, args);\n  } else {\n    throw Error(\n        'goog.base called from a method of one name ' +\n        'to a method of a different name');\n  }\n};\n\n\n/**\n * Allow for aliasing within scope functions.  This function exists for\n * uncompiled code - in compiled code the calls will be inlined and the aliases\n * applied.  In uncompiled code the function is simply run since the aliases as\n * written are valid JavaScript.\n *\n *\n * @param {function()} fn Function to call.  This function can contain aliases\n *     to namespaces (e.g. \"var dom = goog.dom\") or classes\n *     (e.g. \"var Timer = goog.Timer\").\n */\ngoog.scope = function(fn) {\n  fn.call(goog.global);\n};\n\n\n/*\n * To support uncompiled, strict mode bundles that use eval to divide source\n * like so:\n *    eval('someSource;//# sourceUrl sourcefile.js');\n * We need to export the globally defined symbols \"goog\" and \"COMPILED\".\n * Exporting \"goog\" breaks the compiler optimizations, so we required that\n * be defined externally.\n * NOTE: We don't use goog.exportSymbol here because we don't want to trigger\n * extern generation when that compiler option is enabled.\n */\nif (!COMPILED) {\n  goog.global['COMPILED'] = COMPILED;\n}\n\ngoog.provide('goog.string');\n\n\n/**\n * Does simple python-style string substitution.\n * subs(\"foo%s hot%s\", \"bar\", \"dog\") becomes \"foobar hotdog\".\n * @param {string} str The string containing the pattern.\n * @param {...*} var_args The items to substitute into the pattern.\n * @return {string} A copy of {@code str} in which each occurrence of\n *     {@code %s} has been replaced an argument from {@code var_args}.\n */\ngoog.string.subs = function(str, var_args) {\n  var splitParts = str.split('%s');\n  var returnString = '';\n\n  var subsArguments = Array.prototype.slice.call(arguments, 1);\n  while (subsArguments.length &&\n         // Replace up to the last split part. We are inserting in the\n         // positions between split parts.\n         splitParts.length > 1) {\n    returnString += splitParts.shift() + subsArguments.shift();\n  }\n\n  return returnString + splitParts.join('%s');  // Join unused '%s'\n};\n\n/**\n * Regular expression that matches an ampersand, for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.AMP_RE_ = /&/g;\n\n\n/**\n * Regular expression that matches a less than sign, for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.LT_RE_ = /</g;\n\n\n/**\n * Regular expression that matches a greater than sign, for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.GT_RE_ = />/g;\n\n\n/**\n * Regular expression that matches a double quote, for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.QUOT_RE_ = /\"/g;\n\n\n/**\n * Regular expression that matches a single quote, for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.SINGLE_QUOTE_RE_ = /'/g;\n\n\n/**\n * Regular expression that matches null character, for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.NULL_RE_ = /\\x00/g;\n\n\n/**\n * Regular expression that matches a lowercase letter \"e\", for use in escaping.\n * @const {!RegExp}\n * @private\n */\ngoog.string.E_RE_ = /e/g;\n\n\n/**\n * Regular expression that matches any character that needs to be escaped.\n * @const {!RegExp}\n * @private\n */\ngoog.string.ALL_RE_ =\n    (goog.string.DETECT_DOUBLE_ESCAPING ? /[\\x00&<>\"'e]/ : /[\\x00&<>\"']/);\n\n/**\n * Unescapes an HTML string.\n *\n * @param {string} str The string to unescape.\n * @return {string} An unescaped copy of {@code str}.\n */\ngoog.string.unescapeEntities = function(str) {\n  if (goog.string.contains(str, '&')) {\n    // We are careful not to use a DOM if we do not have one or we explicitly\n    // requested non-DOM html unescaping.\n    if (!goog.string.FORCE_NON_DOM_HTML_UNESCAPING &&\n        'document' in goog.global) {\n      return goog.string.unescapeEntitiesUsingDom_(str);\n    } else {\n      // Fall back on pure XML entities\n      return goog.string.unescapePureXmlEntities_(str);\n    }\n  }\n  return str;\n};\n\n/**\n * Unescapes an HTML string using a DOM to resolve non-XML, non-numeric\n * entities. This function is XSS-safe and whitespace-preserving.\n * @private\n * @param {string} str The string to unescape.\n * @param {Document=} opt_document An optional document to use for creating\n *     elements. If this is not specified then the default window.document\n *     will be used.\n * @return {string} The unescaped {@code str} string.\n */\ngoog.string.unescapeEntitiesUsingDom_ = function(str, opt_document) {\n  /** @type {!Object<string, string>} */\n  var seen = {'&amp;': '&', '&lt;': '<', '&gt;': '>', '&quot;': '\"'};\n  var div;\n  if (opt_document) {\n    div = opt_document.createElement('div');\n  } else {\n    div = goog.global.document.createElement('div');\n  }\n  // Match as many valid entity characters as possible. If the actual entity\n  // happens to be shorter, it will still work as innerHTML will return the\n  // trailing characters unchanged. Since the entity characters do not include\n  // open angle bracket, there is no chance of XSS from the innerHTML use.\n  // Since no whitespace is passed to innerHTML, whitespace is preserved.\n  return str.replace(goog.string.HTML_ENTITY_PATTERN_, function(s, entity) {\n    // Check for cached entity.\n    var value = seen[s];\n    if (value) {\n      return value;\n    }\n    // Check for numeric entity.\n    if (entity.charAt(0) == '#') {\n      // Prefix with 0 so that hex entities (e.g. &#x10) parse as hex numbers.\n      var n = Number('0' + entity.substr(1));\n      if (!isNaN(n)) {\n        value = String.fromCharCode(n);\n      }\n    }\n    // Fall back to innerHTML otherwise.\n    if (!value) {\n      // Append a non-entity character to avoid a bug in Webkit that parses\n      // an invalid entity at the end of innerHTML text as the empty string.\n      div.innerHTML = s + ' ';\n      // Then remove the trailing character from the result.\n      value = div.firstChild.nodeValue.slice(0, -1);\n    }\n    // Cache and return.\n    return seen[s] = value;\n  });\n};\n\n/**\n * Unescapes XML entities.\n * @private\n * @param {string} str The string to unescape.\n * @return {string} An unescaped copy of {@code str}.\n */\ngoog.string.unescapePureXmlEntities_ = function(str) {\n  return str.replace(/&([^;]+);/g, function(s, entity) {\n    switch (entity) {\n      case 'amp':\n        return '&';\n      case 'lt':\n        return '<';\n      case 'gt':\n        return '>';\n      case 'quot':\n        return '\"';\n      default:\n        if (entity.charAt(0) == '#') {\n          // Prefix with 0 so that hex entities (e.g. &#x10) parse as hex.\n          var n = Number('0' + entity.substr(1));\n          if (!isNaN(n)) {\n            return String.fromCharCode(n);\n          }\n        }\n        // For invalid entities we just return the entity\n        return s;\n    }\n  });\n};\n\n/**\n * Regular expression that matches an HTML entity.\n * See also HTML5: Tokenization / Tokenizing character references.\n * @private\n * @type {!RegExp}\n */\ngoog.string.HTML_ENTITY_PATTERN_ = /&([^;\\s<&]+);?/g;\n\n/**\n * Determines whether a string contains a substring.\n * @param {string} str The string to search.\n * @param {string} subString The substring to search for.\n * @return {boolean} Whether {@code str} contains {@code subString}.\n */\ngoog.string.contains = function(str, subString) {\n  return str.indexOf(subString) != -1;\n};\n\n/**\n * Escapes double quote '\"' and single quote '\\'' characters in addition to\n * '&', '<', and '>' so that a string can be included in an HTML tag attribute\n * value within double or single quotes.\n *\n * It should be noted that > doesn't need to be escaped for the HTML or XML to\n * be valid, but it has been decided to escape it for consistency with other\n * implementations.\n *\n * With goog.string.DETECT_DOUBLE_ESCAPING, this function escapes also the\n * lowercase letter \"e\".\n *\n * NOTE(user):\n * HtmlEscape is often called during the generation of large blocks of HTML.\n * Using statics for the regular expressions and strings is an optimization\n * that can more than half the amount of time IE spends in this function for\n * large apps, since strings and regexes both contribute to GC allocations.\n *\n * Testing for the presence of a character before escaping increases the number\n * of function calls, but actually provides a speed increase for the average\n * case -- since the average case often doesn't require the escaping of all 4\n * characters and indexOf() is much cheaper than replace().\n * The worst case does suffer slightly from the additional calls, therefore the\n * opt_isLikelyToContainHtmlChars option has been included for situations\n * where all 4 HTML entities are very likely to be present and need escaping.\n *\n * Some benchmarks (times tended to fluctuate +-0.05ms):\n *                                     FireFox                     IE6\n * (no chars / average (mix of cases) / all 4 chars)\n * no checks                     0.13 / 0.22 / 0.22         0.23 / 0.53 / 0.80\n * indexOf                       0.08 / 0.17 / 0.26         0.22 / 0.54 / 0.84\n * indexOf + re test             0.07 / 0.17 / 0.28         0.19 / 0.50 / 0.85\n *\n * An additional advantage of checking if replace actually needs to be called\n * is a reduction in the number of object allocations, so as the size of the\n * application grows the difference between the various methods would increase.\n *\n * @param {string} str string to be escaped.\n * @param {boolean=} opt_isLikelyToContainHtmlChars Don't perform a check to see\n *     if the character needs replacing - use this option if you expect each of\n *     the characters to appear often. Leave false if you expect few html\n *     characters to occur in your strings, such as if you are escaping HTML.\n * @return {string} An escaped copy of {@code str}.\n */\ngoog.string.htmlEscape = function(str, opt_isLikelyToContainHtmlChars) {\n\n  if (opt_isLikelyToContainHtmlChars) {\n    str = str.replace(goog.string.AMP_RE_, '&amp;')\n              .replace(goog.string.LT_RE_, '&lt;')\n              .replace(goog.string.GT_RE_, '&gt;')\n              .replace(goog.string.QUOT_RE_, '&quot;')\n              .replace(goog.string.SINGLE_QUOTE_RE_, '&#39;')\n              .replace(goog.string.NULL_RE_, '&#0;');\n    if (goog.string.DETECT_DOUBLE_ESCAPING) {\n      str = str.replace(goog.string.E_RE_, '&#101;');\n    }\n    return str;\n\n  } else {\n    // quick test helps in the case when there are no chars to replace, in\n    // worst case this makes barely a difference to the time taken\n    if (!goog.string.ALL_RE_.test(str)) return str;\n\n    // str.indexOf is faster than regex.test in this case\n    if (str.indexOf('&') != -1) {\n      str = str.replace(goog.string.AMP_RE_, '&amp;');\n    }\n    if (str.indexOf('<') != -1) {\n      str = str.replace(goog.string.LT_RE_, '&lt;');\n    }\n    if (str.indexOf('>') != -1) {\n      str = str.replace(goog.string.GT_RE_, '&gt;');\n    }\n    if (str.indexOf('\"') != -1) {\n      str = str.replace(goog.string.QUOT_RE_, '&quot;');\n    }\n    if (str.indexOf('\\'') != -1) {\n      str = str.replace(goog.string.SINGLE_QUOTE_RE_, '&#39;');\n    }\n    if (str.indexOf('\\x00') != -1) {\n      str = str.replace(goog.string.NULL_RE_, '&#0;');\n    }\n    if (goog.string.DETECT_DOUBLE_ESCAPING && str.indexOf('e') != -1) {\n      str = str.replace(goog.string.E_RE_, '&#101;');\n    }\n    return str;\n  }\n};\n\n\ngoog.debug = {};\n\n/**\n * Returns the type of a value. If a constructor is passed, and a suitable\n * string cannot be found, 'unknown type name' will be returned.\n *\n * <p>Forked rather than moved from {@link goog.asserts.getType_}\n * to avoid adding a dependency to goog.asserts.\n * @param {*} value A constructor, object, or primitive.\n * @return {string} The best display name for the value, or 'unknown type name'.\n */\ngoog.debug.runtimeType = function(value) {\n  if (value instanceof Function) {\n    return value.displayName || value.name || 'unknown type name';\n  } else if (value instanceof Object) {\n    return value.constructor.displayName || value.constructor.name ||\n        Object.prototype.toString.call(value);\n  } else {\n    return value === null ? 'null' : typeof value;\n  }\n};\n\n// Copyright 2009 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Provides a base class for custom Error objects such that the\n * stack is correctly maintained.\n *\n * You should never need to throw goog.debug.Error(msg) directly, Error(msg) is\n * sufficient.\n *\n */\n\n\n/**\n * Base class for custom error objects.\n * @param {*=} opt_msg The message associated with the error.\n * @constructor\n * @extends {Error}\n */\ngoog.debug.Error = function(opt_msg) {\n\n  // Attempt to ensure there is a stack trace.\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, goog.debug.Error);\n  } else {\n    var stack = new Error().stack;\n    if (stack) {\n      this.stack = stack;\n    }\n  }\n\n  if (opt_msg) {\n    this.message = String(opt_msg);\n  }\n\n  /**\n   * Whether to report this error to the server. Setting this to false will\n   * cause the error reporter to not report the error back to the server,\n   * which can be useful if the client knows that the error has already been\n   * logged on the server.\n   * @type {boolean}\n   */\n  this.reportErrorToServer = true;\n};\ngoog.inherits(goog.debug.Error, Error);\n\n\n/** @override */\ngoog.debug.Error.prototype.name = 'CustomError';\n\n\n/**\n * @fileoverview Definition of goog.dom.NodeType.\n */\n\ngoog.dom = {};\n\n/**\n * Constants for the nodeType attribute in the Node interface.\n *\n * These constants match those specified in the Node interface. These are\n * usually present on the Node object in recent browsers, but not in older\n * browsers (specifically, early IEs) and thus are given here.\n *\n * In some browsers (early IEs), these are not defined on the Node object,\n * so they are provided here.\n *\n * See http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-1950641247\n * @enum {number}\n */\ngoog.dom.NodeType = {\n  ELEMENT: 1,\n  ATTRIBUTE: 2,\n  TEXT: 3,\n  CDATA_SECTION: 4,\n  ENTITY_REFERENCE: 5,\n  ENTITY: 6,\n  PROCESSING_INSTRUCTION: 7,\n  COMMENT: 8,\n  DOCUMENT: 9,\n  DOCUMENT_TYPE: 10,\n  DOCUMENT_FRAGMENT: 11,\n  NOTATION: 12\n};\n\n// Copyright 2007 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Utility functions for supporting Bidi issues.\n */\n\n\n/**\n * Namespace for bidi supporting functions.\n */\ngoog.provide('goog.i18n.bidi');\ngoog.provide('goog.i18n.bidi.Dir');\ngoog.provide('goog.i18n.bidi.DirectionalString');\ngoog.provide('goog.i18n.bidi.Format');\n\n\n/**\n * @define {boolean} FORCE_RTL forces the {@link goog.i18n.bidi.IS_RTL} constant\n * to say that the current locale is a RTL locale.  This should only be used\n * if you want to override the default behavior for deciding whether the\n * current locale is RTL or not.\n *\n * {@see goog.i18n.bidi.IS_RTL}\n */\ngoog.define('goog.i18n.bidi.FORCE_RTL', false);\n\n\n/**\n * Constant that defines whether or not the current locale is a RTL locale.\n * If {@link goog.i18n.bidi.FORCE_RTL} is not true, this constant will default\n * to check that {@link goog.LOCALE} is one of a few major RTL locales.\n *\n * <p>This is designed to be a maximally efficient compile-time constant. For\n * example, for the default goog.LOCALE, compiling\n * \"if (goog.i18n.bidi.IS_RTL) alert('rtl') else {}\" should produce no code. It\n * is this design consideration that limits the implementation to only\n * supporting a few major RTL locales, as opposed to the broader repertoire of\n * something like goog.i18n.bidi.isRtlLanguage.\n *\n * <p>Since this constant refers to the directionality of the locale, it is up\n * to the caller to determine if this constant should also be used for the\n * direction of the UI.\n *\n * {@see goog.LOCALE}\n *\n * @type {boolean}\n *\n * TODO(user): write a test that checks that this is a compile-time constant.\n */\ngoog.i18n.bidi.IS_RTL = goog.i18n.bidi.FORCE_RTL ||\n    ((goog.LOCALE.substring(0, 2).toLowerCase() == 'ar' ||\n      goog.LOCALE.substring(0, 2).toLowerCase() == 'fa' ||\n      goog.LOCALE.substring(0, 2).toLowerCase() == 'he' ||\n      goog.LOCALE.substring(0, 2).toLowerCase() == 'iw' ||\n      goog.LOCALE.substring(0, 2).toLowerCase() == 'ps' ||\n      goog.LOCALE.substring(0, 2).toLowerCase() == 'sd' ||\n      goog.LOCALE.substring(0, 2).toLowerCase() == 'ug' ||\n      goog.LOCALE.substring(0, 2).toLowerCase() == 'ur' ||\n      goog.LOCALE.substring(0, 2).toLowerCase() == 'yi') &&\n     (goog.LOCALE.length == 2 || goog.LOCALE.substring(2, 3) == '-' ||\n      goog.LOCALE.substring(2, 3) == '_')) ||\n    (goog.LOCALE.length >= 3 &&\n     goog.LOCALE.substring(0, 3).toLowerCase() == 'ckb' &&\n     (goog.LOCALE.length == 3 || goog.LOCALE.substring(3, 4) == '-' ||\n      goog.LOCALE.substring(3, 4) == '_'));\n\n\n/**\n * Unicode formatting characters and directionality string constants.\n * @enum {string}\n */\ngoog.i18n.bidi.Format = {\n  /** Unicode \"Left-To-Right Embedding\" (LRE) character. */\n  LRE: '\\u202A',\n  /** Unicode \"Right-To-Left Embedding\" (RLE) character. */\n  RLE: '\\u202B',\n  /** Unicode \"Pop Directional Formatting\" (PDF) character. */\n  PDF: '\\u202C',\n  /** Unicode \"Left-To-Right Mark\" (LRM) character. */\n  LRM: '\\u200E',\n  /** Unicode \"Right-To-Left Mark\" (RLM) character. */\n  RLM: '\\u200F'\n};\n\n\n/**\n * Directionality enum.\n * @enum {number}\n */\ngoog.i18n.bidi.Dir = {\n  /**\n   * Left-to-right.\n   */\n  LTR: 1,\n\n  /**\n   * Right-to-left.\n   */\n  RTL: -1,\n\n  /**\n   * Neither left-to-right nor right-to-left.\n   */\n  NEUTRAL: 0\n};\n\n\n/**\n * 'right' string constant.\n * @type {string}\n */\ngoog.i18n.bidi.RIGHT = 'right';\n\n\n/**\n * 'left' string constant.\n * @type {string}\n */\ngoog.i18n.bidi.LEFT = 'left';\n\n\n/**\n * 'left' if locale is RTL, 'right' if not.\n * @type {string}\n */\ngoog.i18n.bidi.I18N_RIGHT =\n    goog.i18n.bidi.IS_RTL ? goog.i18n.bidi.LEFT : goog.i18n.bidi.RIGHT;\n\n\n/**\n * 'right' if locale is RTL, 'left' if not.\n * @type {string}\n */\ngoog.i18n.bidi.I18N_LEFT =\n    goog.i18n.bidi.IS_RTL ? goog.i18n.bidi.RIGHT : goog.i18n.bidi.LEFT;\n\n\n/**\n * Convert a directionality given in various formats to a goog.i18n.bidi.Dir\n * constant. Useful for interaction with different standards of directionality\n * representation.\n *\n * @param {goog.i18n.bidi.Dir|number|boolean|null} givenDir Directionality given\n *     in one of the following formats:\n *     1. A goog.i18n.bidi.Dir constant.\n *     2. A number (positive = LTR, negative = RTL, 0 = neutral).\n *     3. A boolean (true = RTL, false = LTR).\n *     4. A null for unknown directionality.\n * @param {boolean=} opt_noNeutral Whether a givenDir of zero or\n *     goog.i18n.bidi.Dir.NEUTRAL should be treated as null, i.e. unknown, in\n *     order to preserve legacy behavior.\n * @return {?goog.i18n.bidi.Dir} A goog.i18n.bidi.Dir constant matching the\n *     given directionality. If given null, returns null (i.e. unknown).\n */\ngoog.i18n.bidi.toDir = function(givenDir, opt_noNeutral) {\n  if (typeof givenDir == 'number') {\n    // This includes the non-null goog.i18n.bidi.Dir case.\n    return givenDir > 0 ? goog.i18n.bidi.Dir.LTR : givenDir < 0 ?\n                          goog.i18n.bidi.Dir.RTL :\n                          opt_noNeutral ? null : goog.i18n.bidi.Dir.NEUTRAL;\n  } else if (givenDir == null) {\n    return null;\n  } else {\n    // Must be typeof givenDir == 'boolean'.\n    return givenDir ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.LTR;\n  }\n};\n\n\n/**\n * A practical pattern to identify strong LTR characters. This pattern is not\n * theoretically correct according to the Unicode standard. It is simplified for\n * performance and small code size.\n * @type {string}\n * @private\n */\ngoog.i18n.bidi.ltrChars_ =\n    'A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02B8\\u0300-\\u0590\\u0800-\\u1FFF' +\n    '\\u200E\\u2C00-\\uFB1C\\uFE00-\\uFE6F\\uFEFD-\\uFFFF';\n\n\n/**\n * A practical pattern to identify strong RTL character. This pattern is not\n * theoretically correct according to the Unicode standard. It is simplified\n * for performance and small code size.\n * @type {string}\n * @private\n */\ngoog.i18n.bidi.rtlChars_ =\n    '\\u0591-\\u06EF\\u06FA-\\u07FF\\u200F\\uFB1D-\\uFDFF\\uFE70-\\uFEFC';\n\n\n/**\n * Simplified regular expression for an HTML tag (opening or closing) or an HTML\n * escape. We might want to skip over such expressions when estimating the text\n * directionality.\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.htmlSkipReg_ = /<[^>]*>|&[^;]+;/g;\n\n\n/**\n * Returns the input text with spaces instead of HTML tags or HTML escapes, if\n * opt_isStripNeeded is true. Else returns the input as is.\n * Useful for text directionality estimation.\n * Note: the function should not be used in other contexts; it is not 100%\n * correct, but rather a good-enough implementation for directionality\n * estimation purposes.\n * @param {string} str The given string.\n * @param {boolean=} opt_isStripNeeded Whether to perform the stripping.\n *     Default: false (to retain consistency with calling functions).\n * @return {string} The given string cleaned of HTML tags / escapes.\n * @private\n */\ngoog.i18n.bidi.stripHtmlIfNeeded_ = function(str, opt_isStripNeeded) {\n  return opt_isStripNeeded ? str.replace(goog.i18n.bidi.htmlSkipReg_, '') : str;\n};\n\n\n/**\n * Regular expression to check for RTL characters.\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.rtlCharReg_ = new RegExp('[' + goog.i18n.bidi.rtlChars_ + ']');\n\n\n/**\n * Regular expression to check for LTR characters.\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.ltrCharReg_ = new RegExp('[' + goog.i18n.bidi.ltrChars_ + ']');\n\n\n/**\n * Test whether the given string has any RTL characters in it.\n * @param {string} str The given string that need to be tested.\n * @param {boolean=} opt_isHtml Whether str is HTML / HTML-escaped.\n *     Default: false.\n * @return {boolean} Whether the string contains RTL characters.\n */\ngoog.i18n.bidi.hasAnyRtl = function(str, opt_isHtml) {\n  return goog.i18n.bidi.rtlCharReg_.test(\n      goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\n\n\n/**\n * Test whether the given string has any RTL characters in it.\n * @param {string} str The given string that need to be tested.\n * @return {boolean} Whether the string contains RTL characters.\n * @deprecated Use hasAnyRtl.\n */\ngoog.i18n.bidi.hasRtlChar = goog.i18n.bidi.hasAnyRtl;\n\n\n/**\n * Test whether the given string has any LTR characters in it.\n * @param {string} str The given string that need to be tested.\n * @param {boolean=} opt_isHtml Whether str is HTML / HTML-escaped.\n *     Default: false.\n * @return {boolean} Whether the string contains LTR characters.\n */\ngoog.i18n.bidi.hasAnyLtr = function(str, opt_isHtml) {\n  return goog.i18n.bidi.ltrCharReg_.test(\n      goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\n\n\n/**\n * Regular expression pattern to check if the first character in the string\n * is LTR.\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.ltrRe_ = new RegExp('^[' + goog.i18n.bidi.ltrChars_ + ']');\n\n\n/**\n * Regular expression pattern to check if the first character in the string\n * is RTL.\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.rtlRe_ = new RegExp('^[' + goog.i18n.bidi.rtlChars_ + ']');\n\n\n/**\n * Check if the first character in the string is RTL or not.\n * @param {string} str The given string that need to be tested.\n * @return {boolean} Whether the first character in str is an RTL char.\n */\ngoog.i18n.bidi.isRtlChar = function(str) {\n  return goog.i18n.bidi.rtlRe_.test(str);\n};\n\n\n/**\n * Check if the first character in the string is LTR or not.\n * @param {string} str The given string that need to be tested.\n * @return {boolean} Whether the first character in str is an LTR char.\n */\ngoog.i18n.bidi.isLtrChar = function(str) {\n  return goog.i18n.bidi.ltrRe_.test(str);\n};\n\n\n/**\n * Check if the first character in the string is neutral or not.\n * @param {string} str The given string that need to be tested.\n * @return {boolean} Whether the first character in str is a neutral char.\n */\ngoog.i18n.bidi.isNeutralChar = function(str) {\n  return !goog.i18n.bidi.isLtrChar(str) && !goog.i18n.bidi.isRtlChar(str);\n};\n\n\n/**\n * Regular expressions to check if a piece of text is of LTR directionality\n * on first character with strong directionality.\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.ltrDirCheckRe_ = new RegExp(\n    '^[^' + goog.i18n.bidi.rtlChars_ + ']*[' + goog.i18n.bidi.ltrChars_ + ']');\n\n\n/**\n * Regular expressions to check if a piece of text is of RTL directionality\n * on first character with strong directionality.\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.rtlDirCheckRe_ = new RegExp(\n    '^[^' + goog.i18n.bidi.ltrChars_ + ']*[' + goog.i18n.bidi.rtlChars_ + ']');\n\n\n/**\n * Check whether the first strongly directional character (if any) is RTL.\n * @param {string} str String being checked.\n * @param {boolean=} opt_isHtml Whether str is HTML / HTML-escaped.\n *     Default: false.\n * @return {boolean} Whether RTL directionality is detected using the first\n *     strongly-directional character method.\n */\ngoog.i18n.bidi.startsWithRtl = function(str, opt_isHtml) {\n  return goog.i18n.bidi.rtlDirCheckRe_.test(\n      goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\n\n\n/**\n * Check whether the first strongly directional character (if any) is RTL.\n * @param {string} str String being checked.\n * @param {boolean=} opt_isHtml Whether str is HTML / HTML-escaped.\n *     Default: false.\n * @return {boolean} Whether RTL directionality is detected using the first\n *     strongly-directional character method.\n * @deprecated Use startsWithRtl.\n */\ngoog.i18n.bidi.isRtlText = goog.i18n.bidi.startsWithRtl;\n\n\n/**\n * Check whether the first strongly directional character (if any) is LTR.\n * @param {string} str String being checked.\n * @param {boolean=} opt_isHtml Whether str is HTML / HTML-escaped.\n *     Default: false.\n * @return {boolean} Whether LTR directionality is detected using the first\n *     strongly-directional character method.\n */\ngoog.i18n.bidi.startsWithLtr = function(str, opt_isHtml) {\n  return goog.i18n.bidi.ltrDirCheckRe_.test(\n      goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\n\n\n/**\n * Check whether the first strongly directional character (if any) is LTR.\n * @param {string} str String being checked.\n * @param {boolean=} opt_isHtml Whether str is HTML / HTML-escaped.\n *     Default: false.\n * @return {boolean} Whether LTR directionality is detected using the first\n *     strongly-directional character method.\n * @deprecated Use startsWithLtr.\n */\ngoog.i18n.bidi.isLtrText = goog.i18n.bidi.startsWithLtr;\n\n\n/**\n * Regular expression to check if a string looks like something that must\n * always be LTR even in RTL text, e.g. a URL. When estimating the\n * directionality of text containing these, we treat these as weakly LTR,\n * like numbers.\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.isRequiredLtrRe_ = /^http:\\/\\/.*/;\n\n\n/**\n * Check whether the input string either contains no strongly directional\n * characters or looks like a url.\n * @param {string} str String being checked.\n * @param {boolean=} opt_isHtml Whether str is HTML / HTML-escaped.\n *     Default: false.\n * @return {boolean} Whether neutral directionality is detected.\n */\ngoog.i18n.bidi.isNeutralText = function(str, opt_isHtml) {\n  str = goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml);\n  return goog.i18n.bidi.isRequiredLtrRe_.test(str) ||\n      !goog.i18n.bidi.hasAnyLtr(str) && !goog.i18n.bidi.hasAnyRtl(str);\n};\n\n\n/**\n * Regular expressions to check if the last strongly-directional character in a\n * piece of text is LTR.\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.ltrExitDirCheckRe_ = new RegExp(\n    '[' + goog.i18n.bidi.ltrChars_ + '][^' + goog.i18n.bidi.rtlChars_ + ']*$');\n\n\n/**\n * Regular expressions to check if the last strongly-directional character in a\n * piece of text is RTL.\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.rtlExitDirCheckRe_ = new RegExp(\n    '[' + goog.i18n.bidi.rtlChars_ + '][^' + goog.i18n.bidi.ltrChars_ + ']*$');\n\n\n/**\n * Check if the exit directionality a piece of text is LTR, i.e. if the last\n * strongly-directional character in the string is LTR.\n * @param {string} str String being checked.\n * @param {boolean=} opt_isHtml Whether str is HTML / HTML-escaped.\n *     Default: false.\n * @return {boolean} Whether LTR exit directionality was detected.\n */\ngoog.i18n.bidi.endsWithLtr = function(str, opt_isHtml) {\n  return goog.i18n.bidi.ltrExitDirCheckRe_.test(\n      goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\n\n\n/**\n * Check if the exit directionality a piece of text is LTR, i.e. if the last\n * strongly-directional character in the string is LTR.\n * @param {string} str String being checked.\n * @param {boolean=} opt_isHtml Whether str is HTML / HTML-escaped.\n *     Default: false.\n * @return {boolean} Whether LTR exit directionality was detected.\n * @deprecated Use endsWithLtr.\n */\ngoog.i18n.bidi.isLtrExitText = goog.i18n.bidi.endsWithLtr;\n\n\n/**\n * Check if the exit directionality a piece of text is RTL, i.e. if the last\n * strongly-directional character in the string is RTL.\n * @param {string} str String being checked.\n * @param {boolean=} opt_isHtml Whether str is HTML / HTML-escaped.\n *     Default: false.\n * @return {boolean} Whether RTL exit directionality was detected.\n */\ngoog.i18n.bidi.endsWithRtl = function(str, opt_isHtml) {\n  return goog.i18n.bidi.rtlExitDirCheckRe_.test(\n      goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\n\n\n/**\n * Check if the exit directionality a piece of text is RTL, i.e. if the last\n * strongly-directional character in the string is RTL.\n * @param {string} str String being checked.\n * @param {boolean=} opt_isHtml Whether str is HTML / HTML-escaped.\n *     Default: false.\n * @return {boolean} Whether RTL exit directionality was detected.\n * @deprecated Use endsWithRtl.\n */\ngoog.i18n.bidi.isRtlExitText = goog.i18n.bidi.endsWithRtl;\n\n\n/**\n * A regular expression for matching right-to-left language codes.\n * See {@link #isRtlLanguage} for the design.\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.rtlLocalesRe_ = new RegExp(\n    '^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|' +\n        '.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))' +\n        '(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)',\n    'i');\n\n\n/**\n * Check if a BCP 47 / III language code indicates an RTL language, i.e. either:\n * - a language code explicitly specifying one of the right-to-left scripts,\n *   e.g. \"az-Arab\", or<p>\n * - a language code specifying one of the languages normally written in a\n *   right-to-left script, e.g. \"fa\" (Farsi), except ones explicitly specifying\n *   Latin or Cyrillic script (which are the usual LTR alternatives).<p>\n * The list of right-to-left scripts appears in the 100-199 range in\n * http://www.unicode.org/iso15924/iso15924-num.html, of which Arabic and\n * Hebrew are by far the most widely used. We also recognize Thaana, N'Ko, and\n * Tifinagh, which also have significant modern usage. The rest (Syriac,\n * Samaritan, Mandaic, etc.) seem to have extremely limited or no modern usage\n * and are not recognized to save on code size.\n * The languages usually written in a right-to-left script are taken as those\n * with Suppress-Script: Hebr|Arab|Thaa|Nkoo|Tfng  in\n * http://www.iana.org/assignments/language-subtag-registry,\n * as well as Central (or Sorani) Kurdish (ckb), Sindhi (sd) and Uyghur (ug).\n * Other subtags of the language code, e.g. regions like EG (Egypt), are\n * ignored.\n * @param {string} lang BCP 47 (a.k.a III) language code.\n * @return {boolean} Whether the language code is an RTL language.\n */\ngoog.i18n.bidi.isRtlLanguage = function(lang) {\n  return goog.i18n.bidi.rtlLocalesRe_.test(lang);\n};\n\n\n/**\n * Regular expression for bracket guard replacement in text.\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.bracketGuardTextRe_ =\n    /(\\(.*?\\)+)|(\\[.*?\\]+)|(\\{.*?\\}+)|(<.*?>+)/g;\n\n\n/**\n * Apply bracket guard using LRM and RLM. This is to address the problem of\n * messy bracket display frequently happens in RTL layout.\n * This function works for plain text, not for HTML. In HTML, the opening\n * bracket might be in a different context than the closing bracket (such as\n * an attribute value).\n * @param {string} s The string that need to be processed.\n * @param {boolean=} opt_isRtlContext specifies default direction (usually\n *     direction of the UI).\n * @return {string} The processed string, with all bracket guarded.\n */\ngoog.i18n.bidi.guardBracketInText = function(s, opt_isRtlContext) {\n  var useRtl = opt_isRtlContext === undefined ? goog.i18n.bidi.hasAnyRtl(s) :\n                                                opt_isRtlContext;\n  var mark = useRtl ? goog.i18n.bidi.Format.RLM : goog.i18n.bidi.Format.LRM;\n  return s.replace(goog.i18n.bidi.bracketGuardTextRe_, mark + '$&' + mark);\n};\n\n\n/**\n * Enforce the html snippet in RTL directionality regardless overall context.\n * If the html piece was enclosed by tag, dir will be applied to existing\n * tag, otherwise a span tag will be added as wrapper. For this reason, if\n * html snippet start with with tag, this tag must enclose the whole piece. If\n * the tag already has a dir specified, this new one will override existing\n * one in behavior (tested on FF and IE).\n * @param {string} html The string that need to be processed.\n * @return {string} The processed string, with directionality enforced to RTL.\n */\ngoog.i18n.bidi.enforceRtlInHtml = function(html) {\n  if (html.charAt(0) == '<') {\n    return html.replace(/<\\w+/, '$& dir=rtl');\n  }\n  // '\\n' is important for FF so that it won't incorrectly merge span groups\n  return '\\n<span dir=rtl>' + html + '</span>';\n};\n\n\n/**\n * Enforce RTL on both end of the given text piece using unicode BiDi formatting\n * characters RLE and PDF.\n * @param {string} text The piece of text that need to be wrapped.\n * @return {string} The wrapped string after process.\n */\ngoog.i18n.bidi.enforceRtlInText = function(text) {\n  return goog.i18n.bidi.Format.RLE + text + goog.i18n.bidi.Format.PDF;\n};\n\n\n/**\n * Enforce the html snippet in RTL directionality regardless overall context.\n * If the html piece was enclosed by tag, dir will be applied to existing\n * tag, otherwise a span tag will be added as wrapper. For this reason, if\n * html snippet start with with tag, this tag must enclose the whole piece. If\n * the tag already has a dir specified, this new one will override existing\n * one in behavior (tested on FF and IE).\n * @param {string} html The string that need to be processed.\n * @return {string} The processed string, with directionality enforced to RTL.\n */\ngoog.i18n.bidi.enforceLtrInHtml = function(html) {\n  if (html.charAt(0) == '<') {\n    return html.replace(/<\\w+/, '$& dir=ltr');\n  }\n  // '\\n' is important for FF so that it won't incorrectly merge span groups\n  return '\\n<span dir=ltr>' + html + '</span>';\n};\n\n\n/**\n * Enforce LTR on both end of the given text piece using unicode BiDi formatting\n * characters LRE and PDF.\n * @param {string} text The piece of text that need to be wrapped.\n * @return {string} The wrapped string after process.\n */\ngoog.i18n.bidi.enforceLtrInText = function(text) {\n  return goog.i18n.bidi.Format.LRE + text + goog.i18n.bidi.Format.PDF;\n};\n\n\n/**\n * Regular expression to find dimensions such as \"padding: .3 0.4ex 5px 6;\"\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.dimensionsRe_ =\n    /:\\s*([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)/g;\n\n\n/**\n * Regular expression for left.\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.leftRe_ = /left/gi;\n\n\n/**\n * Regular expression for right.\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.rightRe_ = /right/gi;\n\n\n/**\n * Placeholder regular expression for swapping.\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.tempRe_ = /%%%%/g;\n\n\n/**\n * Swap location parameters and 'left'/'right' in CSS specification. The\n * processed string will be suited for RTL layout. Though this function can\n * cover most cases, there are always exceptions. It is suggested to put\n * those exceptions in separate group of CSS string.\n * @param {string} cssStr CSS spefication string.\n * @return {string} Processed CSS specification string.\n */\ngoog.i18n.bidi.mirrorCSS = function(cssStr) {\n  return cssStr\n      .\n      // reverse dimensions\n      replace(goog.i18n.bidi.dimensionsRe_, ':$1 $4 $3 $2')\n      .replace(goog.i18n.bidi.leftRe_, '%%%%')\n      .  // swap left and right\n      replace(goog.i18n.bidi.rightRe_, goog.i18n.bidi.LEFT)\n      .replace(goog.i18n.bidi.tempRe_, goog.i18n.bidi.RIGHT);\n};\n\n\n/**\n * Regular expression for hebrew double quote substitution, finding quote\n * directly after hebrew characters.\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.doubleQuoteSubstituteRe_ = /([\\u0591-\\u05f2])\"/g;\n\n\n/**\n * Regular expression for hebrew single quote substitution, finding quote\n * directly after hebrew characters.\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.singleQuoteSubstituteRe_ = /([\\u0591-\\u05f2])'/g;\n\n\n/**\n * Replace the double and single quote directly after a Hebrew character with\n * GERESH and GERSHAYIM. In such case, most likely that's user intention.\n * @param {string} str String that need to be processed.\n * @return {string} Processed string with double/single quote replaced.\n */\ngoog.i18n.bidi.normalizeHebrewQuote = function(str) {\n  return str.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_, '$1\\u05f4')\n      .replace(goog.i18n.bidi.singleQuoteSubstituteRe_, '$1\\u05f3');\n};\n\n\n/**\n * Regular expression to split a string into \"words\" for directionality\n * estimation based on relative word counts.\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.wordSeparatorRe_ = /\\s+/;\n\n\n/**\n * Regular expression to check if a string contains any numerals. Used to\n * differentiate between completely neutral strings and those containing\n * numbers, which are weakly LTR.\n *\n * Native Arabic digits (\\u0660 - \\u0669) are not included because although they\n * do flow left-to-right inside a number, this is the case even if the  overall\n * directionality is RTL, and a mathematical expression using these digits is\n * supposed to flow right-to-left overall, including unary plus and minus\n * appearing to the right of a number, and this does depend on the overall\n * directionality being RTL. The digits used in Farsi (\\u06F0 - \\u06F9), on the\n * other hand, are included, since Farsi math (including unary plus and minus)\n * does flow left-to-right.\n *\n * @type {RegExp}\n * @private\n */\ngoog.i18n.bidi.hasNumeralsRe_ = /[\\d\\u06f0-\\u06f9]/;\n\n\n/**\n * This constant controls threshold of RTL directionality.\n * @type {number}\n * @private\n */\ngoog.i18n.bidi.rtlDetectionThreshold_ = 0.40;\n\n\n/**\n * Estimates the directionality of a string based on relative word counts.\n * If the number of RTL words is above a certain percentage of the total number\n * of strongly directional words, returns RTL.\n * Otherwise, if any words are strongly or weakly LTR, returns LTR.\n * Otherwise, returns UNKNOWN, which is used to mean \"neutral\".\n * Numbers are counted as weakly LTR.\n * @param {string} str The string to be checked.\n * @param {boolean=} opt_isHtml Whether str is HTML / HTML-escaped.\n *     Default: false.\n * @return {goog.i18n.bidi.Dir} Estimated overall directionality of {@code str}.\n */\ngoog.i18n.bidi.estimateDirection = function(str, opt_isHtml) {\n  var rtlCount = 0;\n  var totalCount = 0;\n  var hasWeaklyLtr = false;\n  var tokens = goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml)\n                   .split(goog.i18n.bidi.wordSeparatorRe_);\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n    if (goog.i18n.bidi.startsWithRtl(token)) {\n      rtlCount++;\n      totalCount++;\n    } else if (goog.i18n.bidi.isRequiredLtrRe_.test(token)) {\n      hasWeaklyLtr = true;\n    } else if (goog.i18n.bidi.hasAnyLtr(token)) {\n      totalCount++;\n    } else if (goog.i18n.bidi.hasNumeralsRe_.test(token)) {\n      hasWeaklyLtr = true;\n    }\n  }\n\n  return totalCount == 0 ?\n      (hasWeaklyLtr ? goog.i18n.bidi.Dir.LTR : goog.i18n.bidi.Dir.NEUTRAL) :\n      (rtlCount / totalCount > goog.i18n.bidi.rtlDetectionThreshold_ ?\n           goog.i18n.bidi.Dir.RTL :\n           goog.i18n.bidi.Dir.LTR);\n};\n\n\n/**\n * Check the directionality of a piece of text, return true if the piece of\n * text should be laid out in RTL direction.\n * @param {string} str The piece of text that need to be detected.\n * @param {boolean=} opt_isHtml Whether str is HTML / HTML-escaped.\n *     Default: false.\n * @return {boolean} Whether this piece of text should be laid out in RTL.\n */\ngoog.i18n.bidi.detectRtlDirectionality = function(str, opt_isHtml) {\n  return goog.i18n.bidi.estimateDirection(str, opt_isHtml) ==\n      goog.i18n.bidi.Dir.RTL;\n};\n\n\n/**\n * Sets text input element's directionality and text alignment based on a\n * given directionality. Does nothing if the given directionality is unknown or\n * neutral.\n * @param {Element} element Input field element to set directionality to.\n * @param {goog.i18n.bidi.Dir|number|boolean|null} dir Desired directionality,\n *     given in one of the following formats:\n *     1. A goog.i18n.bidi.Dir constant.\n *     2. A number (positive = LRT, negative = RTL, 0 = neutral).\n *     3. A boolean (true = RTL, false = LTR).\n *     4. A null for unknown directionality.\n */\ngoog.i18n.bidi.setElementDirAndAlign = function(element, dir) {\n  if (element) {\n    dir = goog.i18n.bidi.toDir(dir);\n    if (dir) {\n      element.style.textAlign = dir == goog.i18n.bidi.Dir.RTL ?\n          goog.i18n.bidi.RIGHT :\n          goog.i18n.bidi.LEFT;\n      element.dir = dir == goog.i18n.bidi.Dir.RTL ? 'rtl' : 'ltr';\n    }\n  }\n};\n\n\n/**\n * Sets element dir based on estimated directionality of the given text.\n * @param {!Element} element\n * @param {string} text\n */\ngoog.i18n.bidi.setElementDirByTextDirectionality = function(element, text) {\n  switch (goog.i18n.bidi.estimateDirection(text)) {\n    case (goog.i18n.bidi.Dir.LTR):\n      element.dir = 'ltr';\n      break;\n    case (goog.i18n.bidi.Dir.RTL):\n      element.dir = 'rtl';\n      break;\n    default:\n      // Default for no direction, inherit from document.\n      element.removeAttribute('dir');\n  }\n};\n\n\n\n/**\n * Strings that have an (optional) known direction.\n *\n * Implementations of this interface are string-like objects that carry an\n * attached direction, if known.\n * @interface\n */\ngoog.i18n.bidi.DirectionalString = function() {};\n\n\n/**\n * Interface marker of the DirectionalString interface.\n *\n * This property can be used to determine at runtime whether or not an object\n * implements this interface.  All implementations of this interface set this\n * property to {@code true}.\n * @type {boolean}\n */\ngoog.i18n.bidi.DirectionalString.prototype\n    .implementsGoogI18nBidiDirectionalString;\n\n\n/**\n * Retrieves this object's known direction (if any).\n * @return {?goog.i18n.bidi.Dir} The known direction. Null if unknown.\n */\ngoog.i18n.bidi.DirectionalString.prototype.getDirection;\n\n\n\n/* jshint ignore:start */\n\n// Copyright 2008 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Utilities to check the preconditions, postconditions and\n * invariants runtime.\n *\n * Methods in this package should be given special treatment by the compiler\n * for type-inference. For example, <code>goog.asserts.assert(foo)</code>\n * will restrict <code>foo</code> to a truthy value.\n *\n * The compiler has an option to disable asserts. So code like:\n * <code>\n * var x = goog.asserts.assert(foo()); goog.asserts.assert(bar());\n * </code>\n * will be transformed into:\n * <code>\n * var x = foo();\n * </code>\n * The compiler will leave in foo() (because its return value is used),\n * but it will remove bar() because it assumes it does not have side-effects.\n *\n * @author agrieve@google.com (Andrew Grieve)\n */\n\ngoog.provide('goog.asserts');\n\n/**\n * @define {boolean} Whether to strip out asserts or to leave them in.\n */\ngoog.define('goog.asserts.ENABLE_ASSERTS', goog.DEBUG);\n\n\n\n/**\n * Error object for failed assertions.\n * @param {string} messagePattern The pattern that was used to form message.\n * @param {!Array<*>} messageArgs The items to substitute into the pattern.\n * @constructor\n * @extends {goog.debug.Error}\n * @final\n */\ngoog.asserts.AssertionError = function(messagePattern, messageArgs) {\n  messageArgs.unshift(messagePattern);\n  goog.debug.Error.call(this, goog.string.subs.apply(null, messageArgs));\n  // Remove the messagePattern afterwards to avoid permanently modifying the\n  // passed in array.\n  messageArgs.shift();\n\n  /**\n   * The message pattern used to format the error message. Error handlers can\n   * use this to uniquely identify the assertion.\n   * @type {string}\n   */\n  this.messagePattern = messagePattern;\n};\ngoog.inherits(goog.asserts.AssertionError, goog.debug.Error);\n\n\n/** @override */\ngoog.asserts.AssertionError.prototype.name = 'AssertionError';\n\n\n/**\n * The default error handler.\n * @param {!goog.asserts.AssertionError} e The exception to be handled.\n */\ngoog.asserts.DEFAULT_ERROR_HANDLER = function(e) {\n  throw e;\n};\n\n\n/**\n * The handler responsible for throwing or logging assertion errors.\n * @private {function(!goog.asserts.AssertionError)}\n */\ngoog.asserts.errorHandler_ = goog.asserts.DEFAULT_ERROR_HANDLER;\n\n\n/**\n * Throws an exception with the given message and \"Assertion failed\" prefixed\n * onto it.\n * @param {string} defaultMessage The message to use if givenMessage is empty.\n * @param {Array<*>} defaultArgs The substitution arguments for defaultMessage.\n * @param {string|undefined} givenMessage Message supplied by the caller.\n * @param {Array<*>} givenArgs The substitution arguments for givenMessage.\n * @throws {goog.asserts.AssertionError} When the value is not a number.\n * @private\n */\ngoog.asserts.doAssertFailure_ = function(\n    defaultMessage, defaultArgs, givenMessage, givenArgs) {\n  var message = 'Assertion failed';\n  if (givenMessage) {\n    message += ': ' + givenMessage;\n    var args = givenArgs;\n  } else if (defaultMessage) {\n    message += ': ' + defaultMessage;\n    args = defaultArgs;\n  }\n  // The '' + works around an Opera 10 bug in the unit tests. Without it,\n  // a stack trace is added to var message above. With this, a stack trace is\n  // not added until this line (it causes the extra garbage to be added after\n  // the assertion message instead of in the middle of it).\n  var e = new goog.asserts.AssertionError('' + message, args || []);\n  goog.asserts.errorHandler_(e);\n};\n\n\n/**\n * Sets a custom error handler that can be used to customize the behavior of\n * assertion failures, for example by turning all assertion failures into log\n * messages.\n * @param {function(!goog.asserts.AssertionError)} errorHandler\n */\ngoog.asserts.setErrorHandler = function(errorHandler) {\n  if (goog.asserts.ENABLE_ASSERTS) {\n    goog.asserts.errorHandler_ = errorHandler;\n  }\n};\n\n\n/**\n * Checks if the condition evaluates to true if goog.asserts.ENABLE_ASSERTS is\n * true.\n * @template T\n * @param {T} condition The condition to check.\n * @param {string=} opt_message Error message in case of failure.\n * @param {...*} var_args The items to substitute into the failure message.\n * @return {T} The value of the condition.\n * @throws {goog.asserts.AssertionError} When the condition evaluates to false.\n */\ngoog.asserts.assert = function(condition, opt_message, var_args) {\n  if (goog.asserts.ENABLE_ASSERTS && !condition) {\n    goog.asserts.doAssertFailure_(\n        '', null, opt_message, Array.prototype.slice.call(arguments, 2));\n  }\n  return condition;\n};\n\n\n/**\n * Fails if goog.asserts.ENABLE_ASSERTS is true. This function is useful in case\n * when we want to add a check in the unreachable area like switch-case\n * statement:\n *\n * <pre>\n *  switch(type) {\n *    case FOO: doSomething(); break;\n *    case BAR: doSomethingElse(); break;\n *    default: goog.assert.fail('Unrecognized type: ' + type);\n *      // We have only 2 types - \"default:\" section is unreachable code.\n *  }\n * </pre>\n *\n * @param {string=} opt_message Error message in case of failure.\n * @param {...*} var_args The items to substitute into the failure message.\n * @throws {goog.asserts.AssertionError} Failure.\n */\ngoog.asserts.fail = function(opt_message, var_args) {\n  if (goog.asserts.ENABLE_ASSERTS) {\n    goog.asserts.errorHandler_(\n        new goog.asserts.AssertionError(\n            'Failure' + (opt_message ? ': ' + opt_message : ''),\n            Array.prototype.slice.call(arguments, 1)));\n  }\n};\n\n\n/**\n * Checks if the value is a number if goog.asserts.ENABLE_ASSERTS is true.\n * @param {*} value The value to check.\n * @param {string=} opt_message Error message in case of failure.\n * @param {...*} var_args The items to substitute into the failure message.\n * @return {number} The value, guaranteed to be a number when asserts enabled.\n * @throws {goog.asserts.AssertionError} When the value is not a number.\n */\ngoog.asserts.assertNumber = function(value, opt_message, var_args) {\n  if (goog.asserts.ENABLE_ASSERTS && !goog.isNumber(value)) {\n    goog.asserts.doAssertFailure_(\n        'Expected number but got %s: %s.', [goog.typeOf(value), value],\n        opt_message, Array.prototype.slice.call(arguments, 2));\n  }\n  return /** @type {number} */ (value);\n};\n\n\n/**\n * Checks if the value is a string if goog.asserts.ENABLE_ASSERTS is true.\n * @param {*} value The value to check.\n * @param {string=} opt_message Error message in case of failure.\n * @param {...*} var_args The items to substitute into the failure message.\n * @return {string} The value, guaranteed to be a string when asserts enabled.\n * @throws {goog.asserts.AssertionError} When the value is not a string.\n */\ngoog.asserts.assertString = function(value, opt_message, var_args) {\n  if (goog.asserts.ENABLE_ASSERTS && !goog.isString(value)) {\n    goog.asserts.doAssertFailure_(\n        'Expected string but got %s: %s.', [goog.typeOf(value), value],\n        opt_message, Array.prototype.slice.call(arguments, 2));\n  }\n  return /** @type {string} */ (value);\n};\n\n\n/**\n * Checks if the value is a function if goog.asserts.ENABLE_ASSERTS is true.\n * @param {*} value The value to check.\n * @param {string=} opt_message Error message in case of failure.\n * @param {...*} var_args The items to substitute into the failure message.\n * @return {!Function} The value, guaranteed to be a function when asserts\n *     enabled.\n * @throws {goog.asserts.AssertionError} When the value is not a function.\n */\ngoog.asserts.assertFunction = function(value, opt_message, var_args) {\n  if (goog.asserts.ENABLE_ASSERTS && !goog.isFunction(value)) {\n    goog.asserts.doAssertFailure_(\n        'Expected function but got %s: %s.', [goog.typeOf(value), value],\n        opt_message, Array.prototype.slice.call(arguments, 2));\n  }\n  return /** @type {!Function} */ (value);\n};\n\n\n/**\n * Checks if the value is an Object if goog.asserts.ENABLE_ASSERTS is true.\n * @param {*} value The value to check.\n * @param {string=} opt_message Error message in case of failure.\n * @param {...*} var_args The items to substitute into the failure message.\n * @return {!Object} The value, guaranteed to be a non-null object.\n * @throws {goog.asserts.AssertionError} When the value is not an object.\n */\ngoog.asserts.assertObject = function(value, opt_message, var_args) {\n  if (goog.asserts.ENABLE_ASSERTS && !goog.isObject(value)) {\n    goog.asserts.doAssertFailure_(\n        'Expected object but got %s: %s.', [goog.typeOf(value), value],\n        opt_message, Array.prototype.slice.call(arguments, 2));\n  }\n  return /** @type {!Object} */ (value);\n};\n\n\n/**\n * Checks if the value is an Array if goog.asserts.ENABLE_ASSERTS is true.\n * @param {*} value The value to check.\n * @param {string=} opt_message Error message in case of failure.\n * @param {...*} var_args The items to substitute into the failure message.\n * @return {!Array<?>} The value, guaranteed to be a non-null array.\n * @throws {goog.asserts.AssertionError} When the value is not an array.\n */\ngoog.asserts.assertArray = function(value, opt_message, var_args) {\n  if (goog.asserts.ENABLE_ASSERTS && !goog.isArray(value)) {\n    goog.asserts.doAssertFailure_(\n        'Expected array but got %s: %s.', [goog.typeOf(value), value],\n        opt_message, Array.prototype.slice.call(arguments, 2));\n  }\n  return /** @type {!Array<?>} */ (value);\n};\n\n\n/**\n * Checks if the value is a boolean if goog.asserts.ENABLE_ASSERTS is true.\n * @param {*} value The value to check.\n * @param {string=} opt_message Error message in case of failure.\n * @param {...*} var_args The items to substitute into the failure message.\n * @return {boolean} The value, guaranteed to be a boolean when asserts are\n *     enabled.\n * @throws {goog.asserts.AssertionError} When the value is not a boolean.\n */\ngoog.asserts.assertBoolean = function(value, opt_message, var_args) {\n  if (goog.asserts.ENABLE_ASSERTS && !goog.isBoolean(value)) {\n    goog.asserts.doAssertFailure_(\n        'Expected boolean but got %s: %s.', [goog.typeOf(value), value],\n        opt_message, Array.prototype.slice.call(arguments, 2));\n  }\n  return /** @type {boolean} */ (value);\n};\n\n\n/**\n * Checks if the value is a DOM Element if goog.asserts.ENABLE_ASSERTS is true.\n * @param {*} value The value to check.\n * @param {string=} opt_message Error message in case of failure.\n * @param {...*} var_args The items to substitute into the failure message.\n * @return {!Element} The value, likely to be a DOM Element when asserts are\n *     enabled.\n * @throws {goog.asserts.AssertionError} When the value is not an Element.\n */\ngoog.asserts.assertElement = function(value, opt_message, var_args) {\n  if (goog.asserts.ENABLE_ASSERTS &&\n      (!goog.isObject(value) || value.nodeType != goog.dom.NodeType.ELEMENT)) {\n    goog.asserts.doAssertFailure_(\n        'Expected Element but got %s: %s.', [goog.typeOf(value), value],\n        opt_message, Array.prototype.slice.call(arguments, 2));\n  }\n  return /** @type {!Element} */ (value);\n};\n\n\n/**\n * Checks if the value is an instance of the user-defined type if\n * goog.asserts.ENABLE_ASSERTS is true.\n *\n * The compiler may tighten the type returned by this function.\n *\n * @param {?} value The value to check.\n * @param {function(new: T, ...)} type A user-defined constructor.\n * @param {string=} opt_message Error message in case of failure.\n * @param {...*} var_args The items to substitute into the failure message.\n * @throws {goog.asserts.AssertionError} When the value is not an instance of\n *     type.\n * @return {T}\n * @template T\n */\ngoog.asserts.assertInstanceof = function(value, type, opt_message, var_args) {\n  if (goog.asserts.ENABLE_ASSERTS && !(value instanceof type)) {\n    goog.asserts.doAssertFailure_(\n        'Expected instanceof %s but got %s.',\n        [goog.asserts.getType_(type), goog.asserts.getType_(value)],\n        opt_message, Array.prototype.slice.call(arguments, 3));\n  }\n  return value;\n};\n\n\n/**\n * Checks that no enumerable keys are present in Object.prototype. Such keys\n * would break most code that use {@code for (var ... in ...)} loops.\n */\ngoog.asserts.assertObjectPrototypeIsIntact = function() {\n  for (var key in Object.prototype) {\n    goog.asserts.fail(key + ' should not be enumerable in Object.prototype.');\n  }\n};\n\n\n/**\n * Returns the type of a value. If a constructor is passed, and a suitable\n * string cannot be found, 'unknown type name' will be returned.\n * @param {*} value A constructor, object, or primitive.\n * @return {string} The best display name for the value, or 'unknown type name'.\n * @private\n */\ngoog.asserts.getType_ = function(value) {\n  if (value instanceof Function) {\n    return value.displayName || value.name || 'unknown type name';\n  } else if (value instanceof Object) {\n    return value.constructor.displayName || value.constructor.name ||\n        Object.prototype.toString.call(value);\n  } else {\n    return value === null ? 'null' : typeof value;\n  }\n};\n\n\n\n/**\n * @fileoverview Utility for fast string concatenation.\n */\n\n\n\n\n/**\n * Utility class to facilitate string concatenation.\n *\n * @param {*=} opt_a1 Optional first initial item to append.\n * @param {...*} var_args Other initial items to\n *     append, e.g., new goog.string.StringBuffer('foo', 'bar').\n * @constructor\n */\ngoog.string.StringBuffer = function(opt_a1, var_args) {\n  if (opt_a1 != null) {\n    this.append.apply(this, arguments);\n  }\n};\n\n\n/**\n * Internal buffer for the string to be concatenated.\n * @type {string}\n * @private\n */\ngoog.string.StringBuffer.prototype.buffer_ = '';\n\n\n/**\n * Sets the contents of the string buffer object, replacing what's currently\n * there.\n *\n * @param {*} s String to set.\n */\ngoog.string.StringBuffer.prototype.set = function(s) {\n  this.buffer_ = '' + s;\n};\n\n\n/**\n * Appends one or more items to the buffer.\n *\n * Calling this with null, undefined, or empty arguments is an error.\n *\n * @param {*} a1 Required first string.\n * @param {*=} opt_a2 Optional second string.\n * @param {...?} var_args Other items to append,\n *     e.g., sb.append('foo', 'bar', 'baz').\n * @return {!goog.string.StringBuffer} This same StringBuffer object.\n * @suppress {duplicate}\n */\ngoog.string.StringBuffer.prototype.append = function(a1, opt_a2, var_args) {\n  // Use a1 directly to avoid arguments instantiation for single-arg case.\n  this.buffer_ += String(a1);\n  if (opt_a2 != null) {  // second argument is undefined (null == undefined)\n    for (var i = 1; i < arguments.length; i++) {\n      this.buffer_ += arguments[i];\n    }\n  }\n  return this;\n};\n\n\n/**\n * Clears the internal buffer.\n */\ngoog.string.StringBuffer.prototype.clear = function() {\n  this.buffer_ = '';\n};\n\n\n/**\n * @return {number} the length of the current contents of the buffer.\n */\ngoog.string.StringBuffer.prototype.getLength = function() {\n  return this.buffer_.length;\n};\n\n\n/**\n * @return {string} The concatenated string.\n * @override\n */\ngoog.string.StringBuffer.prototype.toString = function() {\n  return this.buffer_;\n};\n\n\n// Copyright 2012 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Soy data primitives.\n *\n * The goal is to encompass data types used by Soy, especially to mark content\n * as known to be \"safe\".\n *\n * @author gboyer@google.com (Garrett Boyer)\n */\n\n\n\ngoog.soy = {};\ngoog.soy.data = {};\n\n\n/**\n * A type of textual content.\n *\n * This is an enum of type Object so that these values are unforgeable.\n *\n * @enum {!Object}\n */\ngoog.soy.data.SanitizedContentKind = {\n\n  /**\n   * A snippet of HTML that does not start or end inside a tag, comment, entity,\n   * or DOCTYPE; and that does not contain any executable code\n   * (JS, {@code <object>}s, etc.) from a different trust domain.\n   */\n  HTML: goog.DEBUG ? {sanitizedContentKindHtml: true} : {},\n\n  /**\n   * Executable Javascript code or expression, safe for insertion in a\n   * script-tag or event handler context, known to be free of any\n   * attacker-controlled scripts. This can either be side-effect-free\n   * Javascript (such as JSON) or Javascript that's entirely under Google's\n   * control.\n   */\n  JS: goog.DEBUG ? {sanitizedContentJsChars: true} : {},\n\n  /** A properly encoded portion of a URI. */\n  URI: goog.DEBUG ? {sanitizedContentUri: true} : {},\n\n  /** A resource URI not under attacker control. */\n  TRUSTED_RESOURCE_URI:\n      goog.DEBUG ? {sanitizedContentTrustedResourceUri: true} : {},\n\n  /**\n   * Repeated attribute names and values. For example,\n   * {@code dir=\"ltr\" foo=\"bar\" onclick=\"trustedFunction()\" checked}.\n   */\n  ATTRIBUTES: goog.DEBUG ? {sanitizedContentHtmlAttribute: true} : {},\n\n  // TODO: Consider separating rules, declarations, and values into\n  // separate types, but for simplicity, we'll treat explicitly blessed\n  // SanitizedContent as allowed in all of these contexts.\n  /**\n   * A CSS3 declaration, property, value or group of semicolon separated\n   * declarations.\n   */\n  CSS: goog.DEBUG ? {sanitizedContentCss: true} : {},\n\n  /**\n   * Unsanitized plain-text content.\n   *\n   * This is effectively the \"null\" entry of this enum, and is sometimes used\n   * to explicitly mark content that should never be used unescaped. Since any\n   * string is safe to use as text, being of ContentKind.TEXT makes no\n   * guarantees about its safety in any other context such as HTML.\n   */\n  TEXT: goog.DEBUG ? {sanitizedContentKindText: true} : {}\n};\n\n\n\n/**\n * A string-like object that carries a content-type and a content direction.\n *\n * IMPORTANT! Do not create these directly, nor instantiate the subclasses.\n * Instead, use a trusted, centrally reviewed library as endorsed by your team\n * to generate these objects. Otherwise, you risk accidentally creating\n * SanitizedContent that is attacker-controlled and gets evaluated unescaped in\n * templates.\n *\n * @constructor\n */\ngoog.soy.data.SanitizedContent = function() {\n  throw Error('Do not instantiate directly');\n};\n\n\n/**\n * The context in which this content is safe from XSS attacks.\n * @type {goog.soy.data.SanitizedContentKind}\n */\ngoog.soy.data.SanitizedContent.prototype.contentKind;\n\n\n/**\n * The content's direction; null if unknown and thus to be estimated when\n * necessary.\n * @type {?goog.i18n.bidi.Dir}\n */\ngoog.soy.data.SanitizedContent.prototype.contentDir = null;\n\n\n/**\n * The already-safe content.\n * @protected {string}\n */\ngoog.soy.data.SanitizedContent.prototype.content;\n\n\n/**\n * Gets the already-safe content.\n * @return {string}\n */\ngoog.soy.data.SanitizedContent.prototype.getContent = function() {\n  return this.content;\n};\n\n\n/** @override */\ngoog.soy.data.SanitizedContent.prototype.toString = function() {\n  return this.content;\n};\n\n/**\n * An intermediary base class to allow the type system to sepcify text templates\n * without referencing the soydata package.\n * @extends {goog.soy.data.SanitizedContent}\n * @constructor\n */\ngoog.soy.data.UnsanitizedText = function() {\n  // TODO(gboyer): Delete this class after moving soydata to Closure.\n  goog.soy.data.UnsanitizedText.base(this, 'constructor');\n};\ngoog.inherits(goog.soy.data.UnsanitizedText, goog.soy.data.SanitizedContent);\n\n/*\n * Copyright 2008 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview\n * Utility functions and classes for Soy.\n *\n * <p>\n * The top portion of this file contains utilities for Soy users:<ul>\n *   <li> soy.StringBuilder: Compatible with the 'stringbuilder' code style.\n * </ul>\n *\n * <p>\n * The bottom portion of this file contains utilities that should only be called\n * by Soy-generated JS code. Please do not use these functions directly from\n * your hand-writen code. Their names all start with '$$'.\n *\n */\n\n\n// -----------------------------------------------------------------------------\n// StringBuilder (compatible with the 'stringbuilder' code style).\n\n(function() {\n  var soy = {};\n  soy.asserts = {};\n  soy.esc = {};\n  var soydata = {};\n\n  /**\n   * Utility class to facilitate much faster string concatenation in IE,\n   * using Array.join() rather than the '+' operator. For other browsers\n   * we simply use the '+' operator.\n   *\n   * @param {Object} var_args Initial items to append,\n   *     e.g., new soy.StringBuilder('foo', 'bar').\n   * @constructor\n   */\n  soy.StringBuilder = goog.string.StringBuffer;\n\n\n  // -----------------------------------------------------------------------------\n  // soydata: Defines typed strings, e.g. an HTML string {@code \"a<b>c\"} is\n  // semantically distinct from the plain text string {@code \"a<b>c\"} and smart\n  // templates can take that distinction into account.\n\n  /**\n   * A type of textual content.\n   *\n   * This is an enum of type Object so that these values are unforgeable.\n   *\n   * @enum {!Object}\n   */\n  soydata.SanitizedContentKind = goog.soy.data.SanitizedContentKind;\n\n\n  /**\n   * Checks whether a given value is of a given content kind.\n   *\n   * @param {*} value The value to be examined.\n   * @param {soydata.SanitizedContentKind} contentKind The desired content\n   *     kind.\n   * @return {boolean} Whether the given value is of the given kind.\n   * @private\n   */\n  soydata.isContentKind = function(value, contentKind) {\n    // TODO(user): This function should really include the assert on\n    // value.constructor that is currently sprinkled at most of the call sites.\n    // Unfortunately, that would require a (debug-mode-only) switch statement.\n    // TODO(user): Perhaps we should get rid of the contentKind property\n    // altogether and only at the constructor.\n    return value != null && value.contentKind === contentKind;\n  };\n\n  /**\n   * Content of type {@link soydata.SanitizedContentKind.URI}.\n   *\n   * The content is a URI chunk that the caller knows is safe to emit in a\n   * template. The content direction is LTR.\n   *\n   * @constructor\n   * @extends {goog.soy.data.SanitizedContent}\n   */\n  soydata.SanitizedUri = function() {\n    goog.soy.data.SanitizedContent.call(this);  // Throws an exception.\n  };\n  goog.inherits(soydata.SanitizedUri, goog.soy.data.SanitizedContent);\n\n  /** @override */\n  soydata.SanitizedUri.prototype.contentKind = soydata.SanitizedContentKind.URI;\n\n  /** @override */\n  soydata.SanitizedUri.prototype.contentDir = goog.i18n.bidi.Dir.LTR;\n\n  /**\n   * Unsanitized plain text string.\n   *\n   * While all strings are effectively safe to use as a plain text, there are no\n   * guarantees about safety in any other context such as HTML. This is\n   * sometimes used to mark that should never be used unescaped.\n   *\n   * @param {*} content Plain text with no guarantees.\n   * @param {?goog.i18n.bidi.Dir=} opt_contentDir The content direction; null if\n   *     unknown and thus to be estimated when necessary. Default: null.\n   * @constructor\n   * @extends {goog.soy.data.UnsanitizedText}\n   */\n  soydata.UnsanitizedText = function(content, opt_contentDir) {\n    /** @override */\n    this.content = String(content);\n    this.contentDir = opt_contentDir != null ? opt_contentDir : null;\n  };\n  goog.inherits(soydata.UnsanitizedText, goog.soy.data.UnsanitizedText);\n\n  /** @override */\n  soydata.UnsanitizedText.prototype.contentKind =\n      soydata.SanitizedContentKind.TEXT;\n\n\n  /**\n   * Empty string, used as a type in Soy templates.\n   * @enum {string}\n   * @private\n   */\n  soydata.$$EMPTY_STRING_ = {\n    VALUE: ''\n  };\n\n\n  /**\n   * Creates a factory for SanitizedContent types.\n   *\n   * This is a hack so that the soydata.VERY_UNSAFE.ordainSanitized* can\n   * instantiate Sanitized* classes, without making the Sanitized* constructors\n   * publicly usable. Requiring all construction to use the VERY_UNSAFE names\n   * helps callers and their reviewers easily tell that creating SanitizedContent\n   * is not always safe and calls for careful review.\n   *\n   * @param {function(new: T)} ctor A constructor.\n   * @return {!function(*, ?goog.i18n.bidi.Dir=): T} A factory that takes\n   *     content and an optional content direction and returns a new instance. If\n   *     the content direction is undefined, ctor.prototype.contentDir is used.\n   * @template T\n   * @private\n   */\n  soydata.$$makeSanitizedContentFactory_ = function(ctor) {\n    /**\n     * @param {string} content\n     * @constructor\n     * @extends {goog.soy.data.SanitizedContent}\n     */\n    function InstantiableCtor(content) {\n      /** @override */\n      this.content = content;\n    }\n    InstantiableCtor.prototype = ctor.prototype;\n    /**\n     * Creates a ctor-type SanitizedContent instance.\n     *\n     * @param {*} content The content to put in the instance.\n     * @param {?goog.i18n.bidi.Dir=} opt_contentDir The content direction. If\n     *     undefined, ctor.prototype.contentDir is used.\n     * @return {!goog.soy.data.SanitizedContent} The new instance. It is actually\n     *     of type T above (ctor's type, a descendant of SanitizedContent), but\n     *     there is no way to express that here.\n     */\n    function sanitizedContentFactory(content, opt_contentDir) {\n      var result = new InstantiableCtor(String(content));\n      if (opt_contentDir !== undefined) {\n        result.contentDir = opt_contentDir;\n      }\n      return result;\n    }\n    return sanitizedContentFactory;\n  };\n\n\n  /**\n   * Creates a factory for SanitizedContent types that should always have their\n   * default directionality.\n   *\n   * This is a hack so that the soydata.VERY_UNSAFE.ordainSanitized* can\n   * instantiate Sanitized* classes, without making the Sanitized* constructors\n   * publicly usable. Requiring all construction to use the VERY_UNSAFE names\n   * helps callers and their reviewers easily tell that creating SanitizedContent\n   * is not always safe and calls for careful review.\n   *\n   * @param {function(new: T, string)} ctor A constructor.\n   * @return {!function(*): T} A factory that takes content and returns a new\n   *     instance (with default directionality, i.e. ctor.prototype.contentDir).\n   * @template T\n   * @private\n   */\n  soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_ = function(ctor) {\n    /**\n     * @param {string} content\n     * @constructor\n     * @extends {goog.soy.data.SanitizedContent}\n     */\n    function InstantiableCtor(content) {\n      /** @override */\n      this.content = content;\n    }\n    InstantiableCtor.prototype = ctor.prototype;\n    /**\n     * Creates a ctor-type SanitizedContent instance.\n     *\n     * @param {*} content The content to put in the instance.\n     * @return {!goog.soy.data.SanitizedContent} The new instance. It is actually\n     *     of type T above (ctor's type, a descendant of SanitizedContent), but\n     *     there is no way to express that here.\n     */\n    function sanitizedContentFactory(content) {\n      var result = new InstantiableCtor(String(content));\n      return result;\n    }\n    return sanitizedContentFactory;\n  };\n\n\n  // -----------------------------------------------------------------------------\n  // Sanitized content ordainers. Please use these with extreme caution (with the\n  // exception of markUnsanitizedText). A good recommendation is to limit usage\n  // of these to just a handful of files in your source tree where usages can be\n  // carefully audited.\n\n\n  /**\n   * Protects a string from being used in an noAutoescaped context.\n   *\n   * This is useful for content where there is significant risk of accidental\n   * unescaped usage in a Soy template. A great case is for user-controlled\n   * data that has historically been a source of vulernabilities.\n   *\n   * @param {*} content Text to protect.\n   * @param {?goog.i18n.bidi.Dir=} opt_contentDir The content direction; null if\n   *     unknown and thus to be estimated when necessary. Default: null.\n   * @return {!soydata.UnsanitizedText} A wrapper that is rejected by the\n   *     Soy noAutoescape print directive.\n   */\n  soydata.markUnsanitizedText = function(content, opt_contentDir) {\n    return new soydata.UnsanitizedText(content, opt_contentDir);\n  };\n\n  soydata.VERY_UNSAFE = {};\n\n\n  /**\n  * Takes a leap of faith that the provided content is \"safe\" to use as a URI\n  * in a Soy template.\n  *\n  * This creates a Soy SanitizedContent object which indicates to Soy there is\n  * no need to escape it when printed as a URI (e.g. in an href or src\n  * attribute), such as if it's already been encoded or  if it's a Javascript:\n  * URI.\n  *\n  * @param {*} content A chunk of URI that the caller knows is safe to\n  *     emit in a template.\n  * @return {!soydata.SanitizedUri} Sanitized content wrapper that indicates to\n  *     Soy not to escape or filter when printed in URI context.\n  */\n  soydata.VERY_UNSAFE.ordainSanitizedUri =\n      soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(\n          soydata.SanitizedUri);\n\n  // -----------------------------------------------------------------------------\n  // Below are private utilities to be used by Soy-generated code only.\n\n  /**\n   * Builds an augmented map. The returned map will contain mappings from both\n   * the base map and the additional map. If the same key appears in both, then\n   * the value from the additional map will be visible, while the value from the\n   * base map will be hidden. The base map will be used, but not modified.\n   *\n   * @param {!Object} baseMap The original map to augment.\n   * @param {!Object} additionalMap A map containing the additional mappings.\n   * @return {!Object} An augmented map containing both the original and\n   *     additional mappings.\n   */\n  soy.$$augmentMap = function(baseMap, additionalMap) {\n    return soy.$$assignDefaults(soy.$$assignDefaults({}, additionalMap), baseMap);\n  };\n\n\n  /**\n   * Copies extra properties into an object if they do not already exist. The\n   * destination object is mutated in the process.\n   *\n   * @param {!Object} obj The destination object to update.\n   * @param {!Object} defaults An object with default properties to apply.\n   * @return {!Object} The destination object for convenience.\n   */\n  soy.$$assignDefaults = function(obj, defaults) {\n    for (var key in defaults) {\n      if (!(key in obj)) {\n        obj[key] = defaults[key];\n      }\n    }\n\n    return obj;\n  };\n\n  /**\n   * Checks that the given map key is a string.\n   * @param {*} key Key to check.\n   * @return {string} The given key.\n   */\n  soy.$$checkMapKey = function(key) {\n    // TODO: Support map literal with nonstring key.\n    if ((typeof key) != 'string') {\n      throw Error(\n          'Map literal\\'s key expression must evaluate to string' +\n          ' (encountered type \"' + (typeof key) + '\").');\n    }\n    return key;\n  };\n\n\n  /**\n   * Gets the keys in a map as an array. There are no guarantees on the order.\n   * @param {Object} map The map to get the keys of.\n   * @return {!Array<string>} The array of keys in the given map.\n   */\n  soy.$$getMapKeys = function(map) {\n    var mapKeys = [];\n    for (var key in map) {\n      mapKeys.push(key);\n    }\n    return mapKeys;\n  };\n\n\n  /**\n   * Returns the argument if it is not null.\n   *\n   * @param {T} val The value to check\n   * @return {T} val if is isn't null\n   * @template T\n   */\n  soy.$$checkNotNull = function(val) {\n    if (val == null) {\n      throw Error('unexpected null value');\n    }\n    return val;\n  };\n\n\n  /**\n   * Gets a consistent unique id for the given delegate template name. Two calls\n   * to this function will return the same id if and only if the input names are\n   * the same.\n   *\n   * <p> Important: This function must always be called with a string constant.\n   *\n   * <p> If Closure Compiler is not being used, then this is just this identity\n   * function. If Closure Compiler is being used, then each call to this function\n   * will be replaced with a short string constant, which will be consistent per\n   * input name.\n   *\n   * @param {string} delTemplateName The delegate template name for which to get a\n   *     consistent unique id.\n   * @return {string} A unique id that is consistent per input name.\n   *\n   * @consistentIdGenerator\n   */\n  soy.$$getDelTemplateId = function(delTemplateName) {\n    return delTemplateName;\n  };\n\n\n  /**\n   * Map from registered delegate template key to the priority of the\n   * implementation.\n   * @type {Object}\n   * @private\n   */\n  soy.$$DELEGATE_REGISTRY_PRIORITIES_ = {};\n\n  /**\n   * Map from registered delegate template key to the implementation function.\n   * @type {Object}\n   * @private\n   */\n  soy.$$DELEGATE_REGISTRY_FUNCTIONS_ = {};\n\n\n  /**\n   * Registers a delegate implementation. If the same delegate template key (id\n   * and variant) has been registered previously, then priority values are\n   * compared and only the higher priority implementation is stored (if\n   * priorities are equal, an error is thrown).\n   *\n   * @param {string} delTemplateId The delegate template id.\n   * @param {string} delTemplateVariant The delegate template variant (can be\n   *     empty string).\n   * @param {number} delPriority The implementation's priority value.\n   * @param {Function} delFn The implementation function.\n   */\n  soy.$$registerDelegateFn = function(\n      delTemplateId, delTemplateVariant, delPriority, delFn) {\n\n    var mapKey = 'key_' + delTemplateId + ':' + delTemplateVariant;\n    var currPriority = soy.$$DELEGATE_REGISTRY_PRIORITIES_[mapKey];\n    if (currPriority === undefined || delPriority > currPriority) {\n      // Registering new or higher-priority function: replace registry entry.\n      soy.$$DELEGATE_REGISTRY_PRIORITIES_[mapKey] = delPriority;\n      soy.$$DELEGATE_REGISTRY_FUNCTIONS_[mapKey] = delFn;\n    } else if (delPriority == currPriority) {\n      // Registering same-priority function: error.\n      throw Error(\n          'Encountered two active delegates with the same priority (\"' +\n              delTemplateId + ':' + delTemplateVariant + '\").');\n    } else {\n      // Registering lower-priority function: do nothing.\n    }\n  };\n\n\n  /**\n   * Retrieves the (highest-priority) implementation that has been registered for\n   * a given delegate template key (id and variant). If no implementation has\n   * been registered for the key, then the fallback is the same id with empty\n   * variant. If the fallback is also not registered, and allowsEmptyDefault is\n   * true, then returns an implementation that is equivalent to an empty template\n   * (i.e. rendered output would be empty string).\n   *\n   * @param {string} delTemplateId The delegate template id.\n   * @param {string} delTemplateVariant The delegate template variant (can be\n   *     empty string).\n   * @param {boolean} allowsEmptyDefault Whether to default to the empty template\n   *     function if there's no active implementation.\n   * @return {Function} The retrieved implementation function.\n   */\n  soy.$$getDelegateFn = function(\n      delTemplateId, delTemplateVariant, allowsEmptyDefault) {\n\n    var delFn = soy.$$DELEGATE_REGISTRY_FUNCTIONS_[\n        'key_' + delTemplateId + ':' + delTemplateVariant];\n    if (! delFn && delTemplateVariant != '') {\n      // Fallback to empty variant.\n      delFn = soy.$$DELEGATE_REGISTRY_FUNCTIONS_['key_' + delTemplateId + ':'];\n    }\n\n    if (delFn) {\n      return delFn;\n    } else if (allowsEmptyDefault) {\n      return soy.$$EMPTY_TEMPLATE_FN_;\n    } else {\n      throw Error(\n          'Found no active impl for delegate call to \"' + delTemplateId + ':' +\n              delTemplateVariant + '\" (and not allowemptydefault=\"true\").');\n    }\n  };\n\n\n  /**\n   * Private helper soy.$$getDelegateFn(). This is the empty template function\n   * that is returned whenever there's no delegate implementation found.\n   *\n   * @param {Object<string, *>=} opt_data\n   * @param {soy.StringBuilder=} opt_sb\n   * @param {Object<string, *>=} opt_ijData\n   * @return {string}\n   * @private\n   */\n  soy.$$EMPTY_TEMPLATE_FN_ = function(opt_data, opt_sb, opt_ijData) {\n    return '';\n  };\n\n  // -----------------------------------------------------------------------------\n  // Basic directives/functions.\n\n\n  /**\n   * Truncates a string to a given max length (if it's currently longer),\n   * optionally adding ellipsis at the end.\n   *\n   * @param {*} str The string to truncate. Can be other types, but the value will\n   *     be coerced to a string.\n   * @param {number} maxLen The maximum length of the string after truncation\n   *     (including ellipsis, if applicable).\n   * @param {boolean} doAddEllipsis Whether to add ellipsis if the string needs\n   *     truncation.\n   * @return {string} The string after truncation.\n   */\n  soy.$$truncate = function(str, maxLen, doAddEllipsis) {\n\n    str = String(str);\n    if (str.length <= maxLen) {\n      return str;  // no need to truncate\n    }\n\n    // If doAddEllipsis, either reduce maxLen to compensate, or else if maxLen is\n    // too small, just turn off doAddEllipsis.\n    if (doAddEllipsis) {\n      if (maxLen > 3) {\n        maxLen -= 3;\n      } else {\n        doAddEllipsis = false;\n      }\n    }\n\n    // Make sure truncating at maxLen doesn't cut up a unicode surrogate pair.\n    if (soy.$$isHighSurrogate_(str.charAt(maxLen - 1)) &&\n        soy.$$isLowSurrogate_(str.charAt(maxLen))) {\n      maxLen -= 1;\n    }\n\n    // Truncate.\n    str = str.substring(0, maxLen);\n\n    // Add ellipsis.\n    if (doAddEllipsis) {\n      str += '...';\n    }\n\n    return str;\n  };\n\n  /**\n   * Private helper for $$truncate() to check whether a char is a high surrogate.\n   * @param {string} ch The char to check.\n   * @return {boolean} Whether the given char is a unicode high surrogate.\n   * @private\n   */\n  soy.$$isHighSurrogate_ = function(ch) {\n    return 0xD800 <= ch && ch <= 0xDBFF;\n  };\n\n  /**\n   * Private helper for $$truncate() to check whether a char is a low surrogate.\n   * @param {string} ch The char to check.\n   * @return {boolean} Whether the given char is a unicode low surrogate.\n   * @private\n   */\n  soy.$$isLowSurrogate_ = function(ch) {\n    return 0xDC00 <= ch && ch <= 0xDFFF;\n  };\n\n  // -----------------------------------------------------------------------------\n  // Assertion methods used by runtime.\n\n  /**\n   * Checks if the type assertion is true if goog.asserts.ENABLE_ASSERTS is\n   * true. Report errors on runtime types if goog.DEBUG is true.\n   * @template T\n   * @param {T} typeCheck An condition for type checks.\n   * @param {string} paramName The Soy name of the parameter.\n   * @param {?Object} param The resolved JS object for the parameter.\n   * @param {!string} jsDocTypeStr JSDoc type str to cast the value to if the\n   *     type test succeeds\n   * @param {...*} var_args The items to substitute into the failure message.\n   * @return {T} The value of the condition.\n   * @throws {goog.asserts.AssertionError} When the condition evaluates to false.\n   */\n  soy.asserts.assertType = function(typeCheck, paramName,\n      param, jsDocTypeStr, var_args) {\n    var msg = 'expected param ' + paramName + ' of type ' + jsDocTypeStr +\n        (goog.DEBUG ? (', but got ' + goog.debug.runtimeType(param)) : '') +\n        '.';\n    return goog.asserts.assert(typeCheck, msg, var_args);\n  };\n\n\n  // -----------------------------------------------------------------------------\n  // Generated code.\n\n\n  // START GENERATED CODE FOR ESCAPERS.\n\n  /**\n   * @type {function (*) : string}\n   */\n  soy.esc.$$escapeHtmlHelper = function(v) {\n    return goog.string.htmlEscape(String(v));\n  };\n\n  /**\n   * Allows only data-protocol image URI's.\n   *\n   * @param {*} value The value to process. May not be a string, but the value\n   *     will be coerced to a string.\n   * @return {!soydata.SanitizedUri} An escaped version of value.\n   */\n  soy.$$filterImageDataUri = function(value) {\n    // NOTE: Even if it's a SanitizedUri, we will still filter it.\n    return soydata.VERY_UNSAFE.ordainSanitizedUri(\n        soy.esc.$$filterImageDataUriHelper(value));\n  };\n\n  /**\n   * A pattern that vets values produced by the named directives.\n   * @private {!RegExp}\n   */\n  soy.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_ = /^data:image\\/(?:bmp|gif|jpe?g|png|tiff|webp);base64,[a-z0-9+\\/]+=*$/i;\n\n  /**\n   * A helper for the Soy directive |filterImageDataUri\n   * @param {*} value Can be of any type but will be coerced to a string.\n   * @return {string} The escaped text.\n   */\n  soy.esc.$$filterImageDataUriHelper = function(value) {\n    var str = String(value);\n    if (!soy.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_.test(str)) {\n      goog.asserts.fail('Bad value `%s` for |filterImageDataUri', [str]);\n      return 'data:image/gif;base64,zSoyz';\n    }\n    return str;\n  };\n\n  // END GENERATED CODE\n\n  goog.loadModule(function() {\n    goog.module('soy');\n    return soy;\n  });\n\n  goog.loadModule(function() {\n    goog.module('soydata');\n    return soydata;\n  });\n\n  goog.loadModule(function() {\n    goog.module('soy.asserts');\n    return soy;\n  });\n})();\n\n/* jshint ignore:end */\n\n\ngoog.loadModule(function() {\n  goog.module('incrementaldom');\n  return IncrementalDOM;\n});\n}).call((typeof exports !== 'undefined' && typeof global !== 'undefined') ? global : window);\n","/* jshint ignore:start */\n\n/*\n * HTML5 Parser By Sam Blowes\n *\n * Designed for HTML5 documents\n *\n * Original code by John Resig (ejohn.org)\n * http://ejohn.org/blog/pure-javascript-html-parser/\n * Original code by Erik Arvidsson, Mozilla Public License\n * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js\n *\n * ----------------------------------------------------------------------------\n * License\n * ----------------------------------------------------------------------------\n *\n * This code is triple licensed using Apache Software License 2.0,\n * Mozilla Public License or GNU Public License\n *\n * ////////////////////////////////////////////////////////////////////////////\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n * use this file except in compliance with the License.  You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * ////////////////////////////////////////////////////////////////////////////\n *\n * The contents of this file are subject to the Mozilla Public License\n * Version 1.1 (the \"License\"); you may not use this file except in\n * compliance with the License. You may obtain a copy of the License at\n * http://www.mozilla.org/MPL/\n *\n * Software distributed under the License is distributed on an \"AS IS\"\n * basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the\n * License for the specific language governing rights and limitations\n * under the License.\n *\n * The Original Code is Simple HTML Parser.\n *\n * The Initial Developer of the Original Code is Erik Arvidsson.\n * Portions created by Erik Arvidssson are Copyright (C) 2004. All Rights\n * Reserved.\n *\n * ////////////////////////////////////////////////////////////////////////////\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; either version 2\n * of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n * @license\n */\n\n/*\n *\n * ----------------------------------------------------------------------------\n * Usage\n * ----------------------------------------------------------------------------\n *\n * // Use like so:\n * HTMLParser(htmlString, {\n *     start: function(tag, attrs, unary) {},\n *     end: function(tag) {},\n *     chars: function(text) {},\n *     comment: function(text) {}\n * });\n *\n * // or to get an XML string:\n * HTMLtoXML(htmlString);\n *\n * // or to get an XML DOM Document\n * HTMLtoDOM(htmlString);\n *\n * // or to inject into an existing document/DOM node\n * HTMLtoDOM(htmlString, document);\n * HTMLtoDOM(htmlString, document.body);\n *\n */\n\n(function () {\n\t// Regular Expressions for parsing tags and attributes\n\tvar startTag = /^<([-A-Za-z0-9_]+)((?:\\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*(\\/?)>/,\n\t\tendTag = /^<\\/([-A-Za-z0-9_]+)[^>]*>/,\n\t\tattr = /([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?/g;\n\n\t// Empty Elements - HTML 5\n\tvar empty = makeMap(\"area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr\");\n\n\t// Block Elements - HTML 5\n\tvar block = makeMap(\"a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video\");\n\n\t// Inline Elements - HTML 5\n\tvar inline = makeMap(\"abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var\");\n\n\t// Elements that you can, intentionally, leave open\n\t// (and which close themselves)\n\tvar closeSelf = makeMap(\"colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr\");\n\n\t// Attributes that have their values filled in disabled=\"disabled\"\n\tvar fillAttrs = makeMap(\"checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected\");\n\n\t// Special Elements (can contain anything)\n\tvar special = makeMap(\"script,style\");\n\n\tvar HTMLParser = window.HTMLParser = function (html, handler) {\n\t\tvar index, chars, match, stack = [], last = html;\n\t\tstack.last = function () {\n\t\t\treturn this[this.length - 1];\n\t\t};\n\n\t\twhile (html) {\n\t\t\tchars = true;\n\n\t\t\t// Make sure we're not in a script or style element\n\t\t\tif (!stack.last() || !special[stack.last()]) {\n\n\t\t\t\t// Comment\n\t\t\t\tif (html.indexOf(\"<!--\") == 0) {\n\t\t\t\t\tindex = html.indexOf(\"-->\");\n\n\t\t\t\t\tif (index >= 0) {\n\t\t\t\t\t\tif (handler.comment)\n\t\t\t\t\t\t\thandler.comment(html.substring(4, index));\n\t\t\t\t\t\thtml = html.substring(index + 3);\n\t\t\t\t\t\tchars = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// end tag\n\t\t\t\t} else if (html.indexOf(\"</\") == 0) {\n\t\t\t\t\tmatch = html.match(endTag);\n\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\thtml = html.substring(match[0].length);\n\t\t\t\t\t\tmatch[0].replace(endTag, parseEndTag);\n\t\t\t\t\t\tchars = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// start tag\n\t\t\t\t} else if (html.indexOf(\"<\") == 0) {\n\t\t\t\t\tmatch = html.match(startTag);\n\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\thtml = html.substring(match[0].length);\n\t\t\t\t\t\tmatch[0].replace(startTag, parseStartTag);\n\t\t\t\t\t\tchars = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (chars) {\n\t\t\t\t\tindex = html.indexOf(\"<\");\n\n\t\t\t\t\tvar text = index < 0 ? html : html.substring(0, index);\n\t\t\t\t\thtml = index < 0 ? \"\" : html.substring(index);\n\n\t\t\t\t\tif (handler.chars)\n\t\t\t\t\t\thandler.chars(text);\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\thtml = html.replace(new RegExp(\"([\\\\s\\\\S]*?)<\\/\" + stack.last() + \"[^>]*>\"), function (all, text) {\n\t\t\t\t\ttext = text.replace(/<!--([\\s\\S]*?)-->|<!\\[CDATA\\[([\\s\\S]*?)]]>/g, \"$1$2\");\n\t\t\t\t\tif (handler.chars)\n\t\t\t\t\t\thandler.chars(text);\n\n\t\t\t\t\treturn \"\";\n\t\t\t\t});\n\n\t\t\t\tparseEndTag(\"\", stack.last());\n\t\t\t}\n\n\t\t\tif (html == last)\n\t\t\t\tthrow \"Parse Error: \" + html;\n\t\t\tlast = html;\n\t\t}\n\n\t\t// Clean up any remaining tags\n\t\tparseEndTag();\n\n\t\tfunction parseStartTag(tag, tagName, rest, unary) {\n\t\t\ttagName = tagName.toLowerCase();\n\n\t\t\tif (block[tagName]) {\n\t\t\t\t// Close last tag if it's inline, except if it's a \"span\" (since people\n\t\t\t\t// usually add anything they want to spans, and browsers allow it).\n\t\t\t\t// Note: this exception for \"span\" was added manually (i.e. it's not\n\t\t\t\t// present in the original code).\n\t\t\t\twhile (stack.last() && inline[stack.last()] && stack.last() !== 'span') {\n\t\t\t\t\tparseEndTag(\"\", stack.last());\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (closeSelf[tagName] && stack.last() == tagName) {\n\t\t\t\tparseEndTag(\"\", tagName);\n\t\t\t}\n\n\t\t\tunary = empty[tagName] || !!unary;\n\n\t\t\tif (!unary)\n\t\t\t\tstack.push(tagName);\n\n\t\t\tif (handler.start) {\n\t\t\t\tvar attrs = [];\n\n\t\t\t\trest.replace(attr, function (match, name) {\n\t\t\t\t\tvar value = arguments[2] ? arguments[2] :\n\t\t\t\t\t\targuments[3] ? arguments[3] :\n\t\t\t\t\t\targuments[4] ? arguments[4] :\n\t\t\t\t\t\tfillAttrs[name] ? name : \"\";\n\n\t\t\t\t\tattrs.push({\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tescaped: value.replace(/(^|[^\\\\])\"/g, '$1\\\\\\\"') //\"\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tif (handler.start)\n\t\t\t\t\thandler.start(tagName, attrs, unary);\n\t\t\t}\n\t\t}\n\n\t\tfunction parseEndTag(tag, tagName) {\n\t\t\t// If no tag name is provided, clean shop\n\t\t\tif (!tagName)\n\t\t\t\tvar pos = 0;\n\n\t\t\t\t// Find the closest opened tag of the same type\n\t\t\telse\n\t\t\t\tfor (var pos = stack.length - 1; pos >= 0; pos--)\n\t\t\t\t\tif (stack[pos] == tagName)\n\t\t\t\t\t\tbreak;\n\n\t\t\tif (pos >= 0) {\n\t\t\t\t// Close all the open elements, up the stack\n\t\t\t\tfor (var i = stack.length - 1; i >= pos; i--)\n\t\t\t\t\tif (handler.end)\n\t\t\t\t\t\thandler.end(stack[i]);\n\n\t\t\t\t// Remove the open elements from the stack\n\t\t\t\tstack.length = pos;\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction makeMap(str) {\n\t\tvar obj = {}, items = str.split(\",\");\n\t\tfor (var i = 0; i < items.length; i++)\n\t\t\tobj[items[i]] = true;\n\t\treturn obj;\n\t}\n}).call(this);\n\n/* jshint ignore:end */\n","'use strict';\n\n// Copyright 2006 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * Unescapes an HTML string using a DOM to resolve non-XML, non-numeric\n * entities. This function is XSS-safe and whitespace-preserving.\n * @private\n * @param {string} str The string to unescape.\n * @return {string} The unescaped {@code str} string.\n */\n function unescape(str) {\n   /** @type {!Object<string, string>} */\n   var seen = {'&amp;': '&', '&lt;': '<', '&gt;': '>', '&quot;': '\"'};\n   var div = document.createElement('div');\n\n   // Match as many valid entity characters as possible. If the actual entity\n   // happens to be shorter, it will still work as innerHTML will return the\n   // trailing characters unchanged. Since the entity characters do not include\n   // open angle bracket, there is no chance of XSS from the innerHTML use.\n   // Since no whitespace is passed to innerHTML, whitespace is preserved.\n   return str.replace(HTML_ENTITY_PATTERN_, function(s, entity) {\n     // Check for cached entity.\n     var value = seen[s];\n     if (value) {\n       return value;\n     }\n     // Check for numeric entity.\n     if (entity.charAt(0) === '#') {\n       // Prefix with 0 so that hex entities (e.g. &#x10) parse as hex numbers.\n       var n = Number('0' + entity.substr(1));\n       if (!isNaN(n)) {\n         value = String.fromCharCode(n);\n       }\n     }\n     // Fall back to innerHTML otherwise.\n     if (!value) {\n       // Append a non-entity character to avoid a bug in Webkit that parses\n       // an invalid entity at the end of innerHTML text as the empty string.\n       div.innerHTML = s + ' ';\n       // Then remove the trailing character from the result.\n       value = div.firstChild.nodeValue.slice(0, -1);\n     }\n     // Cache and return.\n     seen[s] = value;\n     return value;\n   });\n }\n\nexport default unescape;\n\n/**\n * Regular expression that matches an HTML entity.\n * @type {!RegExp}\n */\nvar HTML_ENTITY_PATTERN_ = /&([^;\\s<&]+);?/g;\n","'use strict';\n\nimport unescape from './unescape';\n\nvar parser_;\n\nclass HTML2IncDom {\n\t/**\n\t * Should convert the given html string to a function with calls to\n\t * incremental dom methods.\n\t * @param {string} html\n\t * @return {!function()} Function with incremental dom calls for building\n\t *     the given html string.\n\t */\n\tstatic buildFn(html) {\n\t\treturn () => HTML2IncDom.run(html);\n\t}\n\n\t/**\n\t * Gets the html parser being currently used.\n\t * @return {!function()}\n\t */\n\tstatic getParser() {\n\t\treturn parser_ || window.HTMLParser;\n\t}\n\n\t/**\n\t * Should convert the given html string to calls to incremental dom methods.\n\t * @param {string} html\n\t */\n\tstatic run(html) {\n\t\tHTML2IncDom.getParser()(html, {\n\t\t\tstart: function(tag, attrs, unary) {\n\t\t\t\tvar fn = unary ? IncrementalDOM.elementVoid : IncrementalDOM.elementOpen;\n\t\t\t\tvar args = [\n\t\t\t\t\ttag,\n\t\t\t\t\tnull,\n\t\t\t\t\t[]\n\t\t\t\t];\n\t\t\t\tfor (var i = 0; i < attrs.length; i++) {\n\t\t\t\t\targs.push(attrs[i].name, attrs[i].value);\n\t\t\t\t}\n\t\t\t\tfn.apply(null, args);\n\t\t\t},\n\n\t\t\tend: function(tag) {\n\t\t\t\tIncrementalDOM.elementClose(tag);\n\t\t\t},\n\n\t\t\tchars: function(text) {\n\t\t\t\tIncrementalDOM.text(text, unescape);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Changes the function that will be used to parse html strings. By default\n\t * this will use the `HTMLParser` function from\n\t * https://github.com/blowsie/Pure-JavaScript-HTML5-Parser. This will accept\n\t * any function that follows that same api, basically accepting the html\n\t * string and an object with `start`, `end` and `chars` functions to be called\n\t * during the parsing.\n\t * @param {!function(string, !Object} newParser\n\t */\n\tstatic setParser(newParser) {\n\t\tparser_ = newParser;\n\t}\n}\n\nexport default HTML2IncDom;\n","import './HTMLParser';\nimport HTML2IncDom from './HTML2IncDom';\nexport default HTML2IncDom;\n","'use strict';\n\nconst SoyAop = {\n\t/**\n\t * The functions that should be called instead of a template call. The last\n\t * function in the array is the one that is intercepting at the moment. If the\n\t * array is empty, the original function will be called instead.\n\t * @type {!Array<function()>}\n\t * @protected\n\t */\n\tinterceptFns_: [],\n\n\t/**\n\t * Gets the original function of the given template function. If no original exists,\n\t * returns the given function itself.\n\t * @param {!function()} fn\n\t * @return {!function()}\n\t */\n\tgetOriginalFn: function(fn) {\n\t\treturn fn.originalFn ? fn.originalFn : fn;\n\t},\n\n\t/**\n\t * Handles a template call, calling the current interception function if one\n\t * is set, or otherwise just calling the original function instead.\n\t * @param {!function()} originalFn The original template function that was\n\t *     intercepted.\n\t * @param {Object} opt_data Template data object.\n\t * @param {*} opt_ignored\n\t * @param {Object} opt_ijData Template injected data object.\n\t * @return {*} The return value of the function that is called to handle this\n\t *     interception.\n\t */\n\thandleTemplateCall_: function(originalFn, opt_data, opt_ignored, opt_ijData) {\n\t\tconst interceptFn = SoyAop.interceptFns_[SoyAop.interceptFns_.length - 1];\n\t\tif (interceptFn) {\n\t\t\treturn interceptFn.call(null, originalFn, opt_data, opt_ignored, opt_ijData);\n\t\t} else {\n\t\t\treturn originalFn.call(null, opt_data, opt_ignored, opt_ijData);\n\t\t}\n\t},\n\n\t/**\n\t * Registers a template function that should be intercepted.\n\t * @param {!Object} templates The original templates object containing the\n\t *     function to be intercepted.\n\t * @param {string} name The name of the template function to intercept.\n\t */\n\tregisterForInterception: function(templates, name) {\n\t\tconst originalFn = templates[name];\n\t\tif (!originalFn.originalFn) {\n\t\t\ttemplates[name] = SoyAop.handleTemplateCall_.bind(null, originalFn);\n\t\t\ttemplates[name].originalFn = originalFn;\n\t\t}\n\t},\n\n\t/**\n\t * Starts intercepting all template calls, replacing them with a call to the\n\t * given function instead.\n\t * @param {!function()} fn\n\t */\n\tstartInterception: function(fn) {\n\t\tSoyAop.interceptFns_.push(fn);\n\t},\n\n\t/**\n\t * Stops intercepting template calls.\n\t */\n\tstopAllInterceptions: function() {\n\t\tSoyAop.interceptFns_ = [];\n\t},\n\n\t/**\n\t * Stops intercepting template calls with the last registered function.\n\t */\n\tstopInterception: function() {\n\t\tSoyAop.interceptFns_.pop();\n\t}\n};\n\nexport default SoyAop;\n","'use strict';\n\nimport 'metal-soy-bundle';\nimport { isFunction, isObject, isString, object } from 'metal';\nimport { ComponentRegistry } from 'metal-component';\nimport HTML2IncDom from 'html2incdom';\nimport IncrementalDomRenderer from 'metal-incremental-dom';\nimport SoyAop from './SoyAop';\n\n// The injected data that will be passed to soy templates.\nlet ijData = {};\n\nclass Soy extends IncrementalDomRenderer.constructor {\n\t/**\n\t * Adds the template params to the component's state, if they don't exist yet.\n\t * @param {!Component} component\n\t * @return {Object}\n\t */\n\tgetExtraDataConfig(component) {\n\t\tlet elementTemplate = component.constructor.TEMPLATE;\n\t\tif (!isFunction(elementTemplate)) {\n\t\t\treturn;\n\t\t}\n\n\t\telementTemplate = SoyAop.getOriginalFn(elementTemplate);\n\t\tthis.soyParamTypes_ = elementTemplate.types || {};\n\n\t\tconst keys = elementTemplate.params || [];\n\t\tconst configs = {};\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tif (!component[keys[i]]) {\n\t\t\t\tconfigs[keys[i]] = {};\n\t\t\t}\n\t\t}\n\t\treturn configs;\n\t}\n\n\t/**\n\t * Copies the component's state to an object so it can be passed as it's\n\t * template call's data. The copying needs to be done because, if the component\n\t * itself is passed directly, some problems occur when soy tries to merge it\n\t * with other data, due to property getters and setters. This is safer.\n\t * Also calls the component's \"prepareStateForRender\" to let it change the\n\t * data passed to the template.\n\t * @param {!Component} component\n\t * @param {!Array<string>} params The params used by this template.\n\t * @return {!Object}\n\t * @protected\n\t */\n\tbuildTemplateData_(component, params) {\n\t\tconst data = object.mixin({}, this.getConfig(component));\n\t\tcomponent.getStateKeys().forEach(key => {\n\t\t\tlet value = component[key];\n\t\t\tif (this.isHtmlParam_(component, key)) {\n\t\t\t\tvalue = soyRenderer_.toIncDom(value);\n\t\t\t}\n\t\t\tdata[key] = value;\n\t\t});\n\n\t\tfor (let i = 0; i < params.length; i++) {\n\t\t\tif (!data[params[i]] && isFunction(component[params[i]])) {\n\t\t\t\tdata[params[i]] = component[params[i]].bind(component);\n\t\t\t}\n\t\t}\n\n\t\tif (isFunction(component.prepareStateForRender)) {\n\t\t\treturn component.prepareStateForRender(data) || data;\n\t\t} else {\n\t\t\treturn data;\n\t\t}\n\t}\n\n\t/**\n\t * Returns the requested template function. This function will be wrapped in\n\t * another though, just to defer the requirement of the template's module\n\t * being ready until the function is actually called.\n\t * @param {string} namespace The soy template's namespace.\n\t * @param {string} templateName The name of the template function.\n\t * @return {!function()}\n\t */\n\tgetTemplate(namespace, templateName) {\n\t\treturn function(opt_data, opt_ignored, opt_ijData) {\n\t\t\tif (!goog.loadedModules_[namespace]) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`No template with namespace \"${namespace}\" has been loaded yet.`\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn goog.loadedModules_[namespace][templateName](opt_data, opt_ignored, opt_ijData);\n\t\t};\n\t}\n\n\t/**\n\t * Handles an intercepted soy template call. If the call is for a component's\n\t * main template, then it will be replaced with a call that incremental dom\n\t * can use for both handling an instance of that component and rendering it.\n\t * @param {!function()} originalFn The original template function that was\n\t *     intercepted.\n\t * @param {Object} data The data the template was called with.\n\t * @protected\n\t */\n\thandleInterceptedCall_(originalFn, opt_data = {}) {\n\t\tconst args = [originalFn.componentCtor, null, []];\n\t\tfor (let key in opt_data) {\n\t\t\targs.push(key, opt_data[key]);\n\t\t}\n\t\tIncrementalDOM.elementVoid.apply(null, args);\n\t}\n\n\t/**\n\t * Checks if the given param type is html.\n\t * @param {!Component} component\n\t * @param {string} name\n\t * @protected\n\t */\n\tisHtmlParam_(component, name) {\n\t\tconst state = component.getDataManager().getStateInstance(component);\n\t\tif (state.getStateKeyConfig(name).isHtml) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst elementTemplate = SoyAop.getOriginalFn(component.constructor.TEMPLATE);\n\t\tconst type = (elementTemplate.types || {})[name] || '';\n\t\treturn type.split('|').indexOf('html') !== -1;\n\t}\n\n\t/**\n\t * Registers the given templates to be used by `Soy` for the specified\n\t * component constructor.\n\t * @param {!Function} componentCtor The constructor of the component that\n\t *     should use the given templates.\n\t * @param {!Object} templates Object containing soy template functions.\n\t * @param {string=} mainTemplate The name of the main template that should be\n\t *     used to render the component. Defaults to \"render\".\n\t */\n\tregister(componentCtor, templates, mainTemplate = 'render') {\n\t\tcomponentCtor.RENDERER = soyRenderer_;\n\t\tcomponentCtor.TEMPLATE = SoyAop.getOriginalFn(templates[mainTemplate]);\n\t\tcomponentCtor.TEMPLATE.componentCtor = componentCtor;\n\t\tSoyAop.registerForInterception(templates, mainTemplate);\n\t\tComponentRegistry.register(componentCtor);\n\t}\n\n\t/**\n\t * Overrides the default method from `IncrementalDomRenderer` so the component's\n\t * soy template can be used for rendering.\n\t * @param {!Component} component\n\t * @param {!Object} data Data passed to the component when rendering it.\n\t * @override\n\t */\n\trenderIncDom(component) {\n\t\tlet elementTemplate = component.constructor.TEMPLATE;\n\t\tif (isFunction(elementTemplate) && !component.render) {\n\t\t\telementTemplate = SoyAop.getOriginalFn(elementTemplate);\n\t\t\tSoyAop.startInterception(this.handleInterceptedCall_);\n\t\t\tconst data = this.buildTemplateData_(component, elementTemplate.params || []);\n\t\t\telementTemplate(data, null, ijData);\n\t\t\tSoyAop.stopInterception();\n\t\t} else {\n\t\t\tsuper.renderIncDom(component);\n\t\t}\n\t}\n\n\t/**\n\t * Sets the injected data object that should be passed to templates.\n\t * @param {Object} data\n\t */\n\tsetInjectedData(data) {\n\t\tijData = data || {};\n\t}\n\n\t/**\n\t * Overrides the original `IncrementalDomRenderer` method so that only\n\t * state keys used by the main template can cause updates.\n\t * @param {!Component} component\n\t * @param {Object} changes\n\t * @return {boolean}\n\t */\n\tshouldUpdate(component, changes) {\n\t\tconst should = super.shouldUpdate(component, changes);\n\t\tif (!should || component.shouldUpdate) {\n\t\t\treturn should;\n\t\t}\n\n\t\tconst fn = component.constructor.TEMPLATE;\n\t\tconst params = fn ? SoyAop.getOriginalFn(fn).params : [];\n\t\tfor (let i = 0; i < params.length; i++) {\n\t\t\tif (changes.props[params[i]]) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Converts the given incremental dom function into an html string.\n\t * @param {!function()} incDomFn\n\t * @return {string}\n\t */\n\ttoHtmlString(incDomFn) {\n\t\tconst element = document.createElement('div');\n\t\tIncrementalDOM.patch(element, incDomFn);\n\t\treturn element.innerHTML;\n\t}\n\n\t/**\n\t * Converts the given html string into an incremental dom function.\n\t * @param {string|{contentKind: string, content: string}} value\n\t * @return {!function()}\n\t */\n\ttoIncDom(value) {\n\t\tif (isObject(value) && isString(value.content) && (value.contentKind === 'HTML')) {\n\t\t\tvalue = value.content;\n\t\t}\n\t\tif (isString(value)) {\n\t\t\tvalue = HTML2IncDom.buildFn(value);\n\t\t}\n\t\treturn value;\n\t}\n}\n\nconst soyRenderer_ = new Soy();\nsoyRenderer_.RENDERER_NAME = 'soy';\n\nexport default soyRenderer_;\nexport { soyRenderer_ as Soy, SoyAop };\n","'use strict';\n\nclass Geometry {\n\t/**\n\t   * Tests if a rectangle intersects with another.\n\t   *\n\t   * <pre>\n\t   *  x0y0 --------       x2y2 --------\n\t   *      |       |           |       |\n\t   *      -------- x1y1       -------- x3y3\n\t   * </pre>\n\t   *\n\t   * Note that coordinates starts from top to down (y), left to right (x):\n\t   *\n\t   * <pre>\n\t   *      ------> (x)\n\t   *      |\n\t   *      |\n\t   *     (y)\n\t   * </pre>\n\t   *\n\t   * @param {number} x0 Horizontal coordinate of P0.\n\t   * @param {number} y0 Vertical coordinate of P0.\n\t   * @param {number} x1 Horizontal coordinate of P1.\n\t   * @param {number} y1 Vertical coordinate of P1.\n\t   * @param {number} x2 Horizontal coordinate of P2.\n\t   * @param {number} y2 Vertical coordinate of P2.\n\t   * @param {number} x3 Horizontal coordinate of P3.\n\t   * @param {number} y3 Vertical coordinate of P3.\n\t   * @return {boolean}\n\t   */\n\tstatic intersectRect(x0, y0, x1, y1, x2, y2, x3, y3) {\n\t\treturn !(x2 > x1 || x3 < x0 || y2 > y1 || y3 < y0);\n\t}\n}\n\nexport default Geometry;\n","'use strict';\n\nimport core from 'metal';\nimport Geometry from './Geometry';\n\n/**\n * Class with static methods responsible for doing browser position checks.\n */\nclass Position {\n\t/**\n\t * Gets the client height of the specified node. Scroll height is not\n\t * included.\n\t * @param {Element|Document|Window=} node\n\t * @return {number}\n\t */\n\tstatic getClientHeight(node) {\n\t\treturn this.getClientSize_(node, 'Height');\n\t}\n\n\t/**\n\t * Gets the client height or width of the specified node. Scroll height is\n\t * not included.\n\t * @param {Element|Document|Window=} node\n\t * @param {string} `Width` or `Height` property.\n\t * @return {number}\n\t * @protected\n\t */\n\tstatic getClientSize_(node, prop) {\n\t\tvar el = node;\n\t\tif (core.isWindow(node)) {\n\t\t\tel = node.document.documentElement;\n\t\t}\n\t\tif (core.isDocument(node)) {\n\t\t\tel = node.documentElement;\n\t\t}\n\t\treturn el['client' + prop];\n\t}\n\n\t/**\n\t * Gets the client width of the specified node. Scroll width is not\n\t * included.\n\t * @param {Element|Document|Window=} node\n\t * @return {number}\n\t */\n\tstatic getClientWidth(node) {\n\t\treturn this.getClientSize_(node, 'Width');\n\t}\n\n\t/**\n\t * Gets the region of the element, document or window.\n\t * @param {Element|Document|Window=} opt_element Optional element to test.\n\t * @return {!DOMRect} The returned value is a simulated DOMRect object which\n\t *     is the union of the rectangles returned by getClientRects() for the\n\t *     element, i.e., the CSS border-boxes associated with the element.\n\t * @protected\n\t */\n\tstatic getDocumentRegion_(opt_element) {\n\t\tvar height = this.getHeight(opt_element);\n\t\tvar width = this.getWidth(opt_element);\n\t\treturn this.makeRegion(height, height, 0, width, 0, width);\n\t}\n\n\t/**\n\t * Gets the height of the specified node. Scroll height is included.\n\t * @param {Element|Document|Window=} node\n\t * @return {number}\n\t */\n\tstatic getHeight(node) {\n\t\treturn this.getSize_(node, 'Height');\n\t}\n\n\t/**\n\t * Gets the top offset position of the given node. This fixes the `offsetLeft` value of\n\t * nodes that were translated, which don't take that into account at all. That makes\n\t * the calculation more expensive though, so if you don't want that to be considered\n\t * either pass `opt_ignoreTransform` as true or call `offsetLeft` directly on the node.\n\t * @param {!Element} node\n\t * @param {boolean=} opt_ignoreTransform When set to true will ignore transform css\n\t *   when calculating the position. Defaults to false.\n\t * @return {number}\n\t */\n\tstatic getOffsetLeft(node, opt_ignoreTransform) {\n\t\treturn node.offsetLeft + (opt_ignoreTransform ? 0 : Position.getTranslation(node).left);\n\t}\n\n\t/**\n\t * Gets the top offset position of the given node. This fixes the `offsetTop` value of\n\t * nodes that were translated, which don't take that into account at all. That makes\n\t * the calculation more expensive though, so if you don't want that to be considered\n\t * either pass `opt_ignoreTransform` as true or call `offsetTop` directly on the node.\n\t * @param {!Element} node\n\t * @param {boolean=} opt_ignoreTransform When set to true will ignore transform css\n\t *   when calculating the position. Defaults to false.\n\t * @return {number}\n\t */\n\tstatic getOffsetTop(node, opt_ignoreTransform) {\n\t\treturn node.offsetTop + (opt_ignoreTransform ? 0 : Position.getTranslation(node).top);\n\t}\n\n\t/**\n\t * Gets the size of an element and its position relative to the viewport.\n\t * @param {!Document|Element|Window} node\n\t * @param {boolean=} opt_includeScroll Flag indicating if the document scroll\n\t *   position should be considered in the element's region coordinates. Defaults\n\t *   to false.\n\t * @return {!DOMRect} The returned value is a DOMRect object which is the\n\t *     union of the rectangles returned by getClientRects() for the element,\n\t *     i.e., the CSS border-boxes associated with the element.\n\t */\n\tstatic getRegion(node, opt_includeScroll) {\n\t\tif (core.isDocument(node) || core.isWindow(node)) {\n\t\t\treturn this.getDocumentRegion_(node);\n\t\t}\n\t\treturn this.makeRegionFromBoundingRect_(node.getBoundingClientRect(), opt_includeScroll);\n\t}\n\n\t/**\n\t * Gets the scroll left position of the specified node.\n\t * @param {Element|Document|Window=} node\n\t * @return {number}\n\t */\n\tstatic getScrollLeft(node) {\n\t\tif (core.isWindow(node)) {\n\t\t\treturn node.pageXOffset;\n\t\t}\n\t\tif (core.isDocument(node)) {\n\t\t\treturn node.defaultView.pageXOffset;\n\t\t}\n\t\treturn node.scrollLeft;\n\t}\n\n\t/**\n\t * Gets the scroll top position of the specified node.\n\t * @param {Element|Document|Window=} node\n\t * @return {number}\n\t */\n\tstatic getScrollTop(node) {\n\t\tif (core.isWindow(node)) {\n\t\t\treturn node.pageYOffset;\n\t\t}\n\t\tif (core.isDocument(node)) {\n\t\t\treturn node.defaultView.pageYOffset;\n\t\t}\n\t\treturn node.scrollTop;\n\t}\n\n\t/**\n\t * Gets the height or width of the specified node. Scroll height is\n\t * included.\n\t * @param {Element|Document|Window=} node\n\t * @param {string} `Width` or `Height` property.\n\t * @return {number}\n\t * @protected\n\t */\n\tstatic getSize_(node, prop) {\n\t\tif (core.isWindow(node)) {\n\t\t\treturn this.getClientSize_(node, prop);\n\t\t}\n\t\tif (core.isDocument(node)) {\n\t\t\tvar docEl = node.documentElement;\n\t\t\treturn Math.max(\n\t\t\t\tnode.body['scroll' + prop], docEl['scroll' + prop],\n\t\t\t\tnode.body['offset' + prop], docEl['offset' + prop], docEl['client' + prop]);\n\t\t}\n\t\treturn Math.max(node['client' + prop], node['scroll' + prop], node['offset' + prop]);\n\t}\n\n\t/**\n\t * Gets the transform matrix values for the given node.\n\t * @param {!Element} node\n\t * @return {Array<number>}\n\t */\n\tstatic getTransformMatrixValues(node) {\n\t\tvar style = getComputedStyle(node);\n\t\tvar transform = style.msTransform || style.transform || style.webkitTransform || style.mozTransform;\n\t\tif (transform !== 'none') {\n\t\t\tvar values = [];\n\t\t\tvar regex = /([\\d-\\.\\s]+)/g;\n\t\t\tvar matches = regex.exec(transform);\n\t\t\twhile (matches) {\n\t\t\t\tvalues.push(matches[1]);\n\t\t\t\tmatches = regex.exec(transform);\n\t\t\t}\n\t\t\treturn values;\n\t\t}\n\t}\n\n\t/**\n\t * Gets the number of translated pixels for the given node, for both the top and\n\t * left positions.\n\t * @param {!Element} node\n\t * @return {number}\n\t */\n\tstatic getTranslation(node) {\n\t\tvar values = Position.getTransformMatrixValues(node);\n\t\tvar translation = {\n\t\t\tleft: 0,\n\t\t\ttop: 0\n\t\t};\n\t\tif (values) {\n\t\t\ttranslation.left = parseFloat(values.length === 6 ? values[4] : values[13]);\n\t\t\ttranslation.top = parseFloat(values.length === 6 ? values[5] : values[14]);\n\t\t}\n\t\treturn translation;\n\t}\n\n\t/**\n\t * Gets the width of the specified node. Scroll width is included.\n\t * @param {Element|Document|Window=} node\n\t * @return {number}\n\t */\n\tstatic getWidth(node) {\n\t\treturn this.getSize_(node, 'Width');\n\t}\n\n\t/**\n\t * Tests if a region intersects with another.\n\t * @param {DOMRect} r1\n\t * @param {DOMRect} r2\n\t * @return {boolean}\n\t */\n\tstatic intersectRegion(r1, r2) {\n\t\treturn Geometry.intersectRect(\n\t\t\tr1.top, r1.left, r1.bottom, r1.right,\n\t\t\tr2.top, r2.left, r2.bottom, r2.right);\n\t}\n\n\t/**\n\t * Tests if a region is inside another.\n\t * @param {DOMRect} r1\n\t * @param {DOMRect} r2\n\t * @return {boolean}\n\t */\n\tstatic insideRegion(r1, r2) {\n\t\treturn (r2.top >= r1.top) && (r2.bottom <= r1.bottom) &&\n\t\t\t(r2.right <= r1.right) && (r2.left >= r1.left);\n\t}\n\n\t/**\n\t * Tests if a region is inside viewport region.\n\t * @param {DOMRect} region\n\t * @return {boolean}\n\t */\n\tstatic insideViewport(region) {\n\t\treturn this.insideRegion(this.getRegion(window), region);\n\t}\n\n\t/**\n\t * Computes the intersection region between two regions.\n\t * @param {DOMRect} r1\n\t * @param {DOMRect} r2\n\t * @return {?DOMRect} Intersection region or null if regions doesn't\n\t *     intersects.\n\t */\n\tstatic intersection(r1, r2) {\n\t\tif (!this.intersectRegion(r1, r2)) {\n\t\t\treturn null;\n\t\t}\n\t\tvar bottom = Math.min(r1.bottom, r2.bottom);\n\t\tvar right = Math.min(r1.right, r2.right);\n\t\tvar left = Math.max(r1.left, r2.left);\n\t\tvar top = Math.max(r1.top, r2.top);\n\t\treturn this.makeRegion(bottom, bottom - top, left, right, top, right - left);\n\t}\n\n\t/**\n\t * Makes a region object. It's a writable version of DOMRect.\n\t * @param {number} bottom\n\t * @param {number} height\n\t * @param {number} left\n\t * @param {number} right\n\t * @param {number} top\n\t * @param {number} width\n\t * @return {!DOMRect} The returned value is a DOMRect object which is the\n\t *     union of the rectangles returned by getClientRects() for the element,\n\t *     i.e., the CSS border-boxes associated with the element.\n\t */\n\tstatic makeRegion(bottom, height, left, right, top, width) {\n\t\treturn {\n\t\t\tbottom: bottom,\n\t\t\theight: height,\n\t\t\tleft: left,\n\t\t\tright: right,\n\t\t\ttop: top,\n\t\t\twidth: width\n\t\t};\n\t}\n\n\t/**\n\t * Makes a region from a DOMRect result from `getBoundingClientRect`.\n\t * @param  {!DOMRect} The returned value is a DOMRect object which is the\n\t *     union of the rectangles returned by getClientRects() for the element,\n\t *     i.e., the CSS border-boxes associated with the element.\n\t * @param {boolean=} opt_includeScroll Flag indicating if the document scroll\n\t *   position should be considered in the element's region coordinates. Defaults\n\t *   to false.\n\t * @return {DOMRect} Writable version of DOMRect.\n\t * @protected\n\t */\n\tstatic makeRegionFromBoundingRect_(rect, opt_includeScroll) {\n\t\tvar deltaX = opt_includeScroll ? Position.getScrollLeft(document) : 0;\n\t\tvar deltaY = opt_includeScroll ? Position.getScrollTop(document) : 0;\n\t\treturn this.makeRegion(\n\t\t\trect.bottom + deltaY,\n\t\t\trect.height,\n\t\t\trect.left + deltaX,\n\t\t\trect.right + deltaX,\n\t\t\trect.top + deltaY,\n\t\t\trect.width\n\t\t);\n\t}\n\n\t/**\n\t * Checks if the given point coordinates are inside a region.\n\t * @param {number} x\n\t * @param {number} y\n\t * @param {!Object} region\n\t * @return {boolean}\n\t */\n\tstatic pointInsideRegion(x, y, region) {\n\t\treturn Position.insideRegion(region, Position.makeRegion(y, 0, x, x, y, 0));\n\t}\n}\n\nexport default Position;\n","'use strict';\n\nimport Position from './Position';\n\n/**\n * Align utility. Computes region or best region to align an element with\n * another. Regions are relative to viewport, make sure to use element with\n * position fixed, or position absolute when the element first positioned\n * parent is the body element.\n */\nclass Align {\n\n\t/**\n\t * Aligns the element with the best region around alignElement. The best\n\t * region is defined by clockwise rotation starting from the specified\n\t * `position`. The element is always aligned in the middle of alignElement\n\t * axis.\n\t * @param {!Element} element Element to be aligned.\n\t * @param {!Element} alignElement Element to align with.\n\t * @param {Align.Top|Align.Right|Align.Bottom|Align.Left} pos\n\t *     The initial position to try. Options `Align.Top`, `Align.Right`,\n\t *     `Align.Bottom`, `Align.Left`.\n\t * @return {string} The final chosen position for the aligned element.\n\t * @static\n\t */\n\tstatic align(element, alignElement, position) {\n\t\tvar suggestion = this.suggestAlignBestRegion(element, alignElement, position);\n\t\tvar bestRegion = suggestion.region;\n\n\t\tvar computedStyle = window.getComputedStyle(element, null);\n\t\tif (computedStyle.getPropertyValue('position') !== 'fixed') {\n\t\t\tbestRegion.top += window.pageYOffset;\n\t\t\tbestRegion.left += window.pageXOffset;\n\n\t\t\tvar offsetParent = element;\n\t\t\twhile ((offsetParent = offsetParent.offsetParent)) {\n\t\t\t\tbestRegion.top -= Position.getOffsetTop(offsetParent);\n\t\t\t\tbestRegion.left -= Position.getOffsetLeft(offsetParent);\n\t\t\t}\n\t\t}\n\n\t\telement.style.top = bestRegion.top + 'px';\n\t\telement.style.left = bestRegion.left + 'px';\n\t\treturn suggestion.position;\n\t}\n\n\t/**\n\t * Returns the best region to align element with alignElement. This is similar\n\t * to `Align.suggestAlignBestRegion`, but it only returns the region information,\n\t * while `Align.suggestAlignBestRegion` also returns the chosen position.\n\t * @param {!Element} element Element to be aligned.\n\t * @param {!Element} alignElement Element to align with.\n\t * @param {Align.Top|Align.Right|Align.Bottom|Align.Left} pos\n\t *     The initial position to try. Options `Align.Top`, `Align.Right`,\n\t *     `Align.Bottom`, `Align.Left`.\n\t * @return {DOMRect} Best region to align element.\n\t * @static\n\t */\n\tstatic getAlignBestRegion(element, alignElement, position) {\n\t\treturn Align.suggestAlignBestRegion(element, alignElement, position).region;\n\t}\n\n\t/**\n\t * Returns the region to align element with alignElement. The element is\n\t * always aligned in the middle of alignElement axis.\n\t * @param {!Element} element Element to be aligned.\n\t * @param {!Element} alignElement Element to align with.\n\t * @param {Align.Top|Align.Right|Align.Bottom|Align.Left} pos\n\t *     The position to align. Options `Align.Top`, `Align.Right`,\n\t *     `Align.Bottom`, `Align.Left`.\n\t * @return {DOMRect} Region to align element.\n\t * @static\n\t */\n\tstatic getAlignRegion(element, alignElement, position) {\n\t\tvar r1 = Position.getRegion(alignElement);\n\t\tvar r2 = Position.getRegion(element);\n\t\tvar top = 0;\n\t\tvar left = 0;\n\n\t\tswitch (position) {\n\t\t\tcase Align.TopCenter:\n\t\t\t\ttop = r1.top - r2.height;\n\t\t\t\tleft = r1.left + r1.width / 2 - r2.width / 2;\n\t\t\t\tbreak;\n\t\t\tcase Align.RightCenter:\n\t\t\t\ttop = r1.top + r1.height / 2 - r2.height / 2;\n\t\t\t\tleft = r1.left + r1.width;\n\t\t\t\tbreak;\n\t\t\tcase Align.BottomCenter:\n\t\t\t\ttop = r1.bottom;\n\t\t\t\tleft = r1.left + r1.width / 2 - r2.width / 2;\n\t\t\t\tbreak;\n\t\t\tcase Align.LeftCenter:\n\t\t\t\ttop = r1.top + r1.height / 2 - r2.height / 2;\n\t\t\t\tleft = r1.left - r2.width;\n\t\t\t\tbreak;\n\t\t\tcase Align.TopRight:\n\t\t\t\ttop = r1.top - r2.height;\n\t\t\t\tleft = r1.right - r2.width;\n\t\t\t\tbreak;\n\t\t\tcase Align.BottomRight:\n\t\t\t\ttop = r1.bottom;\n\t\t\t\tleft = r1.right - r2.width;\n\t\t\t\tbreak;\n\t\t\tcase Align.BottomLeft:\n\t\t\t\ttop = r1.bottom;\n\t\t\t\tleft = r1.left;\n\t\t\t\tbreak;\n\t\t\tcase Align.TopLeft:\n\t\t\t\ttop = r1.top - r2.height;\n\t\t\t\tleft = r1.left;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn {\n\t\t\tbottom: top + r2.height,\n\t\t\theight: r2.height,\n\t\t\tleft: left,\n\t\t\tright: left + r2.width,\n\t\t\ttop: top,\n\t\t\twidth: r2.width\n\t\t};\n\t}\n\n\t/**\n\t * Checks if specified value is a valid position. Options `Align.Top`,\n\t *     `Align.Right`, `Align.Bottom`, `Align.Left`.\n\t * @param {Align.Top|Align.Right|Align.Bottom|Align.Left} val\n\t * @return {boolean} Returns true if value is a valid position.\n\t * @static\n\t */\n\tstatic isValidPosition(val) {\n\t\treturn 0 <= val && val <= 8;\n\t}\n\n\t/**\n\t * Looks for the best region for aligning the given element. The best\n\t * region is defined by clockwise rotation starting from the specified\n\t * `position`. The element is always aligned in the middle of alignElement\n\t * axis.\n\t * @param {!Element} element Element to be aligned.\n\t * @param {!Element} alignElement Element to align with.\n\t * @param {Align.Top|Align.Right|Align.Bottom|Align.Left} pos\n\t *     The initial position to try. Options `Align.Top`, `Align.Right`,\n\t *     `Align.Bottom`, `Align.Left`.\n\t * @return {{position: string, region: DOMRect}} Best region to align element.\n\t * @static\n\t */\n\tstatic suggestAlignBestRegion(element, alignElement, position) {\n\t\tvar bestArea = 0;\n\t\tvar bestPosition = position;\n\t\tvar bestRegion = this.getAlignRegion(element, alignElement, bestPosition);\n\t\tvar tryPosition = bestPosition;\n\t\tvar tryRegion = bestRegion;\n\t\tvar viewportRegion = Position.getRegion(window);\n\n\t\tfor (var i = 0; i < 8;) {\n\t\t\tif (Position.intersectRegion(viewportRegion, tryRegion)) {\n\t\t\t\tvar visibleRegion = Position.intersection(viewportRegion, tryRegion);\n\t\t\t\tvar area = visibleRegion.width * visibleRegion.height;\n\t\t\t\tif (area > bestArea) {\n\t\t\t\t\tbestArea = area;\n\t\t\t\t\tbestRegion = tryRegion;\n\t\t\t\t\tbestPosition = tryPosition;\n\t\t\t\t}\n\t\t\t\tif (Position.insideViewport(tryRegion)) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttryPosition = (position + (++i)) % 8;\n\t\t\ttryRegion = this.getAlignRegion(element, alignElement, tryPosition);\n\t\t}\n\n\t\treturn {\n\t\t\tposition: bestPosition,\n\t\t\tregion: bestRegion\n\t\t};\n\t}\n}\n\n/**\n * Constants that represent the supported positions for `Align`.\n * @type {number}\n * @static\n */\n\nAlign.TopCenter = 0;\nAlign.TopRight = 1;\nAlign.RightCenter = 2;\nAlign.BottomRight = 3;\nAlign.BottomCenter = 4;\nAlign.BottomLeft = 5;\nAlign.LeftCenter = 6;\nAlign.TopLeft = 7;\n\n/**\n * Aliases for position constants.\n * @type {number}\n * @static\n */\nAlign.Top = Align.TopCenter;\nAlign.Right = Align.RightCenter;\nAlign.Bottom = Align.BottomCenter;\nAlign.Left = Align.LeftCenter;\n\nexport default Align;\n","'use strict';\n\nimport Align from '../Align';\nimport Geometry from '../Geometry';\nimport Position from '../Position';\n\nexport default Position;\nexport {Align, Geometry, Position};\n","'use strict';\n\nimport core from 'metal';\nimport dom from 'metal-dom';\nimport { Align } from 'metal-position';\nimport Component from 'metal-component';\nimport { EventHandler } from 'metal-events';\n\n/**\n * The base class to be shared between components that have tooltip behavior.\n * This helps decouple this behavior logic from the UI, which may be different\n * between components. The Tooltip component itself extends from this, as does\n * the crystal Popover component, which can be accessed at metal/crystal-popover.\n */\nclass TooltipBase extends Component {\n\t/**\n\t * @inheritDoc\n\t */\n\tattached() {\n\t\tthis.align();\n\t\tthis.syncTriggerEvents(this.triggerEvents);\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tcreated() {\n\t\tthis.currentAlignElement = this.alignElement;\n\t\tthis.eventHandler_ = new EventHandler();\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdetached() {\n\t\tthis.eventHandler_.removeAllListeners();\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tsuper.disposeInternal();\n\t\tclearTimeout(this.delay_);\n\t}\n\n\t/**\n\t * Aligns the tooltip with the best region around alignElement. The best\n\t * region is defined by clockwise rotation starting from the specified\n\t * `position`. The element is always aligned in the middle of alignElement\n\t * axis.\n\t * @param {Element=} opt_alignElement Optional element to align with.\n\t */\n\talign(opt_alignElement) {\n\t\tthis.syncCurrentAlignElement(opt_alignElement || this.currentAlignElement);\n\t}\n\n\t/**\n\t * @param {!function()} fn\n\t * @param {number} delay\n\t * @private\n\t */\n\tcallAsync_(fn, delay) {\n\t\tclearTimeout(this.delay_);\n\t\tthis.delay_ = setTimeout(fn.bind(this), delay);\n\t}\n\n\t/**\n\t * Handles hide event triggered by `events`.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleHide(event) {\n\t\tconst delegateTarget = event.delegateTarget;\n\t\tconst interactingWithDifferentTarget = delegateTarget && (delegateTarget !== this.currentAlignElement);\n\t\tthis.callAsync_(function() {\n\t\t\tif (this.locked_) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (interactingWithDifferentTarget) {\n\t\t\t\tthis.currentAlignElement = delegateTarget;\n\t\t\t} else {\n\t\t\t\tthis.visible = false;\n\t\t\t\tthis.syncVisible(false);\n\t\t\t}\n\t\t}, this.delay[1]);\n\t}\n\n\t/**\n\t * Handles show event triggered by `events`.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleShow(event) {\n\t\tconst delegateTarget = event.delegateTarget;\n\t\tsuper.syncVisible(true);\n\t\tthis.callAsync_(function() {\n\t\t\tthis.currentAlignElement = delegateTarget;\n\t\t\tthis.visible = true;\n\t\t}, this.delay[0]);\n\t}\n\n\t/**\n\t * Handles toggle event triggered by `events`.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleToggle(event) {\n\t\tif (this.visible) {\n\t\t\tthis.handleHide(event);\n\t\t} else {\n\t\t\tthis.handleShow(event);\n\t\t}\n\t}\n\n\t/**\n\t * Locks tooltip visibility.\n\t * @param {!Event} event\n\t */\n\tlock() {\n\t\tthis.locked_ = true;\n\t}\n\n\t/**\n\t * Unlocks tooltip visibility.\n\t * @param {!Event} event\n\t */\n\tunlock(event) {\n\t\tthis.locked_ = false;\n\t\tthis.handleHide(event);\n\t}\n\n\t/**\n\t * Synchronizes the value of the `currentAlignElement` internal state\n\t * with the `alignElement`.\n\t * @param {Element} alignElement\n\t */\n\tsyncAlignElement(alignElement) {\n\t\tthis.currentAlignElement = alignElement;\n\t}\n\n\t/**\n\t * State synchronization logic for `currentAlignElement`.\n\t * @param {Element} alignElement\n\t * @param {Element} prevAlignElement\n\t */\n\tsyncCurrentAlignElement(alignElement, prevAlignElement) {\n\t\tif (prevAlignElement) {\n\t\t\talignElement.removeAttribute('aria-describedby');\n\t\t}\n\t\tif (alignElement) {\n\t\t\tconst dataTitle = alignElement.getAttribute('data-title');\n\t\t\tif (dataTitle) {\n\t\t\t\tthis.title = dataTitle;\n\t\t\t}\n\t\t\tif (this.inDocument) {\n\t\t\t\tthis.alignedPosition = TooltipBase.Align.align(this.element, alignElement, this.position);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * State synchronization logic for `position`.\n\t */\n\tsyncPosition() {\n\t\tthis.syncCurrentAlignElement(this.currentAlignElement);\n\t}\n\n\t/**\n\t * State synchronization logic for `selector`.\n\t */\n\tsyncSelector() {\n\t\tthis.syncTriggerEvents(this.triggerEvents);\n\t}\n\n\t/**\n\t * State synchronization logic for `triggerEvents`.\n\t * @param {!Array<string>} triggerEvents\n\t */\n\tsyncTriggerEvents(triggerEvents) {\n\t\tif (!this.inDocument) {\n\t\t\treturn;\n\t\t}\n\t\tthis.eventHandler_.removeAllListeners();\n\t\tconst selector = this.selector;\n\t\tif (!selector) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.eventHandler_.add(\n\t\t\tthis.on('mouseenter', this.lock),\n\t\t\tthis.on('mouseleave', this.unlock));\n\n\t\tif (triggerEvents[0] === triggerEvents[1]) {\n\t\t\tthis.eventHandler_.add(\n\t\t\t\tdom.delegate(document, triggerEvents[0], selector, this.handleToggle.bind(this)));\n\t\t} else {\n\t\t\tthis.eventHandler_.add(\n\t\t\t\tdom.delegate(document, triggerEvents[0], selector, this.handleShow.bind(this)),\n\t\t\t\tdom.delegate(document, triggerEvents[1], selector, this.handleHide.bind(this)));\n\t\t}\n\t}\n\n\t/**\n\t * State synchronization logic for `visible`. Realigns the tooltip.\n\t */\n\tsyncVisible() {\n\t\tthis.align();\n\t}\n}\n\n/**\n * @inheritDoc\n * @see `Align` class.\n * @static\n */\nTooltipBase.Align = Align;\n\n/**\n * TooltipBase state definition.\n * @type {!Object}\n * @static\n */\nTooltipBase.STATE = {\n\t/**\n\t * The current position of the tooltip after being aligned via `Align.align`.\n\t * @type {number}\n\t */\n\talignedPosition: {\n\t\tvalidator: TooltipBase.Align.isValidPosition\n\t},\n\n\t/**\n\t * Element to align tooltip with.\n\t * @type {Element}\n\t */\n\talignElement: {\n\t\tsetter: dom.toElement\n\t},\n\n\t/**\n\t * The current element aligned tooltip with.\n\t * @type {Element}\n\t */\n\tcurrentAlignElement: {\n\t\tinternal: true,\n\t\tsetter: dom.toElement\n\t},\n\n\t/**\n\t * Delay showing and hiding the tooltip (ms).\n\t * @type {!Array<number>}\n\t * @default [ 500, 250 ]\n\t */\n\tdelay: {\n\t\tvalidator: Array.isArray,\n\t\tvalue: [500, 250]\n\t},\n\n\t/**\n\t * Trigger events used to bind handlers to show and hide tooltip.\n\t * @type {!Array<string>}\n\t * @default ['mouseenter', 'mouseleave']\n\t */\n\ttriggerEvents: {\n\t\tvalidator: Array.isArray,\n\t\tvalue: ['mouseenter', 'mouseleave']\n\t},\n\n\t/**\n\t * If a selector is provided, tooltip objects will be delegated to the\n\t * specified targets by setting the `alignElement`.\n\t * @type {?string}\n\t */\n\tselector: {\n\t\tvalidator: core.isString\n\t},\n\n\t/**\n\t * The position to try alignment. If not possible the best position will be\n\t * found.\n\t * @type {number}\n\t * @default Align.Bottom\n\t */\n\tposition: {\n\t\tvalidator: TooltipBase.Align.isValidPosition,\n\t\tvalue: TooltipBase.Align.Bottom\n\t},\n\n\t/**\n\t * Content to be placed inside tooltip.\n\t * @type {string}\n\t */\n\ttitle: {\n\t}\n};\n\n/**\n * CSS classes used for each align position.\n * @type {!Array}\n * @static\n */\nTooltipBase.PositionClasses = ['top', 'right', 'bottom', 'left'];\n\nexport default TooltipBase;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from Tooltip.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace Tooltip.\n * @public\n */\n\ngoog.module('Tooltip.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('soy.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\n\n/**\n * @param {{\n *    alignedPosition: (?),\n *    elementClasses: (?),\n *    position: (?),\n *    title: (?soydata.SanitizedHtml|string|undefined)\n * }} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  soy.asserts.assertType(opt_data.title == null || (opt_data.title instanceof Function) || (opt_data.title instanceof goog.soy.data.SanitizedContent) || (opt_data.title instanceof soydata.UnsanitizedText) || goog.isString(opt_data.title), 'title', opt_data.title, '?soydata.SanitizedHtml|string|undefined');\n  var title = /** @type {?soydata.SanitizedHtml|string|undefined} */ (opt_data.title);\n  var positionClasses__soy3 = ['top', 'top', 'right', 'bottom', 'bottom', 'bottom', 'left', 'top'];\n  var currentPosition__soy4 = opt_data.alignedPosition != null ? opt_data.alignedPosition : opt_data.position;\n  var positionClass__soy5 = currentPosition__soy4 != null ? positionClasses__soy3[currentPosition__soy4] : 'bottom';\n  ie_open('div', null, null,\n      'class', 'tooltip ' + positionClass__soy5 + (opt_data.elementClasses ? ' ' + opt_data.elementClasses : ''),\n      'role', 'tooltip');\n    ie_void('div', null, null,\n        'class', 'tooltip-arrow');\n    ie_open('section', null, null,\n        'class', 'tooltip-inner');\n      if (title) {\n        var dyn0 = title;\n        if (typeof dyn0 == 'function') dyn0(); else if (dyn0 != null) itext(dyn0);\n      }\n    ie_close('section');\n  ie_close('div');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'Tooltip.render';\n}\n\nexports.render.params = [\"title\",\"alignedPosition\",\"elementClasses\",\"position\"];\nexports.render.types = {\"title\":\"html|string\",\"alignedPosition\":\"any\",\"elementClasses\":\"any\",\"position\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass Tooltip extends Component {}\nSoy.register(Tooltip, templates);\nexport { Tooltip, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport dom from 'metal-dom';\nimport Soy from 'metal-soy';\nimport TooltipBase from './TooltipBase';\nimport templates from './Tooltip.soy.js';\n\n/**\n * Tooltip component.\n */\nclass Tooltip extends TooltipBase {\n\t/**\n\t * Hides the alert completely (with display \"none\"). This is called after the\n\t * hiding animation is done.\n\t * @protected\n\t */\n\thideCompletely_() {\n\t\tif (!this.isDisposed() && this.element && !this.visible) {\n\t\t\tthis.element.style.display = 'none';\n\t\t}\n\t}\n\n\t/**\n\t * State synchronization logic for `visible`. Updates the element's opacity,\n\t * since bootstrap uses opacity instead of display for tooltip visibility.\n\t * @param {boolean} visible\n\t */\n\tsyncVisible(visible) {\n\t\tif (!visible) {\n\t\t\tdom.once(this.element, 'animationend', this.hideCompletely_.bind(this));\n\t\t\tdom.once(this.element, 'transitionend', this.hideCompletely_.bind(this));\n\t\t} else {\n\t\t\tthis.element.style.display = '';\n\t\t}\n\n\t\tthis.element.style.opacity = visible ? 1 : '';\n\t\tsuper.syncVisible(visible);\n\t}\n}\nSoy.register(Tooltip, templates);\n\n/**\n * @inheritDoc\n * @see `Align` class.\n * @static\n */\nTooltip.Align = TooltipBase.Align;\n\nexport default Tooltip;\nexport { Tooltip, TooltipBase };\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from ElectricCode.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace ElectricCode.\n * @public\n */\n\ngoog.module('ElectricCode.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  ie_open('div', null, null,\n      'class', 'code-container' + (opt_data.elementClasses ? ' ' + opt_data.elementClasses : ''));\n    ie_open('button', null, null,\n        'class', 'btn btn-sm btn-copy');\n      ie_void('span', null, null,\n          'class', 'icon-12-overlap');\n    ie_close('button');\n    ie_open('pre');\n      ie_open('code', null, null,\n          'class', 'code',\n          'data-mode', opt_data.mode,\n          'ref', 'code');\n        var dyn0 = opt_data.code;\n        if (typeof dyn0 == 'function') dyn0(); else if (dyn0 != null) itext(dyn0);\n      ie_close('code');\n    ie_close('pre');\n  ie_close('div');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'ElectricCode.render';\n}\n\nexports.render.params = [\"code\",\"mode\",\"elementClasses\"];\nexports.render.types = {\"code\":\"any\",\"mode\":\"any\",\"elementClasses\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass ElectricCode extends Component {}\nSoy.register(ElectricCode, templates);\nexport { ElectricCode, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Clipboard from 'metal-clipboard';\nimport Component from 'metal-component';\nimport Tooltip from 'metal-tooltip';\nimport Soy from 'metal-soy';\n\nimport templates from './ElectricCode.soy';\n\nclass ElectricCode extends Component {\n\tattached() {\n\t\tconst selector = '.code-container .btn-copy';\n\n\t\tif (!window.electricClipboardTooltip) {\n\t\t\twindow.electricClipboardTooltip = new Tooltip({\n\t\t\t\tdelay: [300, 150],\n\t\t\t\telementClasses: 'fade',\n\t\t\t\tevents: {\n\t\t\t\t\tvisibleChanged: function(event) {\n\t\t\t\t\t\tif (event.newVal) {\n\t\t\t\t\t\t\tthis.title = 'Copy';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tselector: selector,\n\t\t\t\ttitle: 'Copy',\n\t\t\t\tvisible: false\n\t\t\t});\n\t\t}\n\n\t\tif (!window.electricClipboard) {\n\t\t\twindow.electricClipboard = new Clipboard({\n\t\t\t\tselector: selector,\n\t\t\t\ttext: delegateTarget => {\n\t\t\t\t\twindow.electricClipboardTooltip.title = 'Copied';\n\t\t\t\t\treturn delegateTarget.parentNode.querySelector('pre .code').innerText;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n};\n\nSoy.register(ElectricCode, templates);\n\nexport default ElectricCode;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from ElectricNavigation.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace ElectricNavigation.\n * @hassoydeltemplate {ElectricNavigation.anchor.idom}\n * @hassoydelcall {ElectricNavigation.anchor.idom}\n * @public\n */\n\ngoog.module('ElectricNavigation.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  var $$temp;\n  var localAnchorVariant__soy12 = ($$temp = opt_data.anchorVariant) == null ? 'basic' : $$temp;\n  var localCurrentDepth__soy13 = ($$temp = opt_data.currentDepth) == null ? 0 : $$temp;\n  var localListItemActiveClasses__soy14 = ($$temp = opt_data.listItemActiveClasses) == null ? 'active' : $$temp;\n  if (opt_data.section.children) {\n    ie_open('ul', null, null,\n        'class', ($$temp = opt_data.elementClasses) == null ? '' : $$temp);\n      var pageList41 = opt_data.section.children;\n      var pageListLen41 = pageList41.length;\n      for (var pageIndex41 = 0; pageIndex41 < pageListLen41; pageIndex41++) {\n        var pageData41 = pageList41[pageIndex41];\n        if (! pageData41.hidden) {\n          ie_open('li', null, null,\n              'class', (($$temp = opt_data.listItemClasses) == null ? '' : $$temp) + (pageData41.active ? ' ' + localListItemActiveClasses__soy14 : ''));\n            soy.$$getDelegateFn(soy.$$getDelTemplateId('ElectricNavigation.anchor.idom'), localAnchorVariant__soy12, false)(soy.$$assignDefaults({page: pageData41}, opt_data), null, opt_ijData);\n            if (! opt_data.depth || localCurrentDepth__soy13 + 1 < opt_data.depth) {\n              $render({anchorVariant: localAnchorVariant__soy12, currentDepth: localCurrentDepth__soy13 + 1, currentURL: opt_data.currentURL, depth: opt_data.depth, elementClasses: opt_data.elementClasses, linkClasses: opt_data.linkClasses, listItemActiveClasses: opt_data.listItemActiveClasses, listItemClasses: opt_data.listItemClasses, section: pageData41}, null, opt_ijData);\n            }\n          ie_close('li');\n        }\n      }\n    ie_close('ul');\n  }\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'ElectricNavigation.render';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction __deltemplate_s44_b83841ac(opt_data, opt_ignored, opt_ijData) {\n  var $$temp;\n  if (opt_data.page.url || opt_data.page.redirect) {\n    ie_open('a', null, null,\n        'class', ($$temp = opt_data.linkClasses) == null ? '' : $$temp,\n        'href', ($$temp = opt_data.page.redirect) == null ? opt_data.page.url : $$temp);\n      ie_open('span');\n        var dyn1 = ($$temp = opt_data.page.title) == null ? 'Missing' : $$temp;\n        if (typeof dyn1 == 'function') dyn1(); else if (dyn1 != null) itext(dyn1);\n      ie_close('span');\n    ie_close('a');\n  } else {\n    ie_open('span', null, null,\n        'class', ($$temp = opt_data.linkClasses) == null ? '' : $$temp);\n      var dyn2 = ($$temp = opt_data.page.title) == null ? 'Missing' : $$temp;\n      if (typeof dyn2 == 'function') dyn2(); else if (dyn2 != null) itext(dyn2);\n    ie_close('span');\n  }\n}\nexports.__deltemplate_s44_b83841ac = __deltemplate_s44_b83841ac;\nif (goog.DEBUG) {\n  __deltemplate_s44_b83841ac.soyTemplateName = 'ElectricNavigation.__deltemplate_s44_b83841ac';\n}\nsoy.$$registerDelegateFn(soy.$$getDelTemplateId('ElectricNavigation.anchor.idom'), 'basic', 0, __deltemplate_s44_b83841ac);\n\nexports.render.params = [\"section\",\"anchorVariant\",\"currentDepth\",\"currentURL\",\"depth\",\"elementClasses\",\"linkClasses\",\"listItemActiveClasses\",\"listItemClasses\"];\nexports.render.types = {\"section\":\"any\",\"anchorVariant\":\"any\",\"currentDepth\":\"any\",\"currentURL\":\"any\",\"depth\":\"any\",\"elementClasses\":\"any\",\"linkClasses\":\"any\",\"listItemActiveClasses\":\"any\",\"listItemClasses\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass ElectricNavigation extends Component {}\nSoy.register(ElectricNavigation, templates);\nexport { ElectricNavigation, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './ElectricNavigation.soy';\n\nclass ElectricNavigation extends Component {\n\tattached() {\n\t}\n};\n\nSoy.register(ElectricNavigation, templates);\n\nexport default ElectricNavigation;\n","'use strict';\n\nimport core from 'metal';\nimport { dom, DomEventEmitterProxy } from 'metal-dom';\nimport State from 'metal-state';\nimport EventEmitter from 'metal-events';\nimport Position from 'metal-position';\n\n/**\n * Affix utility.\n */\nclass Affix extends State {\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor(opt_config) {\n\t\tsuper(opt_config);\n\n\t\tif (!Affix.emitter_) {\n\t\t\tAffix.emitter_ = new EventEmitter();\n\t\t\tAffix.proxy_ = new DomEventEmitterProxy(document, Affix.emitter_, null, {\n\t\t\t\tscroll: true\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Holds the last position.\n\t\t * @type {Position.Bottom|Position.Default|Position.Top}\n\t\t * @private\n\t\t */\n\t\tthis.lastPosition_ = null;\n\n\t\t/**\n\t\t * Holds event handle that listens scroll shared event emitter proxy.\n\t\t * @type {EventHandle}\n\t\t * @protected\n\t\t */\n\t\tthis.scrollHandle_ = Affix.emitter_.on('scroll', this.checkPosition.bind(this));\n\n\t\tthis.on('elementChanged', this.checkPosition);\n\t\tthis.on('offsetTopChanged', this.checkPosition);\n\t\tthis.on('offsetBottomChanged', this.checkPosition);\n\t\tthis.checkPosition();\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tdom.removeClasses(this.element, Affix.Position.Bottom + ' ' + Affix.Position.Default + ' ' + Affix.Position.Top);\n\t\tthis.scrollHandle_.dispose();\n\t\tsuper.disposeInternal();\n\t}\n\n\t/**\n\t * Synchronize bottom, top and element regions and checks if position has\n\t * changed. If position has changed syncs position.\n\t */\n\tcheckPosition() {\n\t\tif (this.intersectTopRegion()) {\n\t\t\tthis.syncPosition(Affix.Position.Top);\n\t\t} else if (this.intersectBottomRegion()) {\n\t\t\tthis.syncPosition(Affix.Position.Bottom);\n\t\t} else {\n\t\t\tthis.syncPosition(Affix.Position.Default);\n\t\t}\n\t}\n\n\t/**\n\t * Whether the element is intersecting with bottom region defined by\n\t * offsetBottom.\n\t * @return {boolean}\n\t */\n\tintersectBottomRegion() {\n\t\tif (!core.isDef(this.offsetBottom)) {\n\t\t\treturn false;\n\t\t}\n\t\tvar clientHeight = Position.getHeight(this.scrollElement);\n\t\tvar scrollElementClientHeight = Position.getClientHeight(this.scrollElement);\n\t\treturn Position.getScrollTop(this.scrollElement) + scrollElementClientHeight >= clientHeight - this.offsetBottom;\n\t}\n\n\t/**\n\t * Whether the element is intersecting with top region defined by\n\t * offsetTop.\n\t * @return {boolean}\n\t */\n\tintersectTopRegion() {\n\t\tif (!core.isDef(this.offsetTop)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn Position.getScrollTop(this.scrollElement) <= this.offsetTop;\n\t}\n\n\t/**\n\t * Synchronizes element css classes to match with the specified position.\n\t * @param {Position.Bottom|Position.Default|Position.Top} position\n\t */\n\tsyncPosition(position) {\n\t\tif (this.lastPosition_ !== position) {\n\t\t\tdom.addClasses(this.element, position);\n\t\t\tdom.removeClasses(this.element, this.lastPosition_);\n\t\t\tthis.lastPosition_ = position;\n\t\t}\n\t}\n}\n\n/**\n * Holds positions enum.\n * @enum {string}\n */\nAffix.Position = {\n\tTop: 'affix-top',\n\tBottom: 'affix-bottom',\n\tDefault: 'affix'\n};\n\nAffix.STATE = {\n\t/**\n\t * The scrollElement element to be used as scrollElement area for affix. The scrollElement is\n\t * where the scroll event is listened from.\n\t * @type {Element|Window}\n\t */\n\tscrollElement: {\n\t\tsetter: dom.toElement,\n\t\tvalue: document\n\t},\n\n\t/**\n\t * Defines the offset bottom that triggers affix.\n\t * @type {number}\n\t */\n\toffsetTop: {\n\t\tvalidator: core.isNumber\n\t},\n\n\t/**\n\t * Defines the offset top that triggers affix.\n\t * @type {number}\n\t */\n\toffsetBottom: {\n\t\tvalidator: core.isNumber\n\t},\n\n\t/**\n\t * Element to be used as alignment reference of affix.\n\t * @type {Element}\n\t */\n\telement: {\n\t\tsetter: dom.toElement\n\t}\n};\n\nexport default Affix;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from ReadingProgress.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace ReadingProgress.\n * @public\n */\n\ngoog.module('ReadingProgress.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  ie_open('div', null, null,\n      'class', 'reading-progress' + (opt_data.elementClasses ? ' ' + opt_data.elementClasses : ''));\n    ie_open('ul');\n      var itemList8 = opt_data.items;\n      var itemListLen8 = itemList8.length;\n      for (var itemIndex8 = 0; itemIndex8 < itemListLen8; itemIndex8++) {\n        var itemData8 = itemList8[itemIndex8];\n        $item({item: itemData8}, null, opt_ijData);\n      }\n    ie_close('ul');\n  ie_close('div');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'ReadingProgress.render';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $item(opt_data, opt_ignored, opt_ijData) {\n  ie_open('li');\n    ie_open('a', null, null,\n        'href', opt_data.item.href);\n      if (opt_data.item.title) {\n        ie_open('span', null, null,\n            'class', 'reading-title');\n          itext((goog.asserts.assert((opt_data.item.title) != null), opt_data.item.title));\n        ie_close('span');\n      }\n      if (opt_data.item.time) {\n        ie_open('span', null, null,\n            'class', 'reading-subtitle');\n          itext((goog.asserts.assert((opt_data.item.time < 60 ? opt_data.item.time + ' sec read' : Math.round(opt_data.item.time / 60) + ' min read') != null), opt_data.item.time < 60 ? opt_data.item.time + ' sec read' : Math.round(opt_data.item.time / 60) + ' min read'));\n        ie_close('span');\n      }\n      ie_open('svg', null, null,\n          'x', '0px',\n          'y', '0px',\n          'width', '36px',\n          'height', '36px',\n          'viewBox', '0 0 36 36');\n        ie_void('circle', null, null,\n            'fill', 'none',\n            'stroke-width', '2',\n            'cx', '18',\n            'cy', '18',\n            'r', '16',\n            'stroke-dasharray', '100 100',\n            'transform', 'rotate(-90 18 18)');\n      ie_close('svg');\n    ie_close('a');\n  ie_close('li');\n}\nexports.item = $item;\nif (goog.DEBUG) {\n  $item.soyTemplateName = 'ReadingProgress.item';\n}\n\nexports.render.params = [\"elementClasses\",\"items\"];\nexports.render.types = {\"elementClasses\":\"any\",\"items\":\"any\"};\nexports.item.params = [\"item\"];\nexports.item.types = {\"item\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass ReadingProgress extends Component {}\nSoy.register(ReadingProgress, templates);\nexport { ReadingProgress, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport core from 'metal';\nimport dom from 'metal-dom';\nimport Position from 'metal-position';\nimport State from 'metal-state';\n\n/**\n * Scrollspy utility.\n */\nclass Scrollspy extends State {\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor(opt_config) {\n\t\tsuper(opt_config);\n\n\t\t/**\n\t\t * Holds the regions cache.\n\t\t * @type {!Array}\n\t\t * @private\n\t\t * @default []\n\t\t */\n\t\tthis.regions = [];\n\n\t\t/**\n\t\t * Holds event handle that listens scroll shared event emitter proxy.\n\t\t * @type {!EventHandle}\n\t\t * @protected\n\t\t */\n\t\tthis.scrollHandle_ = dom.on(this.scrollElement, 'scroll', this.checkPosition.bind(this));\n\n\t\tthis.init();\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tthis.deactivateAll();\n\t\tthis.scrollHandle_.dispose();\n\t\tsuper.disposeInternal();\n\t}\n\n\t/**\n\t * Activates index matching element.\n\t * @param {number} index\n\t */\n\tactivate(index) {\n\t\tif (this.activeIndex >= 0) {\n\t\t\tthis.deactivate(this.activeIndex);\n\t\t}\n\t\tthis.activeIndex = index;\n\t\tdom.addClasses(this.getElementForIndex(index), this.activeClass);\n\t}\n\n\t/**\n\t * Checks position of elements and activate the one in region.\n\t */\n\tcheckPosition() {\n\t\tvar scrollHeight = this.getScrollHeight_();\n\t\tvar scrollTop = Position.getScrollTop(this.scrollElement);\n\n\t\tif (scrollHeight < scrollTop + this.offset) {\n\t\t\tthis.activate(this.regions.length - 1);\n\t\t\treturn;\n\t\t}\n\n\t\tvar index = this.findBestRegionAt_();\n\t\tif (index !== this.activeIndex) {\n\t\t\tif (index === -1) {\n\t\t\t\tthis.deactivateAll();\n\t\t\t} else {\n\t\t\t\tthis.activate(index);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Deactivates index matching element.\n\t * @param {number} index\n\t */\n\tdeactivate(index) {\n\t\tdom.removeClasses(this.getElementForIndex(index), this.activeClass);\n\t}\n\n\t/**\n\t * Deactivates all elements.\n\t */\n\tdeactivateAll() {\n\t\tfor (var i = 0; i < this.regions.length; i++) {\n\t\t\tthis.deactivate(i);\n\t\t}\n\t\tthis.activeIndex = -1;\n\t}\n\n\t/**\n\t * Finds best region to activate.\n\t * @return {number} The index of best region found.\n\t */\n\tfindBestRegionAt_() {\n\t\tvar index = -1;\n\t\tvar origin = this.getCurrentPosition();\n\t\tif (this.regions.length > 0 && origin >= this.regions[0].top) {\n\t\t\tfor (var i = 0; i < this.regions.length; i++) {\n\t\t\t\tvar region = this.regions[i];\n\t\t\t\tvar lastRegion = i === this.regions.length - 1;\n\t\t\t\tif ((origin >= region.top) && (lastRegion || (origin < this.regions[i + 1].top))) {\n\t\t\t\t\tindex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn index;\n\t}\n\n\t/**\n\t * Gets the current position in the page.\n\t * @return {number}\n\t */\n\tgetCurrentPosition() {\n\t\tvar scrollTop = Position.getScrollTop(this.scrollElement);\n\t\treturn scrollTop + this.offset + this.scrollElementRegion_.top;\n\t}\n\n\t/**\n\t * Returns the element that should be used for the link at the given index.\n\t * @param {number} index\n\t * @return {!Element}\n\t */\n\tgetElementForIndex(index) {\n\t\treturn this.resolveElement(this.regions[index].link);\n\t}\n\n\t/**\n\t * Gets the scroll height of `scrollElement`.\n\t * @return {number}\n\t * @protected\n\t */\n\tgetScrollHeight_() {\n\t\tvar scrollHeight = Position.getHeight(this.scrollElement);\n\t\tscrollHeight += this.scrollElementRegion_.top;\n\t\tscrollHeight -= Position.getClientHeight(this.scrollElement);\n\t\treturn scrollHeight;\n\t}\n\n\t/**\n\t * Initializes the behavior of scrollspy. It's important to have this as a\n\t * separate function so subclasses can override it (babel doesn't allow using\n\t * `this` on constructors before calling `super()`).\n\t */\n\tinit() {\n\t\tthis.refresh();\n\t\tthis.on('elementChanged', this.refresh);\n\t\tthis.on('offsetChanged', this.checkPosition);\n\t\tthis.on('scrollElementChanged', this.onScrollElementChanged_);\n\t\tthis.on('selectorChanged', this.refresh);\n\t}\n\n\t/**\n\t * Fired when the value of the `scrollElement` state changes.\n\t * Refreshes the spy and updates the event handler to listen to the new scroll element.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\tonScrollElementChanged_(event) {\n\t\tthis.refresh();\n\n\t\tthis.scrollHandle_.dispose();\n\t\tthis.scrollHandle_ = dom.on(event.newVal, 'scroll', this.checkPosition.bind(this));\n\t}\n\n\t/**\n\t * Refreshes all regions from document. Relevant when spying elements that\n\t * nodes can be added and removed.\n\t */\n\trefresh() {\n\t\t// Removes the \"active\" class from all current regions.\n\t\tthis.deactivateAll();\n\n\t\tthis.scrollElementRegion_ = Position.getRegion(this.scrollElement);\n\t\tthis.scrollHeight_ = this.getScrollHeight_();\n\n\t\tthis.regions = [];\n\t\tvar links = this.element.querySelectorAll(this.selector);\n\t\tvar scrollTop = Position.getScrollTop(this.scrollElement);\n\t\tfor (var i = 0; i < links.length; ++i) {\n\t\t\tvar link = links[i];\n\t\t\tif (link.hash && (link.hash.length > 1)) {\n\t\t\t\tvar element = document.getElementById(link.hash.substring(1));\n\t\t\t\tif (element) {\n\t\t\t\t\tvar region = Position.getRegion(element);\n\t\t\t\t\tthis.regions.push({\n\t\t\t\t\t\tlink: link,\n\t\t\t\t\t\ttop: region.top + scrollTop,\n\t\t\t\t\t\tbottom: region.bottom + scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.sortRegions_();\n\n\t\t// Removes the \"active\" class from all new regions and then activate the right one for\n\t\t// the current position.\n\t\tthis.deactivateAll();\n\t\tthis.checkPosition();\n\t}\n\n\t/**\n\t * Sorts regions from lower to higher on y-axis.\n\t * @protected\n\t */\n\tsortRegions_() {\n\t\tthis.regions.sort(function(a, b) {\n\t\t\treturn a.top - b.top;\n\t\t});\n\t}\n}\n\nScrollspy.STATE = {\n\t/**\n\t * Class to be used as active class.\n\t * @type {string}\n\t */\n\tactiveClass: {\n\t\tvalidator: core.isString,\n\t\tvalue: 'active'\n\t},\n\n\t/**\n\t * The index of the currently active link.\n\t * @type {number}\n\t */\n\tactiveIndex: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: -1\n\t},\n\n\t/**\n\t * Function that receives the matching element as argument and return\n\t * itself. Relevant when the `activeClass` must be applied to a different\n\t * element, e.g. a parentNode.\n\t * @type {function}\n\t * @default core.identityFunction\n\t */\n\tresolveElement: {\n\t\tvalidator: core.isFunction,\n\t\tvalue: core.identityFunction\n\t},\n\n\t/**\n\t * The scrollElement element to be used as scrollElement area for scrollspy.\n\t * The scrollElement is where the scroll event is listened from.\n\t * @type {Element|Window}\n\t */\n\tscrollElement: {\n\t\tsetter: dom.toElement,\n\t\tvalue: document\n\t},\n\n\t/**\n\t * Defines the offset that triggers scrollspy.\n\t * @type {number}\n\t * @default 0\n\t */\n\toffset: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: 0\n\t},\n\n\t/**\n\t * Element to be used as alignment reference of scrollspy.\n\t * @type {Element}\n\t */\n\telement: {\n\t\tsetter: dom.toElement\n\t},\n\n\t/**\n\t * Selector to query elements inside `element` to be activated.\n\t * @type {Element}\n\t * @default 'a'\n\t */\n\tselector: {\n\t\tvalidator: core.isString,\n\t\tvalue: 'a'\n\t}\n};\n\nexport default Scrollspy;\n","'use strict';\n\nimport core from 'metal';\nimport dom from 'metal-dom';\nimport Scrollspy from 'metal-scrollspy';\n\n/**\n * A Scrollspy implementation that also tracks the percentage of the text that\n * has already been covered by the scrolling, instead of just marking the one\n * being currently viewed.\n */\nclass ReadingProgressTracker extends Scrollspy {\n\t/**\n\t * Initializes the main behavior. This is being overriden instead of the\n\t * constructor because the events need to be attached before the `Scrollspy`\n\t * super class init code runs. Unfortunately, it's not possible to reference\n\t * `this` before calling `super` on ES2015 constructors (compilers like babel\n\t * throw errors).\n\t * @override\n\t */\n\tinit() {\n\t\tthis.on('activeIndexChanged', this.handleActiveIndexChanged);\n\t\tthis.on('progressChanged', this.handleProgressChanged);\n\n\t\tsuper.init();\n\t}\n\n\t/**\n\t * Overrides the original method from `Scrollspy` to also calculate the\n\t * reading progress of the currently active link.\n\t */\n\tcheckPosition() {\n\t\tsuper.checkPosition();\n\t\tthis.updateProgress();\n\t}\n\n\t/**\n\t * Handles the `activeIndexChanged` event. Removes reading progress information\n\t * from the previously active link and updates the markup of links according\n\t * to their completion state.\n\t * @param {!Object} data\n\t */\n\thandleActiveIndexChanged(data) {\n\t\tif (core.isDef(data.prevVal) && data.prevVal >= 0) {\n\t\t\tvar prevElement = this.getElementForIndex(data.prevVal);\n\t\t\tprevElement.removeAttribute('data-reading-progress');\n\t\t}\n\t\tthis.updateCompleted();\n\t}\n\n\t/**\n\t * Handles the `progressChanged` event. Updates the `data-reading-progress`\n\t * attribute of the currently active link.\n\t * @param {!Object} data\n\t */\n\thandleProgressChanged(data) {\n\t\tvar element = this.getElementForIndex(this.activeIndex);\n\t\telement.setAttribute('data-reading-progress', data.newVal);\n\t\tif (data.newVal < 100) {\n\t\t\tdom.removeClasses(element, this.completedClass);\n\t\t} else {\n\t\t\tdom.addClasses(element, this.completedClass);\n\t\t}\n\t}\n\n\t/**\n\t * Updates the links with the class specified by the `completedClass`\n\t * attribute, adding it to the links that have been scrolled through and\n\t * removing from the links that haven't.\n\t */\n\tupdateCompleted() {\n\t\tfor (var i = 0; i < this.regions.length; i++) {\n\t\t\tvar element = this.resolveElement(this.regions[i].link);\n\t\t\tif (i < this.activeIndex) {\n\t\t\t\tdom.addClasses(element, this.completedClass);\n\t\t\t} else {\n\t\t\t\tdom.removeClasses(element, this.completedClass);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Updates the current reading progress value.\n\t */\n\tupdateProgress() {\n\t\tvar index = this.activeIndex;\n\t\tif (index >= 0) {\n\t\t\tvar region = this.regions[index];\n\t\t\tvar position = this.getCurrentPosition();\n\t\t\tvar maxBottom = this.getScrollHeight_() + this.offset;\n\t\t\tvar bottom = Math.min(maxBottom, region.bottom);\n\t\t\tthis.progress = Math.min(\n\t\t\t\t(100 * (position - region.top)) / (bottom - region.top),\n\t\t\t\t100\n\t\t\t);\n\t\t}\n\t}\n}\n\n/**\n * ReadingProgressTracker' state config.\n * @type {!Object}\n */\nReadingProgressTracker.STATE = {\n\t/**\n\t * The CSS class that will be added to links that reach 100% percentage.\n\t * @type {string}\n\t */\n\tcompletedClass: {\n\t\tvalidator: core.isString,\n\t\tvalue: 'reading-progress-completed'\n\t},\n\n\t/**\n\t * The reading progress for the currently active link, in percentage.\n\t * @type {number}\n\t */\n\tprogress: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: 0\n\t}\n};\n\nexport default ReadingProgressTracker;\n","'use strict';\n\nimport { core, object } from 'metal';\nimport templates from './ReadingProgress.soy';\nimport Component from 'metal-component';\nimport ReadingProgressTracker from './ReadingProgressTracker';\nimport Soy from 'metal-soy';\n\n/**\n * This components renders a list of links to contents on the page. These links\n * show the reading progress for these contents, as well as the expected time\n * for reading them.\n */\nclass ReadingProgress extends Component {\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposed() {\n\t\tthis.tracker_ && this.tracker_.dispose();\n\t}\n\n\t/**\n\t * Generates any data that is missing from the given item config object.\n\t * @param {!Object}\n\t */\n\tgenerateItemMissingData_(item) {\n\t\tif (item.href[0] !== '#') {\n\t\t\t// We only generate data for items that use hash links, since we use\n\t\t\t// the contents of the referenced element for that.\n\t\t\treturn;\n\t\t}\n\n\t\tvar element = document.getElementById(item.href.substr(1));\n\t\tif (!item.title) {\n\t\t\titem.title = element.querySelector(this.titleSelector).textContent;\n\t\t}\n\t\tif (!item.time) {\n\t\t\tvar charCount = element.textContent.length;\n\t\t\titem.time = Math.round((charCount * 60) / 1500); // Assumes 1500 chars/min\n\t\t}\n\t}\n\n\t/**\n\t * Gets the `ReadingProgressTracker` instance being used.\n\t * @return {ReadingProgressTracker}\n\t */\n\tgetTracker() {\n\t\treturn this.tracker_;\n\t}\n\n\t/**\n\t * Handles the `rendered` lifecycle. Creates the `ReadingProgressTracker`\n\t * instance that will be used to calculate reading progress value used by the\n\t * ui.\n\t * @protected\n\t */\n\trendered(firstRender) {\n\t\tif (firstRender) {\n\t\t\tthis.tracker_ = new ReadingProgressTracker(object.mixin({\n\t\t\t\telement: this.element\n\t\t\t}, this.trackerConfig));\n\t\t\tthis.tracker_.on('progressChanged', this.updateProgress.bind(this));\n\t\t\tthis.updateProgress();\n\t\t}\n\t}\n\n\t/**\n\t * Setter function for the `items` attribute. Converts items to the expected\n\t * format, generating any info that is not given.\n\t * @param {!Array<string|!{href: string, title: ?string, time: ?string}>} items\n\t * @return {!{href: string, title: string, time: string}}\n\t * @protected\n\t */\n\tsetterItemsFn_(items) {\n\t\tfor (var i = 0; i < items.length; i++) {\n\t\t\tif (core.isString(items[i])) {\n\t\t\t\titems[i] = {\n\t\t\t\t\thref: items[i]\n\t\t\t\t};\n\t\t\t}\n\t\t\tthis.generateItemMissingData_(items[i]);\n\t\t}\n\t\treturn items;\n\t}\n\n\t/**\n\t * Updates the UI according to the new progress value.\n\t */\n\tupdateProgress() {\n\t\tvar activeIndex = this.tracker_.activeIndex;\n\t\tif (activeIndex >= 0) {\n\t\t\tvar link = this.tracker_.getElementForIndex(activeIndex);\n\t\t\tlink.querySelector('circle').setAttribute(\n\t\t\t\t'stroke-dashoffset',\n\t\t\t\t100 - this.tracker_.progress\n\t\t\t);\n\t\t}\n\t}\n}\n\nSoy.register(ReadingProgress, templates);\n\n/**\n * `ReadingProgress`'s state configuration.\n */\nReadingProgress.STATE = {\n\t/**\n\t * An array of items representing links to the elements in the page that this\n\t * component should track reading progress for. This can either be an array of\n\t * href strings, or an object with more specific configuration for each item,\n\t * as follows:\n\t *   - href: The link this item refers to.\n\t *   - title: Optional. The title of the item.\n\t *   - time: Optional. The expected time, in seconds, for reading this item.\n\t * Optional info that is not given will be generated by analizyng the contents\n\t * of the elements that are being linked to.\n\t * @type {!Array<string|!{href: string, title: ?string, time: ?string}>}\n\t */\n\titems: {\n\t\tsetter: 'setterItemsFn_',\n\t\tvalidator: Array.isArray\n\t},\n\n\t/**\n\t * The DOM selector to be used for finding the titles to be used by the items,\n\t * when they're not given via the `items` attribute.\n\t * @type {string}\n\t */\n\ttitleSelector: {\n\t\tvalidator: core.isString,\n\t\tvalue: 'h1'\n\t},\n\n\t/**\n\t * A configuration object to be used when creating the `ReadingProgressTracker`.\n\t * @type {Object}\n\t */\n\ttrackerConfig: {\n\t\tvalidator: core.isObject,\n\t\twriteOnce: true\n\t}\n};\n\nexport default ReadingProgress;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from ElectricReadingProgress.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace ElectricReadingProgress.\n * @public\n */\n\ngoog.module('ElectricReadingProgress.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  ie_open('div', null, null,\n      'class', 'affix-top' + (opt_data.elementClasses ? ' ' + opt_data.elementClasses : ''));\n    ie_void('div', null, null,\n        'ref', 'readingContainer');\n  ie_close('div');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'ElectricReadingProgress.render';\n}\n\nexports.render.params = [\"elementClasses\"];\nexports.render.types = {\"elementClasses\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass ElectricReadingProgress extends Component {}\nSoy.register(ElectricReadingProgress, templates);\nexport { ElectricReadingProgress, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Affix from 'metal-affix';\nimport Component from 'metal-component';\nimport core from 'metal';\nimport dom from 'metal-dom';\nimport ReadingProgress from 'metal-reading-progress';\nimport Soy from 'metal-soy';\n\nimport templates from './ElectricReadingProgress.soy';\n\nclass ElectricReadingProgress extends Component {\n\tattached() {\n\t\tthis.renderReadingProgress_();\n\t}\n\n\trenderReadingProgress_() {\n\t\tconst {\n\t\t\tarticleContainer,\n\t\t\tarticleSelector,\n\t\t\telement,\n\t\t\toffsetTop,\n\t\t\ttitleSelector\n\t\t} = this;\n\n\t\tif (articleContainer) {\n\t\t\tconst articles = articleContainer.querySelectorAll(articleSelector);\n\n\t\t\tconst articleIds = [].map.call(articles, article => {\n\t\t\t\treturn `#${article.id}`;\n\t\t\t});\n\n\t\t\tthis.progress = new metal.ReadingProgress({\n\t\t\t\titems: articleIds,\n\t\t\t\ttitleSelector: titleSelector,\n\t\t\t\ttrackerConfig: {\n\t\t\t\t\tactiveClass: 'reading',\n\t\t\t\t\tcompletedClass: 'read'\n\t\t\t\t}\n\t\t\t}, this.refs.readingContainer);\n\n\t\t\tthis.affix = new metal.Affix({\n\t\t\t\telement: element,\n\t\t\t\toffsetTop: offsetTop\n\t\t\t});\n\t\t}\n\t}\n};\n\nElectricReadingProgress.STATE = {\n\tarticleContainer: {\n\t\tsetter: dom.toElement,\n\t\tvalue: '.docs-guide'\n\t},\n\n\tarticleSelector: {\n\t\tvalidator: core.isString,\n\t\tvalue: 'article'\n\t},\n\n\toffsetTop: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: 230\n\t},\n\n\ttitleSelector: {\n\t\tvalidator: core.isString,\n\t\tvalue: 'h2'\n\t}\n};\n\nSoy.register(ElectricReadingProgress, templates);\n\nexport default ElectricReadingProgress;\n","'use strict';\n\n/**\n * Parses the given uri string into an object.\n * @param {*=} opt_uri Optional string URI to parse\n */\nfunction parseFromAnchor(opt_uri) {\n\tvar link = document.createElement('a');\n\tlink.href = opt_uri;\n\treturn {\n\t\thash: link.hash,\n\t\thostname: link.hostname,\n\t\tpassword: link.password,\n\t\tpathname: link.pathname[0] === '/' ? link.pathname : '/' + link.pathname,\n\t\tport: link.port,\n\t\tprotocol: link.protocol,\n\t\tsearch: link.search,\n\t\tusername: link.username\n\t};\n}\n\nexport default parseFromAnchor;\n","'use strict';\n\nimport { isFunction } from 'metal';\nimport parseFromAnchor from './parseFromAnchor';\n\n/**\n * Parses the given uri string into an object. The URL function will be used\n * when present, otherwise we'll fall back to the anchor node element.\n * @param {*=} opt_uri Optional string URI to parse\n */\nfunction parse(opt_uri) {\n\tif (isFunction(URL) && URL.length) {\n\t\treturn new URL(opt_uri);\n\t} else {\n\t\treturn parseFromAnchor(opt_uri);\n\t}\n}\n\nexport default parse;\n","'use strict';\n\nimport { Disposable } from 'metal';\n\n/**\n * A cached reference to the create function.\n */\nvar create = Object.create;\n\n/**\n * Case insensitive string Multimap implementation. Allows multiple values for\n * the same key name.\n * @extends {Disposable}\n */\nclass MultiMap extends Disposable {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.keys = create(null);\n\t\tthis.values = create(null);\n\t}\n\n\t/**\n\t * Adds value to a key name.\n\t * @param {string} name\n\t * @param {*} value\n\t * @chainable\n\t */\n\tadd(name, value) {\n\t\tthis.keys[name.toLowerCase()] = name;\n\t\tthis.values[name.toLowerCase()] = this.values[name.toLowerCase()] || [];\n\t\tthis.values[name.toLowerCase()].push(value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Clears map names and values.\n\t * @chainable\n\t */\n\tclear() {\n\t\tthis.keys = create(null);\n\t\tthis.values = create(null);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Checks if map contains a value to the key name.\n\t * @param {string} name\n\t * @return {boolean}\n\t * @chainable\n\t */\n\tcontains(name) {\n\t\treturn name.toLowerCase() in this.values;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tthis.values = null;\n\t}\n\n\t/**\n\t * Creates a `MultiMap` instance from the given object.\n\t * @param {!Object} obj\n\t * @return {!MultiMap}\n\t */\n\tstatic fromObject(obj) {\n\t\tvar map = new MultiMap();\n\t\tvar keys = Object.keys(obj);\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tmap.set(keys[i], obj[keys[i]]);\n\t\t}\n\t\treturn map;\n\t}\n\n\t/**\n\t * Gets the first added value from a key name.\n\t * @param {string} name\n\t * @return {*}\n\t * @chainable\n\t */\n\tget(name) {\n\t\tvar values = this.values[name.toLowerCase()];\n\t\tif (values) {\n\t\t\treturn values[0];\n\t\t}\n\t}\n\n\t/**\n\t * Gets all values from a key name.\n\t * @param {string} name\n\t * @return {Array.<*>}\n\t */\n\tgetAll(name) {\n\t\treturn this.values[name.toLowerCase()];\n\t}\n\n\t/**\n\t * Returns true if the map is empty, false otherwise.\n\t * @return {boolean}\n\t */\n\tisEmpty() {\n\t\treturn this.size() === 0;\n\t}\n\n\t/**\n\t * Gets array of key names.\n\t * @return {Array.<string>}\n\t */\n\tnames() {\n\t\treturn Object.keys(this.values).map((key) => this.keys[key]);\n\t}\n\n\t/**\n\t * Removes all values from a key name.\n\t * @param {string} name\n\t * @chainable\n\t */\n\tremove(name) {\n\t\tdelete this.keys[name.toLowerCase()];\n\t\tdelete this.values[name.toLowerCase()];\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the value of a key name. Relevant to replace the current values with\n\t * a new one.\n\t * @param {string} name\n\t * @param {*} value\n\t * @chainable\n\t */\n\tset(name, value) {\n\t\tthis.keys[name.toLowerCase()] = name;\n\t\tthis.values[name.toLowerCase()] = [value];\n\t\treturn this;\n\t}\n\n\t/**\n\t * Gets the size of the map key names.\n\t * @return {number}\n\t */\n\tsize() {\n\t\treturn this.names().length;\n\t}\n\n\t/**\n\t * Returns the parsed values as a string.\n\t * @return {string}\n\t */\n\ttoString() {\n\t\treturn JSON.stringify(this.values);\n\t}\n}\n\nexport default MultiMap;\n","'use strict';\n\nimport { array } from 'metal';\n\n/**\n * Generic tree node data structure with arbitrary number of child nodes.\n * @param {V} value Value.\n * @constructor\n */\nclass TreeNode {\n\n\tconstructor(value) {\n\t\t/**\n\t\t * The value.\n\t\t * @private {V}\n\t\t */\n\t\tthis.value_ = value;\n\n\t\t/**\n\t\t * Reference to the parent node or null if it has no parent.\n\t\t * @private {TreeNode}\n\t\t */\n\t\tthis.parent_ = null;\n\n\t\t/**\n\t\t * Child nodes or null in case of leaf node.\n\t\t * @private {Array<!TreeNode>}\n\t\t */\n\t\tthis.children_ = null;\n\t}\n\n\t/**\n\t * Appends a child node to this node.\n\t * @param {!TreeNode} child Orphan child node.\n\t */\n\taddChild(child) {\n\t\tassertChildHasNoParent(child);\n\t\tchild.setParent(this);\n\t\tthis.children_ = this.children_ || [];\n\t\tthis.children_.push(child);\n\t}\n\n\t/**\n\t * Tells whether this node is the ancestor of the given node.\n\t * @param {!TreeNode} node A node.\n\t * @return {boolean} Whether this node is the ancestor of {@code node}.\n\t */\n\tcontains(node) {\n\t\tlet current = node.getParent();\n\t\twhile (current) {\n\t\t\tif (current === this) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcurrent = current.getParent();\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * @return {!Array<TreeNode>} All ancestor nodes in bottom-up order.\n\t */\n\tgetAncestors() {\n\t\tlet ancestors = [];\n\t\tlet node = this.getParent();\n\t\twhile (node) {\n\t\t\tancestors.push(node);\n\t\t\tnode = node.getParent();\n\t\t}\n\t\treturn ancestors;\n\t}\n\n\t/**\n\t * Gets the child node of this node at the given index.\n\t * @param {number} index Child index.\n\t * @return {?TreeNode} The node at the given index\n\t * or null if not found.\n\t */\n\tgetChildAt(index) {\n\t\treturn this.getChildren()[index] || null;\n\t}\n\n\t/**\n\t * @return {?Array<!TreeNode>} Child nodes or null in case of leaf node.\n\t */\n\tgetChildren() {\n\t\treturn this.children_ || TreeNode.EMPTY_ARRAY;\n\t}\n\n\t/**\n\t * @return {number} The number of children.\n\t */\n\tgetChildCount() {\n\t\treturn this.getChildren().length;\n\t}\n\n\t/**\n\t * @return {number} The number of ancestors of the node.\n\t */\n\tgetDepth() {\n\t\tlet depth = 0;\n\t\tlet node = this;\n\t\twhile (node.getParent()) {\n\t\t\tdepth++;\n\t\t\tnode = node.getParent();\n\t\t}\n\t\treturn depth;\n\t}\n\n\t/**\n\t * @return {?TreeNode} Parent node or null if it has no parent.\n\t */\n\tgetParent() {\n\t\treturn this.parent_;\n\t}\n\n\t/**\n\t * @return {!TreeNode} The root of the tree structure, i.e. the farthest\n\t * ancestor of the node or the node itself if it has no parents.\n\t */\n\tgetRoot() {\n\t\tlet root = this;\n\t\twhile (root.getParent()) {\n\t\t\troot = root.getParent();\n\t\t}\n\t\treturn root;\n\t}\n\n\t/**\n\t * Gets the value.\n\t * @return {V} The value.\n\t */\n\tgetValue() {\n\t\treturn this.value_;\n\t}\n\n\t/**\n\t * @return {boolean} Whether the node is a leaf node.\n\t */\n\tisLeaf() {\n\t\treturn !this.getChildCount();\n\t}\n\n\t/**\n\t * Removes the given child node of this node.\n\t * @param {TreeNode} child The node to remove.\n\t * @return {TreeNode} The removed node if any, null otherwise.\n\t */\n\tremoveChild(child) {\n\t\tif (array.remove(this.getChildren(), child)) {\n\t\t\treturn child;\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * Sets the parent node of this node. The callers must ensure that the\n\t * parent node and only that has this node among its children.\n\t * @param {TreeNode} parent The parent to set. If null, the node will be\n\t * detached from the tree.\n\t * @protected\n\t */\n\tsetParent(parent) {\n\t\tthis.parent_ = parent;\n\t}\n\n\t/**\n\t * Traverses the subtree. The first callback starts with this node,\n\t * and visits the descendant nodes depth-first, in preorder.\n\t * The second callback, starts with deepest child then visits\n\t * the ancestor nodes depth-first, in postorder. E.g.\n\t *\n\t *  \t A\n\t *    / \\\n\t *   B   C\n\t *  /   / \\\n\t * D   E   F\n\t *\n\t * preorder -> ['A', 'B', 'D', 'C', 'E', 'F']\n\t * postorder -> ['D', 'B', 'E', 'F', 'C', 'A']\n\t *\n\t * @param {function=} opt_preorderFn The callback to execute when visiting a node.\n\t * @param {function=} opt_postorderFn The callback to execute before leaving a node.\n\t */\n\ttraverse(opt_preorderFn, opt_postorderFn) {\n\t\tif (opt_preorderFn) {\n\t\t\topt_preorderFn(this);\n\t\t}\n\t\tthis.getChildren().forEach((child) => child.traverse(opt_preorderFn, opt_postorderFn));\n\t\tif (opt_postorderFn) {\n\t\t\topt_postorderFn(this);\n\t\t}\n\t}\n\n}\n\n/**\n * Constant for empty array to avoid unnecessary allocations.\n * @private\n */\nTreeNode.EMPTY_ARRAY = [];\n\n/**\n * Asserts that child has no parent.\n * @param {TreeNode} child A child.\n * @private\n */\nconst assertChildHasNoParent = function(child) {\n\tif (child.getParent()) {\n\t\tthrow new Error('Cannot add child with parent.');\n\t}\n};\n\nexport default TreeNode;\n","'use strict';\n\nimport MultiMap from '../MultiMap';\nimport TreeNode from '../TreeNode';\n\nexport { MultiMap, TreeNode };\n","'use strict';\n\nimport { isDef, string } from 'metal';\nimport parse from './parse';\nimport { MultiMap } from 'metal-structs';\n\nvar parseFn_ = parse;\n\nclass Uri {\n\n\t/**\n\t * This class contains setters and getters for the parts of the URI.\n\t * The following figure displays an example URIs and their component parts.\n\t *\n\t *                                  path\n\t *\t                             ┌───┴────┐\n\t *\t  abc://example.com:123/path/data?key=value#fragid1\n\t *\t  └┬┘   └────┬────┘ └┬┘           └───┬───┘ └──┬──┘\n\t * protocol  hostname  port            search    hash\n\t *          └──────┬───────┘\n\t *                host\n\t *\n\t * @param {*=} opt_uri Optional string URI to parse\n\t * @constructor\n\t */\n\tconstructor(opt_uri = '') {\n\t\tthis.url = Uri.parse(this.maybeAddProtocolAndHostname_(opt_uri));\n\t}\n\n\t/**\n\t * Adds parameters to uri from a <code>MultiMap</code> as source.\n\t * @param {MultiMap} multimap The <code>MultiMap</code> containing the\n\t *   parameters.\n\t * @protected\n\t * @chainable\n\t */\n\taddParametersFromMultiMap(multimap) {\n\t\tmultimap.names().forEach((name) => {\n\t\t\tmultimap.getAll(name).forEach((value) => {\n\t\t\t\tthis.addParameterValue(name, value);\n\t\t\t});\n\t\t});\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds the value of the named query parameters.\n\t * @param {string} key The parameter to set.\n\t * @param {*} value The new value. Will be explicitly casted to String.\n\t * @chainable\n\t */\n\taddParameterValue(name, value) {\n\t\tthis.ensureQueryInitialized_();\n\t\tif (isDef(value)) {\n\t\t\tvalue = String(value);\n\t\t}\n\t\tthis.query.add(name, value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds the values of the named query parameter.\n\t * @param {string} key The parameter to set.\n\t * @param {*} value The new value.\n\t * @chainable\n\t */\n\taddParameterValues(name, values) {\n\t\tvalues.forEach((value) => this.addParameterValue(name, value));\n\t\treturn this;\n\t}\n\n\t/**\n\t * Ensures query internal map is initialized and synced with initial value\n\t * extracted from URI search part.\n\t * @protected\n\t */\n\tensureQueryInitialized_() {\n\t\tif (this.query) {\n\t\t\treturn;\n\t\t}\n\t\tthis.query = new MultiMap();\n\t\tvar search = this.url.search;\n\t\tif (search) {\n\t\t\tsearch.substring(1).split('&').forEach((param) => {\n\t\t\t\tvar [key, value] = param.split('=');\n\t\t\t\tif (isDef(value)) {\n\t\t\t\t\tvalue = Uri.urlDecode(value);\n\t\t\t\t}\n\t\t\t\tthis.addParameterValue(key, value);\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Gets the hash part of uri.\n\t * @return {string}\n\t */\n\tgetHash() {\n\t\treturn this.url.hash || '';\n\t}\n\n\t/**\n\t * Gets the host part of uri. E.g. <code>[hostname]:[port]</code>.\n\t * @return {string}\n\t */\n\tgetHost() {\n\t\tvar host = this.getHostname();\n\t\tif (host) {\n\t\t\tvar port = this.getPort();\n\t\t\tif (port && port !== '80') {\n\t\t\t\thost += ':' + port;\n\t\t\t}\n\t\t}\n\t\treturn host;\n\t}\n\n\t/**\n\t * Gets the hostname part of uri without protocol and port.\n\t * @return {string}\n\t */\n\tgetHostname() {\n\t\tvar hostname = this.url.hostname;\n\t\tif (hostname === Uri.HOSTNAME_PLACEHOLDER) {\n\t\t\treturn '';\n\t\t}\n\t\treturn hostname;\n\t}\n\n\t/**\n\t * Gets the origin part of uri. E.g. <code>http://[hostname]:[port]</code>.\n\t * @return {string}\n\t */\n\tgetOrigin() {\n\t\tvar host = this.getHost();\n\t\tif (host) {\n\t\t\treturn this.getProtocol() + '//' + host;\n\t\t}\n\t\treturn '';\n\t}\n\n\t/**\n\t * Returns the first value for a given parameter or undefined if the given\n\t * parameter name does not appear in the query string.\n\t * @param {string} paramName Unescaped parameter name.\n\t * @return {string|undefined} The first value for a given parameter or\n\t *   undefined if the given parameter name does not appear in the query\n\t *   string.\n\t */\n\tgetParameterValue(name) {\n\t\tthis.ensureQueryInitialized_();\n\t\treturn this.query.get(name);\n\t}\n\n\t/**\n\t * Returns the value<b>s</b> for a given parameter as a list of decoded\n\t * query parameter values.\n\t * @param {string} name The parameter to get values for.\n\t * @return {!Array<?>} The values for a given parameter as a list of decoded\n\t *   query parameter values.\n\t */\n\tgetParameterValues(name) {\n\t\tthis.ensureQueryInitialized_();\n\t\treturn this.query.getAll(name);\n\t}\n\n\t/**\n\t * Returns the name<b>s</b> of the parameters.\n\t * @return {!Array<string>} The names for the parameters as a list of\n\t *   strings.\n\t */\n\tgetParameterNames() {\n\t\tthis.ensureQueryInitialized_();\n\t\treturn this.query.names();\n\t}\n\n\t/**\n\t * Gets the function currently being used to parse URIs.\n\t * @return {!function()}\n\t */\n\tstatic getParseFn() {\n\t\treturn parseFn_;\n\t}\n\n\t/**\n\t * Gets the pathname part of uri.\n\t * @return {string}\n\t */\n\tgetPathname() {\n\t\treturn this.url.pathname;\n\t}\n\n\t/**\n\t * Gets the port number part of uri as string.\n\t * @return {string}\n\t */\n\tgetPort() {\n\t\treturn this.url.port;\n\t}\n\n\t/**\n\t * Gets the protocol part of uri. E.g. <code>http:</code>.\n\t * @return {string}\n\t */\n\tgetProtocol() {\n\t\treturn this.url.protocol;\n\t}\n\n\t/**\n\t * Gets the search part of uri. Search value is retrieved from query\n\t * parameters.\n\t * @return {string}\n\t */\n\tgetSearch() {\n\t\tvar search = '';\n\t\tvar querystring = '';\n\t\tthis.getParameterNames().forEach((name) => {\n\t\t\tthis.getParameterValues(name).forEach((value) => {\n\t\t\t\tquerystring += name;\n\t\t\t\tif (isDef(value)) {\n\t\t\t\t\tquerystring += '=' + encodeURIComponent(value);\n\t\t\t\t}\n\t\t\t\tquerystring += '&';\n\t\t\t});\n\t\t});\n\t\tquerystring = querystring.slice(0, -1);\n\t\tif (querystring) {\n\t\t\tsearch += '?' + querystring;\n\t\t}\n\t\treturn search;\n\t}\n\n\t/**\n\t * Checks if uri contains the parameter.\n\t * @param {string} name\n\t * @return {boolean}\n\t */\n\thasParameter(name) {\n\t\tthis.ensureQueryInitialized_();\n\t\treturn this.query.contains(name);\n\t}\n\n\t/**\n\t * Makes this URL unique by adding a random param to it. Useful for avoiding\n\t * cache.\n\t */\n\tmakeUnique() {\n\t\tthis.setParameterValue(Uri.RANDOM_PARAM, string.getRandomString());\n\t\treturn this;\n\t}\n\n\t/**\n\t * Maybe adds protocol and a hostname placeholder on a parial URI if needed.\n\t * Relevent for compatibility with <code>URL</code> native object.\n\t * @param {string=} opt_uri\n\t * @return {string} URI with protocol and hostname placeholder.\n\t */\n\tmaybeAddProtocolAndHostname_(opt_uri) {\n\t\tvar url = opt_uri;\n\t\tif (opt_uri.indexOf('://') === -1 &&\n\t\t\topt_uri.indexOf('javascript:') !== 0) { // jshint ignore:line\n\n\t\t\turl = Uri.DEFAULT_PROTOCOL;\n\t\t\tif (opt_uri[0] !== '/' || opt_uri[1] !== '/') {\n\t\t\t\turl += '//';\n\t\t\t}\n\n\t\t\tswitch (opt_uri.charAt(0)) {\n\t\t\t\tcase '.':\n\t\t\t\tcase '?':\n\t\t\t\tcase '#':\n\t\t\t\t\turl += Uri.HOSTNAME_PLACEHOLDER;\n\t\t\t\t\turl += '/';\n\t\t\t\t\turl += opt_uri;\n\t\t\t\t\tbreak;\n\t\t\t\tcase '':\n\t\t\t\tcase '/':\n\t\t\t\t\tif (opt_uri[1] !== '/') {\n\t\t\t\t\t\turl += Uri.HOSTNAME_PLACEHOLDER;\n\t\t\t\t\t}\n\t\t\t\t\turl += opt_uri;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\turl += opt_uri;\n\t\t\t}\n\t\t}\n\t\treturn url;\n\t}\n\n\t/**\n\t * Normalizes the parsed object to be in the expected standard.\n\t * @param {!Object}\n\t */\n\tstatic normalizeObject(parsed) {\n\t\tvar length = parsed.pathname ? parsed.pathname.length : 0;\n\t\tif (length > 1 && parsed.pathname[length - 1] === '/') {\n\t\t\tparsed.pathname = parsed.pathname.substr(0, length - 1);\n\t\t}\n\t\treturn parsed;\n\t}\n\n\t/**\n\t * Parses the given uri string into an object.\n\t * @param {*=} opt_uri Optional string URI to parse\n\t */\n\tstatic parse(opt_uri) {\n\t\treturn Uri.normalizeObject(parseFn_(opt_uri));\n\t}\n\n\t/**\n\t * Removes the named query parameter.\n\t * @param {string} name The parameter to remove.\n\t * @chainable\n\t */\n\tremoveParameter(name) {\n\t\tthis.ensureQueryInitialized_();\n\t\tthis.query.remove(name);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Removes uniqueness parameter of the uri.\n\t * @chainable\n\t */\n\tremoveUnique() {\n\t\tthis.removeParameter(Uri.RANDOM_PARAM);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the hash.\n\t * @param {string} hash\n\t * @chainable\n\t */\n\tsetHash(hash) {\n\t\tthis.url.hash = hash;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the hostname.\n\t * @param {string} hostname\n\t * @chainable\n\t */\n\tsetHostname(hostname) {\n\t\tthis.url.hostname = hostname;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the value of the named query parameters, clearing previous values\n\t * for that key.\n\t * @param {string} key The parameter to set.\n\t * @param {*} value The new value.\n\t * @chainable\n\t */\n\tsetParameterValue(name, value) {\n\t\tthis.removeParameter(name);\n\t\tthis.addParameterValue(name, value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the values of the named query parameters, clearing previous values\n\t * for that key.\n\t * @param {string} key The parameter to set.\n\t * @param {*} value The new value.\n\t * @chainable\n\t */\n\tsetParameterValues(name, values) {\n\t\tthis.removeParameter(name);\n\t\tvalues.forEach((value) => this.addParameterValue(name, value));\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the pathname.\n\t * @param {string} pathname\n\t * @chainable\n\t */\n\tsetPathname(pathname) {\n\t\tthis.url.pathname = pathname;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the port number.\n\t * @param {*} port Port number.\n\t * @chainable\n\t */\n\tsetPort(port) {\n\t\tthis.url.port = port;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the function that will be used for parsing the original string uri\n\t * into an object.\n\t * @param {!function()} parseFn\n\t */\n\tstatic setParseFn(parseFn) {\n\t\tparseFn_ = parseFn;\n\t}\n\n\t/**\n\t * Sets the protocol. If missing <code>http:</code> is used as default.\n\t * @param {string} protocol\n\t * @chainable\n\t */\n\tsetProtocol(protocol) {\n\t\tthis.url.protocol = protocol;\n\t\tif (this.url.protocol[this.url.protocol.length - 1] !== ':') {\n\t\t\tthis.url.protocol += ':';\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * @return {string} The string form of the url.\n\t * @override\n\t */\n\ttoString() {\n\t\tvar href = '';\n\t\tvar host = this.getHost();\n\t\tif (host) {\n\t\t\thref += this.getProtocol() + '//';\n\t\t}\n\t\thref += host + this.getPathname() + this.getSearch() + this.getHash();\n\t\treturn href;\n\t}\n\n\t/**\n\t * Joins the given paths.\n\t * @param {string} basePath\n\t * @param {...string} ...paths Any number of paths to be joined with the base url.\n\t * @static\n\t */\n\tstatic joinPaths(basePath, ...paths) {\n\t\tif (basePath.charAt(basePath.length - 1) === '/') {\n\t\t\tbasePath = basePath.substring(0, basePath.length - 1);\n\t\t}\n\t\tpaths = paths.map(path => path.charAt(0) === '/' ? path.substring(1) : path);\n\t\treturn [basePath].concat(paths).join('/').replace(/\\/$/, '');\n\t}\n\n\t/**\n\t * URL-decodes the string. We need to specially handle '+'s because\n\t * the javascript library doesn't convert them to spaces.\n\t * @param {string} str The string to url decode.\n\t * @return {string} The decoded {@code str}.\n\t */\n\tstatic urlDecode(str) {\n\t\treturn decodeURIComponent(str.replace(/\\+/g, ' '));\n\t}\n\n}\n\n/**\n * Default protocol value.\n * @type {string}\n * @default http:\n * @static\n */\nUri.DEFAULT_PROTOCOL = 'http:';\n\n/**\n * Hostname placeholder. Relevant to internal usage only.\n * @type {string}\n * @static\n */\nUri.HOSTNAME_PLACEHOLDER = 'hostname' + Date.now();\n\n/**\n * Name used by the param generated by `makeUnique`.\n * @type {string}\n * @static\n */\nUri.RANDOM_PARAM = 'zx';\n\nexport default Uri;\n","/*!\n * Promises polyfill from Google's Closure Library.\n *\n *      Copyright 2013 The Closure Library Authors. All Rights Reserved.\n *\n * NOTE(eduardo): Promise support is not ready on all supported browsers,\n * therefore metal-promise is temporarily using Google's promises as polyfill.\n * It supports cancellable promises and has clean and fast implementation.\n */\n\n'use strict';\n\nimport { isDef, isFunction, isObject } from 'metal';\nimport { async } from 'metal';\n\n/**\n * Provides a more strict interface for Thenables in terms of\n * http://promisesaplus.com for interop with {@see CancellablePromise}.\n *\n * @interface\n * @extends {IThenable.<TYPE>}\n * @template TYPE\n */\nvar Thenable = function() {};\n\n/**\n * Adds callbacks that will operate on the result of the Thenable, returning a\n * new child Promise.\n *\n * If the Thenable is fulfilled, the {@code onFulfilled} callback will be\n * invoked with the fulfillment value as argument, and the child Promise will\n * be fulfilled with the return value of the callback. If the callback throws\n * an exception, the child Promise will be rejected with the thrown value\n * instead.\n *\n * If the Thenable is rejected, the {@code onRejected} callback will be invoked\n * with the rejection reason as argument, and the child Promise will be rejected\n * with the return value of the callback or thrown value.\n *\n * @param {?(function(this:THIS, TYPE):\n *             (RESULT|IThenable.<RESULT>|Thenable))=} opt_onFulfilled A\n *     function that will be invoked with the fulfillment value if the Promise\n *     is fullfilled.\n * @param {?(function(*): *)=} opt_onRejected A function that will be invoked\n *     with the rejection reason if the Promise is rejected.\n * @param {THIS=} opt_context An optional context object that will be the\n *     execution context for the callbacks. By default, functions are executed\n *     with the default this.\n * @return {!CancellablePromise.<RESULT>} A new Promise that will receive the\n *     result of the fulfillment or rejection callback.\n * @template RESULT,THIS\n */\nThenable.prototype.then = function() {};\n\n\n/**\n * An expando property to indicate that an object implements\n * {@code Thenable}.\n *\n * {@see addImplementation}.\n *\n * @const\n */\nThenable.IMPLEMENTED_BY_PROP = '$goog_Thenable';\n\n\n/**\n * Marks a given class (constructor) as an implementation of Thenable, so\n * that we can query that fact at runtime. The class must have already\n * implemented the interface.\n * Exports a 'then' method on the constructor prototype, so that the objects\n * also implement the extern {@see Thenable} interface for interop with\n * other Promise implementations.\n * @param {function(new:Thenable,...[?])} ctor The class constructor. The\n *     corresponding class must have already implemented the interface.\n */\nThenable.addImplementation = function(ctor) {\n  ctor.prototype.then = ctor.prototype.then;\n  ctor.prototype.$goog_Thenable = true;\n};\n\n\n/**\n * @param {*} object\n * @return {boolean} Whether a given instance implements {@code Thenable}.\n *     The class/superclass of the instance must call {@code addImplementation}.\n */\nThenable.isImplementedBy = function(object) {\n  if (!object) {\n    return false;\n  }\n  try {\n    return !!object.$goog_Thenable;\n  } catch (e) {\n    // Property access seems to be forbidden.\n    return false;\n  }\n};\n\n\n/**\n * Like bind(), except that a 'this object' is not required. Useful when the\n * target function is already bound.\n *\n * Usage:\n * var g = partial(f, arg1, arg2);\n * g(arg3, arg4);\n *\n * @param {Function} fn A function to partially apply.\n * @param {...*} var_args Additional arguments that are partially applied to fn.\n * @return {!Function} A partially-applied form of the function bind() was\n *     invoked as a method of.\n */\nvar partial = function(fn) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  return function() {\n    // Clone the array (with slice()) and append additional arguments\n    // to the existing arguments.\n    var newArgs = args.slice();\n    newArgs.push.apply(newArgs, arguments);\n    return fn.apply(this, newArgs);\n  };\n};\n\n/**\n * Promises provide a result that may be resolved asynchronously. A Promise may\n * be resolved by being fulfilled or rejected with a value, which will be known\n * as the fulfillment value or the rejection reason. Whether fulfilled or\n * rejected, the Promise result is immutable once it is set.\n *\n * Promises may represent results of any type, including undefined. Rejection\n * reasons are typically Errors, but may also be of any type. Closure Promises\n * allow for optional type annotations that enforce that fulfillment values are\n * of the appropriate types at compile time.\n *\n * The result of a Promise is accessible by calling {@code then} and registering\n * {@code onFulfilled} and {@code onRejected} callbacks. Once the Promise\n * resolves, the relevant callbacks are invoked with the fulfillment value or\n * rejection reason as argument. Callbacks are always invoked in the order they\n * were registered, even when additional {@code then} calls are made from inside\n * another callback. A callback is always run asynchronously sometime after the\n * scope containing the registering {@code then} invocation has returned.\n *\n * If a Promise is resolved with another Promise, the first Promise will block\n * until the second is resolved, and then assumes the same result as the second\n * Promise. This allows Promises to depend on the results of other Promises,\n * linking together multiple asynchronous operations.\n *\n * This implementation is compatible with the Promises/A+ specification and\n * passes that specification's conformance test suite. A Closure Promise may be\n * resolved with a Promise instance (or sufficiently compatible Promise-like\n * object) created by other Promise implementations. From the specification,\n * Promise-like objects are known as \"Thenables\".\n *\n * @see http://promisesaplus.com/\n *\n * @param {function(\n *             this:RESOLVER_CONTEXT,\n *             function((TYPE|IThenable.<TYPE>|Thenable)),\n *             function(*)): void} resolver\n *     Initialization function that is invoked immediately with {@code resolve}\n *     and {@code reject} functions as arguments. The Promise is resolved or\n *     rejected with the first argument passed to either function.\n * @param {RESOLVER_CONTEXT=} opt_context An optional context for executing the\n *     resolver function. If unspecified, the resolver function will be executed\n *     in the default scope.\n * @constructor\n * @struct\n * @final\n * @implements {Thenable.<TYPE>}\n * @template TYPE,RESOLVER_CONTEXT\n */\nvar CancellablePromise = function(resolver, opt_context) {\n  /**\n   * The internal state of this Promise. Either PENDING, FULFILLED, REJECTED, or\n   * BLOCKED.\n   * @private {CancellablePromise.State_}\n   */\n  this.state_ = CancellablePromise.State_.PENDING;\n\n  /**\n   * The resolved result of the Promise. Immutable once set with either a\n   * fulfillment value or rejection reason.\n   * @private {*}\n   */\n  this.result_ = undefined;\n\n  /**\n   * For Promises created by calling {@code then()}, the originating parent.\n   * @private {CancellablePromise}\n   */\n  this.parent_ = null;\n\n  /**\n   * The list of {@code onFulfilled} and {@code onRejected} callbacks added to\n   * this Promise by calls to {@code then()}.\n   * @private {Array.<CancellablePromise.CallbackEntry_>}\n   */\n  this.callbackEntries_ = null;\n\n  /**\n   * Whether the Promise is in the queue of Promises to execute.\n   * @private {boolean}\n   */\n  this.executing_ = false;\n\n  if (CancellablePromise.UNHANDLED_REJECTION_DELAY > 0) {\n    /**\n     * A timeout ID used when the {@code UNHANDLED_REJECTION_DELAY} is greater\n     * than 0 milliseconds. The ID is set when the Promise is rejected, and\n     * cleared only if an {@code onRejected} callback is invoked for the\n     * Promise (or one of its descendants) before the delay is exceeded.\n     *\n     * If the rejection is not handled before the timeout completes, the\n     * rejection reason is passed to the unhandled rejection handler.\n     * @private {number}\n     */\n    this.unhandledRejectionId_ = 0;\n  } else if (CancellablePromise.UNHANDLED_REJECTION_DELAY === 0) {\n    /**\n     * When the {@code UNHANDLED_REJECTION_DELAY} is set to 0 milliseconds, a\n     * boolean that is set if the Promise is rejected, and reset to false if an\n     * {@code onRejected} callback is invoked for the Promise (or one of its\n     * descendants). If the rejection is not handled before the next timestep,\n     * the rejection reason is passed to the unhandled rejection handler.\n     * @private {boolean}\n     */\n    this.hadUnhandledRejection_ = false;\n  }\n\n  try {\n    var self = this;\n    resolver.call(\n      opt_context, function(value) {\n        self.resolve_(CancellablePromise.State_.FULFILLED, value);\n      }, function(reason) {\n        self.resolve_(CancellablePromise.State_.REJECTED, reason);\n      });\n  } catch (e) {\n    this.resolve_(CancellablePromise.State_.REJECTED, e);\n  }\n};\n\n/**\n * The delay in milliseconds before a rejected Promise's reason is passed to\n * the rejection handler. By default, the rejection handler rethrows the\n * rejection reason so that it appears in the developer console or\n * {@code window.onerror} handler.\n * Rejections are rethrown as quickly as possible by default. A negative value\n * disables rejection handling entirely.\n * @type {number}\n */\nCancellablePromise.UNHANDLED_REJECTION_DELAY = 0;\n\n\n/**\n * The possible internal states for a Promise. These states are not directly\n * observable to external callers.\n * @enum {number}\n * @private\n */\nCancellablePromise.State_ = {\n  /** The Promise is waiting for resolution. */\n  PENDING: 0,\n\n  /** The Promise is blocked waiting for the result of another Thenable. */\n  BLOCKED: 1,\n\n  /** The Promise has been resolved with a fulfillment value. */\n  FULFILLED: 2,\n\n  /** The Promise has been resolved with a rejection reason. */\n  REJECTED: 3\n};\n\n\n/**\n * Typedef for entries in the callback chain. Each call to {@code then},\n * {@code thenCatch}, or {@code thenAlways} creates an entry containing the\n * functions that may be invoked once the Promise is resolved.\n *\n * @typedef {{\n *   child: CancellablePromise,\n *   onFulfilled: function(*),\n *   onRejected: function(*)\n * }}\n * @private\n */\nCancellablePromise.CallbackEntry_ = null;\n\n\n/**\n * @param {(TYPE|Thenable.<TYPE>|Thenable)=} opt_value\n * @return {!CancellablePromise.<TYPE>} A new Promise that is immediately resolved\n *     with the given value.\n * @template TYPE\n */\nCancellablePromise.resolve = function(opt_value) {\n  return new CancellablePromise(function(resolve) {\n      resolve(opt_value);\n    });\n};\n\n\n/**\n * @param {*=} opt_reason\n * @return {!CancellablePromise} A new Promise that is immediately rejected with the\n *     given reason.\n */\nCancellablePromise.reject = function(opt_reason) {\n  return new CancellablePromise(function(resolve, reject) {\n      reject(opt_reason);\n    });\n};\n\n\n/**\n * @param {!Array.<!(Thenable.<TYPE>|Thenable)>} promises\n * @return {!CancellablePromise.<TYPE>} A Promise that receives the result of the\n *     first Promise (or Promise-like) input to complete.\n * @template TYPE\n */\nCancellablePromise.race = function(promises) {\n  return new CancellablePromise(function(resolve, reject) {\n      if (!promises.length) {\n        resolve(undefined);\n      }\n      for (var i = 0, promise; (promise = promises[i]); i++) {\n        promise.then(resolve, reject);\n      }\n    });\n};\n\n\n/**\n * @param {!Array.<!(Thenable.<TYPE>|Thenable)>} promises\n * @return {!CancellablePromise.<!Array.<TYPE>>} A Promise that receives a list of\n *     every fulfilled value once every input Promise (or Promise-like) is\n *     successfully fulfilled, or is rejected by the first rejection result.\n * @template TYPE\n */\nCancellablePromise.all = function(promises) {\n  return new CancellablePromise(function(resolve, reject) {\n      var toFulfill = promises.length;\n      var values = [];\n\n      if (!toFulfill) {\n        resolve(values);\n        return;\n      }\n\n      var onFulfill = function(index, value) {\n        toFulfill--;\n        values[index] = value;\n        if (toFulfill === 0) {\n          resolve(values);\n        }\n      };\n\n      var onReject = function(reason) {\n        reject(reason);\n      };\n\n      for (var i = 0, promise; (promise = promises[i]); i++) {\n        promise.then(partial(onFulfill, i), onReject);\n      }\n    });\n};\n\n\n/**\n * @param {!Array.<!(Thenable.<TYPE>|Thenable)>} promises\n * @return {!CancellablePromise.<TYPE>} A Promise that receives the value of\n *     the first input to be fulfilled, or is rejected with a list of every\n *     rejection reason if all inputs are rejected.\n * @template TYPE\n */\nCancellablePromise.firstFulfilled = function(promises) {\n  return new CancellablePromise(function(resolve, reject) {\n      var toReject = promises.length;\n      var reasons = [];\n\n      if (!toReject) {\n        resolve(undefined);\n        return;\n      }\n\n      var onFulfill = function(value) {\n        resolve(value);\n      };\n\n      var onReject = function(index, reason) {\n        toReject--;\n        reasons[index] = reason;\n        if (toReject === 0) {\n          reject(reasons);\n        }\n      };\n\n      for (var i = 0, promise; (promise = promises[i]); i++) {\n        promise.then(onFulfill, partial(onReject, i));\n      }\n    });\n};\n\n\n/**\n * Adds callbacks that will operate on the result of the Promise, returning a\n * new child Promise.\n *\n * If the Promise is fulfilled, the {@code onFulfilled} callback will be invoked\n * with the fulfillment value as argument, and the child Promise will be\n * fulfilled with the return value of the callback. If the callback throws an\n * exception, the child Promise will be rejected with the thrown value instead.\n *\n * If the Promise is rejected, the {@code onRejected} callback will be invoked\n * with the rejection reason as argument, and the child Promise will be rejected\n * with the return value (or thrown value) of the callback.\n *\n * @override\n */\nCancellablePromise.prototype.then = function(opt_onFulfilled, opt_onRejected, opt_context) {\n  return this.addChildPromise_(\n    isFunction(opt_onFulfilled) ? opt_onFulfilled : null,\n    isFunction(opt_onRejected) ? opt_onRejected : null,\n    opt_context);\n};\nThenable.addImplementation(CancellablePromise);\n\n\n/**\n * Adds a callback that will be invoked whether the Promise is fulfilled or\n * rejected. The callback receives no argument, and no new child Promise is\n * created. This is useful for ensuring that cleanup takes place after certain\n * asynchronous operations. Callbacks added with {@code thenAlways} will be\n * executed in the same order with other calls to {@code then},\n * {@code thenAlways}, or {@code thenCatch}.\n *\n * Since it does not produce a new child Promise, cancellation propagation is\n * not prevented by adding callbacks with {@code thenAlways}. A Promise that has\n * a cleanup handler added with {@code thenAlways} will be canceled if all of\n * its children created by {@code then} (or {@code thenCatch}) are canceled.\n *\n * @param {function(this:THIS): void} onResolved A function that will be invoked\n *     when the Promise is resolved.\n * @param {THIS=} opt_context An optional context object that will be the\n *     execution context for the callbacks. By default, functions are executed\n *     in the global scope.\n * @return {!CancellablePromise.<TYPE>} This Promise, for chaining additional calls.\n * @template THIS\n */\nCancellablePromise.prototype.thenAlways = function(onResolved, opt_context) {\n  var callback = function() {\n    try {\n      // Ensure that no arguments are passed to onResolved.\n      onResolved.call(opt_context);\n    } catch (err) {\n      CancellablePromise.handleRejection_.call(null, err);\n    }\n  };\n\n  this.addCallbackEntry_({\n    child: null,\n    onRejected: callback,\n    onFulfilled: callback\n  });\n  return this;\n};\n\n\n/**\n * Adds a callback that will be invoked only if the Promise is rejected. This\n * is equivalent to {@code then(null, onRejected)}.\n *\n * @param {!function(this:THIS, *): *} onRejected A function that will be\n *     invoked with the rejection reason if the Promise is rejected.\n * @param {THIS=} opt_context An optional context object that will be the\n *     execution context for the callbacks. By default, functions are executed\n *     in the global scope.\n * @return {!CancellablePromise} A new Promise that will receive the result of the\n *     callback.\n * @template THIS\n */\nCancellablePromise.prototype.thenCatch = function(onRejected, opt_context) {\n  return this.addChildPromise_(null, onRejected, opt_context);\n};\n\n/**\n * Alias of {@link CancellablePromise.prototype.thenCatch}\n */\nCancellablePromise.prototype.catch = CancellablePromise.prototype.thenCatch;\n\n\n/**\n * Cancels the Promise if it is still pending by rejecting it with a cancel\n * Error. No action is performed if the Promise is already resolved.\n *\n * All child Promises of the canceled Promise will be rejected with the same\n * cancel error, as with normal Promise rejection. If the Promise to be canceled\n * is the only child of a pending Promise, the parent Promise will also be\n * canceled. Cancellation may propagate upward through multiple generations.\n *\n * @param {string=} opt_message An optional debugging message for describing the\n *     cancellation reason.\n */\nCancellablePromise.prototype.cancel = function(opt_message) {\n  if (this.state_ === CancellablePromise.State_.PENDING) {\n    async.run(function() {\n      var err = new CancellablePromise.CancellationError(opt_message);\n      err.IS_CANCELLATION_ERROR = true;\n      this.cancelInternal_(err);\n    }, this);\n  }\n};\n\n\n/**\n * Cancels this Promise with the given error.\n *\n * @param {!Error} err The cancellation error.\n * @private\n */\nCancellablePromise.prototype.cancelInternal_ = function(err) {\n  if (this.state_ === CancellablePromise.State_.PENDING) {\n    if (this.parent_) {\n      // Cancel the Promise and remove it from the parent's child list.\n      this.parent_.cancelChild_(this, err);\n    } else {\n      this.resolve_(CancellablePromise.State_.REJECTED, err);\n    }\n  }\n};\n\n\n/**\n * Cancels a child Promise from the list of callback entries. If the Promise has\n * not already been resolved, reject it with a cancel error. If there are no\n * other children in the list of callback entries, propagate the cancellation\n * by canceling this Promise as well.\n *\n * @param {!CancellablePromise} childPromise The Promise to cancel.\n * @param {!Error} err The cancel error to use for rejecting the Promise.\n * @private\n */\nCancellablePromise.prototype.cancelChild_ = function(childPromise, err) {\n  if (!this.callbackEntries_) {\n    return;\n  }\n  var childCount = 0;\n  var childIndex = -1;\n\n  // Find the callback entry for the childPromise, and count whether there are\n  // additional child Promises.\n  for (var i = 0, entry; (entry = this.callbackEntries_[i]); i++) {\n    var child = entry.child;\n    if (child) {\n      childCount++;\n      if (child === childPromise) {\n        childIndex = i;\n      }\n      if (childIndex >= 0 && childCount > 1) {\n        break;\n      }\n    }\n  }\n\n  // If the child Promise was the only child, cancel this Promise as well.\n  // Otherwise, reject only the child Promise with the cancel error.\n  if (childIndex >= 0) {\n    if (this.state_ === CancellablePromise.State_.PENDING && childCount === 1) {\n      this.cancelInternal_(err);\n    } else {\n      var callbackEntry = this.callbackEntries_.splice(childIndex, 1)[0];\n      this.executeCallback_(\n        callbackEntry, CancellablePromise.State_.REJECTED, err);\n    }\n  }\n};\n\n\n/**\n * Adds a callback entry to the current Promise, and schedules callback\n * execution if the Promise has already been resolved.\n *\n * @param {CancellablePromise.CallbackEntry_} callbackEntry Record containing\n *     {@code onFulfilled} and {@code onRejected} callbacks to execute after\n *     the Promise is resolved.\n * @private\n */\nCancellablePromise.prototype.addCallbackEntry_ = function(callbackEntry) {\n  if ((!this.callbackEntries_ || !this.callbackEntries_.length) &&\n    (this.state_ === CancellablePromise.State_.FULFILLED ||\n    this.state_ === CancellablePromise.State_.REJECTED)) {\n    this.scheduleCallbacks_();\n  }\n  if (!this.callbackEntries_) {\n    this.callbackEntries_ = [];\n  }\n  this.callbackEntries_.push(callbackEntry);\n};\n\n\n/**\n * Creates a child Promise and adds it to the callback entry list. The result of\n * the child Promise is determined by the state of the parent Promise and the\n * result of the {@code onFulfilled} or {@code onRejected} callbacks as\n * specified in the Promise resolution procedure.\n *\n * @see http://promisesaplus.com/#the__method\n *\n * @param {?function(this:THIS, TYPE):\n *          (RESULT|CancellablePromise.<RESULT>|Thenable)} onFulfilled A callback that\n *     will be invoked if the Promise is fullfilled, or null.\n * @param {?function(this:THIS, *): *} onRejected A callback that will be\n *     invoked if the Promise is rejected, or null.\n * @param {THIS=} opt_context An optional execution context for the callbacks.\n *     in the default calling context.\n * @return {!CancellablePromise} The child Promise.\n * @template RESULT,THIS\n * @private\n */\nCancellablePromise.prototype.addChildPromise_ = function(\nonFulfilled, onRejected, opt_context) {\n\n  var callbackEntry = {\n    child: null,\n    onFulfilled: null,\n    onRejected: null\n  };\n\n  callbackEntry.child = new CancellablePromise(function(resolve, reject) {\n    // Invoke onFulfilled, or resolve with the parent's value if absent.\n    callbackEntry.onFulfilled = onFulfilled ? function(value) {\n      try {\n        var result = onFulfilled.call(opt_context, value);\n        resolve(result);\n      } catch (err) {\n        reject(err);\n      }\n    } : resolve;\n\n    // Invoke onRejected, or reject with the parent's reason if absent.\n    callbackEntry.onRejected = onRejected ? function(reason) {\n      try {\n        var result = onRejected.call(opt_context, reason);\n        if (!isDef(result) && reason.IS_CANCELLATION_ERROR) {\n          // Propagate cancellation to children if no other result is returned.\n          reject(reason);\n        } else {\n          resolve(result);\n        }\n      } catch (err) {\n        reject(err);\n      }\n    } : reject;\n  });\n\n  callbackEntry.child.parent_ = this;\n  this.addCallbackEntry_(\n    /** @type {CancellablePromise.CallbackEntry_} */ (callbackEntry));\n  return callbackEntry.child;\n};\n\n\n/**\n * Unblocks the Promise and fulfills it with the given value.\n *\n * @param {TYPE} value\n * @private\n */\nCancellablePromise.prototype.unblockAndFulfill_ = function(value) {\n  if (this.state_ !== CancellablePromise.State_.BLOCKED) {\n    throw new Error('CancellablePromise is not blocked.');\n  }\n  this.state_ = CancellablePromise.State_.PENDING;\n  this.resolve_(CancellablePromise.State_.FULFILLED, value);\n};\n\n\n/**\n * Unblocks the Promise and rejects it with the given rejection reason.\n *\n * @param {*} reason\n * @private\n */\nCancellablePromise.prototype.unblockAndReject_ = function(reason) {\n  if (this.state_ !== CancellablePromise.State_.BLOCKED) {\n    throw new Error('CancellablePromise is not blocked.');\n  }\n  this.state_ = CancellablePromise.State_.PENDING;\n  this.resolve_(CancellablePromise.State_.REJECTED, reason);\n};\n\n\n/**\n * Attempts to resolve a Promise with a given resolution state and value. This\n * is a no-op if the given Promise has already been resolved.\n *\n * If the given result is a Thenable (such as another Promise), the Promise will\n * be resolved with the same state and result as the Thenable once it is itself\n * resolved.\n *\n * If the given result is not a Thenable, the Promise will be fulfilled or\n * rejected with that result based on the given state.\n *\n * @see http://promisesaplus.com/#the_promise_resolution_procedure\n *\n * @param {CancellablePromise.State_} state\n * @param {*} x The result to apply to the Promise.\n * @private\n */\nCancellablePromise.prototype.resolve_ = function(state, x) {\n  if (this.state_ !== CancellablePromise.State_.PENDING) {\n    return;\n  }\n\n  if (this === x) {\n    state = CancellablePromise.State_.REJECTED;\n    x = new TypeError('CancellablePromise cannot resolve to itself');\n\n  } else if (Thenable.isImplementedBy(x)) {\n    x = /** @type {!Thenable} */ (x);\n    this.state_ = CancellablePromise.State_.BLOCKED;\n    x.then(this.unblockAndFulfill_, this.unblockAndReject_, this);\n    return;\n\n  } else if (isObject(x)) {\n    try {\n      var then = x.then;\n      if (isFunction(then)) {\n        this.tryThen_(x, then);\n        return;\n      }\n    } catch (e) {\n      state = CancellablePromise.State_.REJECTED;\n      x = e;\n    }\n  }\n\n  this.result_ = x;\n  this.state_ = state;\n  this.scheduleCallbacks_();\n\n  if (state === CancellablePromise.State_.REJECTED && !x.IS_CANCELLATION_ERROR) {\n    CancellablePromise.addUnhandledRejection_(this, x);\n  }\n};\n\n\n/**\n * Attempts to call the {@code then} method on an object in the hopes that it is\n * a Promise-compatible instance. This allows interoperation between different\n * Promise implementations, however a non-compliant object may cause a Promise\n * to hang indefinitely. If the {@code then} method throws an exception, the\n * dependent Promise will be rejected with the thrown value.\n *\n * @see http://promisesaplus.com/#point-70\n *\n * @param {Thenable} thenable An object with a {@code then} method that may be\n *     compatible with the Promise/A+ specification.\n * @param {!Function} then The {@code then} method of the Thenable object.\n * @private\n */\nCancellablePromise.prototype.tryThen_ = function(thenable, then) {\n  this.state_ = CancellablePromise.State_.BLOCKED;\n  var promise = this;\n  var called = false;\n\n  var resolve = function(value) {\n    if (!called) {\n      called = true;\n      promise.unblockAndFulfill_(value);\n    }\n  };\n\n  var reject = function(reason) {\n    if (!called) {\n      called = true;\n      promise.unblockAndReject_(reason);\n    }\n  };\n\n  try {\n    then.call(thenable, resolve, reject);\n  } catch (e) {\n    reject(e);\n  }\n};\n\n\n/**\n * Executes the pending callbacks of a resolved Promise after a timeout.\n *\n * Section 2.2.4 of the Promises/A+ specification requires that Promise\n * callbacks must only be invoked from a call stack that only contains Promise\n * implementation code, which we accomplish by invoking callback execution after\n * a timeout. If {@code startExecution_} is called multiple times for the same\n * Promise, the callback chain will be evaluated only once. Additional callbacks\n * may be added during the evaluation phase, and will be executed in the same\n * event loop.\n *\n * All Promises added to the waiting list during the same browser event loop\n * will be executed in one batch to avoid using a separate timeout per Promise.\n *\n * @private\n */\nCancellablePromise.prototype.scheduleCallbacks_ = function() {\n  if (!this.executing_) {\n    this.executing_ = true;\n    async.run(this.executeCallbacks_, this);\n  }\n};\n\n\n/**\n * Executes all pending callbacks for this Promise.\n *\n * @private\n */\nCancellablePromise.prototype.executeCallbacks_ = function() {\n  while (this.callbackEntries_ && this.callbackEntries_.length) {\n    var entries = this.callbackEntries_;\n    this.callbackEntries_ = [];\n\n    for (var i = 0; i < entries.length; i++) {\n      this.executeCallback_(entries[i], this.state_, this.result_);\n    }\n  }\n  this.executing_ = false;\n};\n\n\n/**\n * Executes a pending callback for this Promise. Invokes an {@code onFulfilled}\n * or {@code onRejected} callback based on the resolved state of the Promise.\n *\n * @param {!CancellablePromise.CallbackEntry_} callbackEntry An entry containing the\n *     onFulfilled and/or onRejected callbacks for this step.\n * @param {CancellablePromise.State_} state The resolution status of the Promise,\n *     either FULFILLED or REJECTED.\n * @param {*} result The resolved result of the Promise.\n * @private\n */\nCancellablePromise.prototype.executeCallback_ = function(\ncallbackEntry, state, result) {\n  if (state === CancellablePromise.State_.FULFILLED) {\n    callbackEntry.onFulfilled(result);\n  } else {\n    this.removeUnhandledRejection_();\n    callbackEntry.onRejected(result);\n  }\n};\n\n\n/**\n * Marks this rejected Promise as having being handled. Also marks any parent\n * Promises in the rejected state as handled. The rejection handler will no\n * longer be invoked for this Promise (if it has not been called already).\n *\n * @private\n */\nCancellablePromise.prototype.removeUnhandledRejection_ = function() {\n  var p;\n  if (CancellablePromise.UNHANDLED_REJECTION_DELAY > 0) {\n    for (p = this; p && p.unhandledRejectionId_; p = p.parent_) {\n      clearTimeout(p.unhandledRejectionId_);\n      p.unhandledRejectionId_ = 0;\n    }\n  } else if (CancellablePromise.UNHANDLED_REJECTION_DELAY === 0) {\n    for (p = this; p && p.hadUnhandledRejection_; p = p.parent_) {\n      p.hadUnhandledRejection_ = false;\n    }\n  }\n};\n\n\n/**\n * Marks this rejected Promise as unhandled. If no {@code onRejected} callback\n * is called for this Promise before the {@code UNHANDLED_REJECTION_DELAY}\n * expires, the reason will be passed to the unhandled rejection handler. The\n * handler typically rethrows the rejection reason so that it becomes visible in\n * the developer console.\n *\n * @param {!CancellablePromise} promise The rejected Promise.\n * @param {*} reason The Promise rejection reason.\n * @private\n */\nCancellablePromise.addUnhandledRejection_ = function(promise, reason) {\n  if (CancellablePromise.UNHANDLED_REJECTION_DELAY > 0) {\n    promise.unhandledRejectionId_ = setTimeout(function() {\n      CancellablePromise.handleRejection_.call(null, reason);\n    }, CancellablePromise.UNHANDLED_REJECTION_DELAY);\n\n  } else if (CancellablePromise.UNHANDLED_REJECTION_DELAY === 0) {\n    promise.hadUnhandledRejection_ = true;\n    async.run(function() {\n      if (promise.hadUnhandledRejection_) {\n        CancellablePromise.handleRejection_.call(null, reason);\n      }\n    });\n  }\n};\n\n\n/**\n * A method that is invoked with the rejection reasons for Promises that are\n * rejected but have no {@code onRejected} callbacks registered yet.\n * @type {function(*)}\n * @private\n */\nCancellablePromise.handleRejection_ = async.throwException;\n\n\n/**\n * Sets a handler that will be called with reasons from unhandled rejected\n * Promises. If the rejected Promise (or one of its descendants) has an\n * {@code onRejected} callback registered, the rejection will be considered\n * handled, and the rejection handler will not be called.\n *\n * By default, unhandled rejections are rethrown so that the error may be\n * captured by the developer console or a {@code window.onerror} handler.\n *\n * @param {function(*)} handler A function that will be called with reasons from\n *     rejected Promises. Defaults to {@code async.throwException}.\n */\nCancellablePromise.setUnhandledRejectionHandler = function(handler) {\n  CancellablePromise.handleRejection_ = handler;\n};\n\n\n\n/**\n * Error used as a rejection reason for canceled Promises.\n *\n * @param {string=} opt_message\n * @constructor\n * @extends {Error}\n * @final\n */\nCancellablePromise.CancellationError = class extends Error {\n  constructor(opt_message) {\n     super(opt_message);\n\n     if (opt_message) {\n       this.message = opt_message;\n     }\n   }\n};\n\n/** @override */\nCancellablePromise.CancellationError.prototype.name = 'cancel';\n\nexport {CancellablePromise};\nexport default CancellablePromise;\n","'use strict';\n\nimport { isDef, isDefAndNotNull } from 'metal';\nimport Uri from 'metal-uri';\nimport { CancellablePromise as Promise } from 'metal-promise';\n\nclass Ajax {\n\n\t/**\n\t * XmlHttpRequest's getAllResponseHeaders() method returns a string of\n\t * response headers according to the format described on the spec:\n\t * {@link http://www.w3.org/TR/XMLHttpRequest/#the-getallresponseheaders-method}.\n\t * This method parses that string into a user-friendly name/value pair\n\t * object.\n\t * @param {string} allHeaders All headers as string.\n\t * @return {!Array.<Object<string, string>>}\n\t */\n\tstatic parseResponseHeaders(allHeaders) {\n\t\tvar headers = [];\n\t\tif (!allHeaders) {\n\t\t\treturn headers;\n\t\t}\n\t\tvar pairs = allHeaders.split('\\u000d\\u000a');\n\t\tfor (var i = 0; i < pairs.length; i++) {\n\t\t\tvar index = pairs[i].indexOf('\\u003a\\u0020');\n\t\t\tif (index > 0) {\n\t\t\t\tvar name = pairs[i].substring(0, index);\n\t\t\t\tvar value = pairs[i].substring(index + 2);\n\t\t\t\theaders.push({\n\t\t\t\t\tname: name,\n\t\t\t\t\tvalue: value\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn headers;\n\t}\n\n\t/**\n\t * Requests the url using XMLHttpRequest.\n\t * @param {!string} url\n\t * @param {!string} method\n\t * @param {?string} body\n\t * @param {MultiMap=} opt_headers\n\t * @param {MultiMap=} opt_params\n\t * @param {number=} opt_timeout\n\t * @param {boolean=} opt_sync\n\t * @param {boolean=} opt_withCredentials\n\t * @return {Promise} Deferred ajax request.\n\t * @protected\n\t */\n\tstatic request(url, method, body, opt_headers, opt_params, opt_timeout, opt_sync, opt_withCredentials) {\n\t\turl = url || '';\n\t\tmethod = method || 'GET';\n\n\t\tvar request = new XMLHttpRequest();\n\n\t\tvar promise = new Promise(function(resolve, reject) {\n\t\t\trequest.onload = function() {\n\t\t\t\tif (request.aborted) {\n\t\t\t\t\trequest.onerror();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tresolve(request);\n\t\t\t};\n\t\t\trequest.onerror = function() {\n\t\t\t\tvar error = new Error('Request error');\n\t\t\t\terror.request = request;\n\t\t\t\treject(error);\n\t\t\t};\n\t\t}).thenCatch(function(reason) {\n\t\t\trequest.abort();\n\t\t\tthrow reason;\n\t\t}).thenAlways(function() {\n\t\t\tclearTimeout(timeout);\n\t\t});\n\n\t\tif (opt_params) {\n\t\t\turl = new Uri(url).addParametersFromMultiMap(opt_params).toString();\n\t\t}\n\n\t\trequest.open(method, url, !opt_sync);\n\n\t\tif (opt_withCredentials) {\n\t\t\trequest.withCredentials = true;\n\t\t}\n\n\t\tif (opt_headers) {\n\t\t\topt_headers.names().forEach(function(name) {\n\t\t\t\trequest.setRequestHeader(name, opt_headers.getAll(name).join(', '));\n\t\t\t});\n\t\t}\n\n\t\trequest.send(isDef(body) ? body : null);\n\n\t\tif (isDefAndNotNull(opt_timeout)) {\n\t\t\tvar timeout = setTimeout(function() {\n\t\t\t\tpromise.cancel('Request timeout');\n\t\t\t}, opt_timeout);\n\t\t}\n\n\t\treturn promise;\n\t}\n\n}\n\nexport default Ajax;\n","'use strict';\n\nimport ajax from 'metal-ajax';\nimport Component from 'metal-component';\nimport core from 'metal';\nimport { CancellablePromise as Promise } from 'metal-promise';\n\nclass ElectricSearchBase extends Component {\n\tattached() {\n\t\tthis.on('queryChanged', this.handleQueryChange_.bind(this));\n\t}\n\n\tmatchesQuery_(data, query) {\n\t\tconst {childrenOnly} = this;\n\t\tconst path = this.path || location.pathname;\n\n\t\tlet {content, description, hidden, title, url} = data;\n\n\t\tif (childrenOnly && url.indexOf(path) !== 0 && url !== path) {\n\t\t\treturn false;\n\t\t}\n\n\t\tcontent = content ? content.toLowerCase() : '';\n\t\tdescription = description ? description.toLowerCase() : '';\n\t\ttitle = title ? title.toLowerCase() : '';\n\n\t\treturn !hidden && (title.indexOf(query) > -1 ||\n\t\t\tdescription.indexOf(query) > -1 ||\n\t\t\tcontent.indexOf(query) > -1);\n\t}\n\n\tfilterResults_(data, query) {\n\t\tconst {children} = data;\n\n\t\tlet results = [];\n\n\t\tif (this.matchesQuery_(data, query)) {\n\t\t\tresults.push(data);\n\t\t}\n\n\t\tif (children) {\n\t\t\tchildren.forEach(child => {\n\t\t\t\tresults = results.concat(this.filterResults_(child, query));\n\t\t\t});\n\t\t}\n\n\t\treturn results;\n\t}\n\n\thandleQueryChange_({newVal}) {\n\t\tconst instance = this;\n\n\t\tthis.search_(newVal)\n\t\t\t.then(results => {\n\t\t\t\tinstance.results = results;\n\t\t\t});\n\t}\n\n\tsearch_(query) {\n\t\tconst instance = this;\n\n\t\treturn Promise.resolve(this.data)\n\t\t\t.then(data => {\n\t\t\t\tif (data) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn ajax.request('/site.json')\n\t\t\t\t\t\tthen(res)\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(data => {\n\t\t\t\tif (data.response) {\n\t\t\t\t\tdata = JSON.parse(data.response).index;\n\n\t\t\t\t\tinstance.data = data;\n\t\t\t\t}\n\n\t\t\t\tconst {maxResults} = instance;\n\n\t\t\t\tlet results = [];\n\n\t\t\t\tif (data && query) {\n\t\t\t\t\tresults = instance.filterResults_(data, query.toLowerCase());\n\n\t\t\t\t\tif (results.length > maxResults) {\n\t\t\t\t\t\tresults = results.slice(0, maxResults);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn results;\n\t\t\t});\n\t}\n};\n\nElectricSearchBase.STATE = {\n\tchildrenOnly: {\n\t\tvalidator: core.isBoolean,\n\t\tvalue: true\n\t},\n\n\tdata: {\n\t\tvalidator: core.isObject\n\t},\n\n\tmaxResults: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: 4\n\t},\n\n\tpath: {\n\t\tvalidator: core.isString,\n\t\tvalue: null\n\t},\n\n\tquery: {\n\t\tvalidator: core.isString,\n\t\tvalue: ''\n\t},\n\n\tresults: {\n\t\tvalidator: core.isArray,\n\t\tvalue: []\n\t}\n};\n\nexport default ElectricSearchBase;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from ElectricSearch.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace ElectricSearch.\n * @public\n */\n\ngoog.module('ElectricSearch.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  ie_open('div', null, null,\n      'class', 'search');\n    $form(opt_data, null, opt_ijData);\n    $results(opt_data, null, opt_ijData);\n  ie_close('div');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'ElectricSearch.render';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $form(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  ie_open('form', null, null,\n      'class', 'docs-home-top-form',\n      'action', opt_data.action,\n      'method', 'GET',\n      'enctype', 'multipart/form-data');\n    ie_open('div', null, null,\n        'class', 'row');\n      ie_open('div', null, null,\n          'class', 'col-md-7 col-md-offset-3 col-xs-16');\n        ie_open('div', null, null,\n            'class', 'form-group');\n          ie_open('div', null, null,\n              'class', 'input-inner-addon input-inner-addon-right');\n            ie_open('input', null, null,\n                'autocomplete', 'off',\n                'class', 'form-control',\n                'name', 'q',\n                'onInput', 'handleInput_',\n                'placeholder', opt_data.placeholder,\n                'value', opt_data.query,\n                'type', 'text');\n            ie_close('input');\n            ie_void('span', null, null,\n                'class', 'input-inner-icon-helper icon-16-magnifier');\n          ie_close('div');\n        ie_close('div');\n      ie_close('div');\n      ie_open('div', null, null,\n          'class', 'col-md-3 col-xs-16');\n        ie_open('button', null, null,\n            'class', 'btn btn-accent btn-block',\n            'type', 'submit');\n          itext('Search');\n        ie_close('button');\n      ie_close('div');\n    ie_close('div');\n  ie_close('form');\n}\nexports.form = $form;\nif (goog.DEBUG) {\n  $form.soyTemplateName = 'ElectricSearch.form';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $results(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  ie_open('div', null, null,\n      'class', 'search-result-container');\n    if (opt_data.query) {\n      ie_open('p', null, null,\n          'class', 'search-result-summary');\n        itext('Showing ');\n        var dyn3 = opt_data.results.length;\n        if (typeof dyn3 == 'function') dyn3(); else if (dyn3 != null) itext(dyn3);\n        itext(' results for ');\n        ie_open('strong');\n          itext('\"');\n          var dyn4 = opt_data.query;\n          if (typeof dyn4 == 'function') dyn4(); else if (dyn4 != null) itext(dyn4);\n          itext('\"');\n        ie_close('strong');\n      ie_close('p');\n    }\n    if (opt_data.results) {\n      var resultList103 = opt_data.results;\n      var resultListLen103 = resultList103.length;\n      for (var resultIndex103 = 0; resultIndex103 < resultListLen103; resultIndex103++) {\n        var resultData103 = resultList103[resultIndex103];\n        ie_open('div', null, null,\n            'class', 'search-result');\n          if (resultData103.icon) {\n            ie_open('div', null, null,\n                'class', 'search-result-icon');\n              ie_void('span', null, null,\n                  'class', 'icon-16-' + resultData103.icon);\n            ie_close('div');\n          }\n          ie_open('a', null, null,\n              'class', 'search-result-link',\n              'href', resultData103.url);\n            var dyn5 = resultData103.title;\n            if (typeof dyn5 == 'function') dyn5(); else if (dyn5 != null) itext(dyn5);\n          ie_close('a');\n          ie_open('p', null, null,\n              'class', 'search-result-text');\n            var dyn6 = resultData103.description;\n            if (typeof dyn6 == 'function') dyn6(); else if (dyn6 != null) itext(dyn6);\n          ie_close('p');\n        ie_close('div');\n      }\n    }\n  ie_close('div');\n}\nexports.results = $results;\nif (goog.DEBUG) {\n  $results.soyTemplateName = 'ElectricSearch.results';\n}\n\nexports.render.params = [\"action\",\"placeholder\",\"query\",\"results\"];\nexports.render.types = {\"action\":\"any\",\"placeholder\":\"any\",\"query\":\"any\",\"results\":\"any\"};\nexports.form.params = [\"action\",\"placeholder\",\"query\"];\nexports.form.types = {\"action\":\"any\",\"placeholder\":\"any\",\"query\":\"any\"};\nexports.results.params = [\"results\",\"query\"];\nexports.results.types = {\"results\":\"any\",\"query\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass ElectricSearch extends Component {}\nSoy.register(ElectricSearch, templates);\nexport { ElectricSearch, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport core from 'metal';\nimport Soy from 'metal-soy';\n\nimport ElectricSearchBase from './ElectricSearchBase';\nimport templates from './ElectricSearch.soy';\n\nclass ElectricSearch extends ElectricSearchBase {\n\tattached() {\n\t\tElectricSearchBase.prototype.attached.apply(this);\n\n\t\tconst queryString = window.location.search;\n\t\tconst queryIndex = queryString.indexOf('q=');\n\n\t\tif (queryIndex !== -1) {\n\t\t\tthis.query = queryString.substr(queryIndex + 2);\n\t\t}\n\t}\n\n\thandleInput_(event) {\n\t\tconst {target} = event;\n\n\t\tthis.query = target.value;\n\t}\n};\n\nElectricSearch.STATE = {\n\tmaxResults: {\n\t\tvalue: Infinity\n\t}\n};\n\nSoy.register(ElectricSearch, templates);\n\nexport default ElectricSearch;\n","'use strict';\n\n/**\n  * Debounces function execution.\n  * @param {!function()} fn\n  * @param {number} delay\n  * @return {!function()}\n  */\nfunction debounce(fn, delay) {\n\treturn function debounced() {\n\t\tvar args = arguments;\n\t\tcancelDebounce(debounced);\n\t\tdebounced.id = setTimeout(function() {\n\t\t\tfn.apply(null, args);\n\t\t}, delay);\n\t};\n}\n\n/**\n * Cancels the scheduled debounced function.\n */\nfunction cancelDebounce(debounced) {\n\tclearTimeout(debounced.id);\n}\n\nexport default debounce;\nexport { cancelDebounce, debounce };\n","'use strict';\n\nimport core from 'metal';\nimport dom from 'metal-dom';\nimport CancellablePromise from 'metal-promise';\nimport Component from 'metal-component';\nimport { EventHandler } from 'metal-events';\n\n/*\n * AutocompleteBase component.\n */\nclass AutocompleteBase extends Component {\n\t/**\n\t * @inheritDoc\n\t */\n\tcreated() {\n\t\tthis.eventHandler_ = new EventHandler();\n\t\tthis.on('select', this.select);\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tattached() {\n\t\tif (this.inputElement) {\n\t\t\tthis.eventHandler_.add(dom.on(this.inputElement, 'input', this.handleUserInput_.bind(this)));\n\t\t}\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdetached() {\n\t\tthis.eventHandler_.removeAllListeners();\n\t}\n\n\t/**\n\t * Handles the user input.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleUserInput_() {\n\t\tthis.request(this.inputElement.value);\n\t}\n\n\t/**\n\t * Cancels pending request and starts a request for the user input.\n\t * @param {string} query\n\t * @return {!CancellablePromise} Deferred request.\n\t */\n\trequest(query) {\n\t\tvar self = this;\n\n\t\tif (this.pendingRequest) {\n\t\t\tthis.pendingRequest.cancel('Cancelled by another request');\n\t\t}\n\n\t\tvar deferredData = self.data(query);\n\t\tif (!core.isPromise(deferredData)) {\n\t\t\tdeferredData = CancellablePromise.resolve(deferredData);\n\t\t}\n\n\t\tthis.pendingRequest = deferredData.then(function(data) {\n\t\t\tif (Array.isArray(data)) {\n\t\t\t\treturn data.map(self.format.bind(self)).filter(val => core.isDefAndNotNull(val));\n\t\t\t}\n\t\t});\n\n\t\treturn this.pendingRequest;\n\t}\n\n\t/**\n\t * Normalizes the provided data value. If the value is not a function, the\n\t * value will be wrapped in a function which returns the provided value.\n\t * @param {Array.<object>|Promise|function} val The provided value which\n\t *     have to be normalized.\n\t * @protected\n\t */\n\tsetData_(val) {\n\t\tif (!core.isFunction(val)) {\n\t\t\treturn function() {\n\t\t\t\treturn val;\n\t\t\t};\n\t\t}\n\t\treturn val;\n\t}\n}\n\n/**\n * AutocompleteBase state definition.\n * @type {!Object}\n * @static\n */\nAutocompleteBase.STATE = {\n\t/**\n\t * List's main element ID value. It is also used to compose List items' id.\n\t * @type {string}\n\t * @default autocomplete- + core.getUid()\n\t */\n\tlistId: {\n\t\tvalueFn: () => 'autocomplete-' + core.getUid()\n\t},\n\n\t/**\n\t * Function or array, which have to return the results from the query.\n\t * If function, it should return an `array` or a `Promise`. In case of\n\t * Promise, it should be resolved with an array containing the results.\n\t * @type {Array.<object>|function}\n\t */\n\tdata: {\n\t\tsetter: 'setData_'\n\t},\n\n\t/**\n\t * Function that formats each item of the data.\n\t * @type {function}\n\t * @default Identity function.\n\t */\n\tformat: {\n\t\tvalue: core.identityFunction,\n\t\tvalidator: core.isFunction\n\t},\n\n\t/**\n\t * The element which will be used source for the data queries.\n\t * @type {DOMElement|string}\n\t */\n\tinputElement: {\n\t\tsetter: dom.toElement\n\t},\n\n\t/**\n\t * Handles item selection. It will receive two parameters - the selected\n\t * value from the user and the current value from the input element.\n\t * @type {function}\n\t * @default\n\t *   function(selectedValue) {\n\t *\t   this.inputElement.value = selectedValue;\n\t *\t   this.inputElement.focus();\n\t *   }\n\t */\n\tselect: {\n\t\tvalue: function(selectedValue) {\n\t\t\tthis.inputElement.value = selectedValue.text;\n\t\t\tthis.inputElement.focus();\n\t\t},\n\t\tvalidator: core.isFunction\n\t},\n\n\t/**\n\t * Indicates if the component is visible or not.\n\t * @type {boolean}\n\t */\n\tvisible: {\n\t\tvalidator: core.isBoolean,\n\t\tvalue: false\n\t}\n};\n\nexport default AutocompleteBase;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from ListItem.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace ListItem.\n * @public\n */\n\ngoog.module('ListItem.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  ie_open_start('li');\n      iattr('class', 'listitem list-group-item ' + (opt_data.elementClasses ? ' ' + opt_data.elementClasses : '') + ' clearfix');\n      iattr('data-index', opt_data.index);\n      if (opt_data.id) {\n        iattr('id', opt_data.id);\n      }\n      iattr('role', 'listitem');\n  ie_open_end();\n    if (opt_data.item.avatar) {\n      if (opt_data.item.avatar.link) {\n        itext(' ');\n        ie_open('a', null, null,\n            'href', opt_data.item.avatar.link,\n            'class', 'avatar-link');\n          itext(' ');\n        }\n        ie_open('span', null, null,\n            'class', 'list-image pull-left ' + opt_data.item.avatar['class']);\n          var dyn0 = opt_data.item.avatar.content;\n          if (typeof dyn0 == 'function') dyn0(); else if (dyn0 != null) itext(dyn0);\n        ie_close('span');\n        if (opt_data.item.avatar.link) {\n          itext(' ');\n        ie_close('a');\n        itext(' ');\n      }\n    }\n    ie_open('div', null, null,\n        'class', 'list-main-content pull-left');\n      ie_open('div', null, null,\n          'class', 'list-text-primary');\n        var dyn1 = opt_data.item.textPrimary;\n        if (typeof dyn1 == 'function') dyn1(); else if (dyn1 != null) itext(dyn1);\n      ie_close('div');\n      if (opt_data.item.textSecondary) {\n        ie_open('div', null, null,\n            'class', 'list-text-secondary');\n          var dyn2 = opt_data.item.textSecondary;\n          if (typeof dyn2 == 'function') dyn2(); else if (dyn2 != null) itext(dyn2);\n        ie_close('div');\n      }\n    ie_close('div');\n    if (opt_data.item.icons) {\n      var iconList66 = opt_data.item.icons;\n      var iconListLen66 = iconList66.length;\n      for (var iconIndex66 = 0; iconIndex66 < iconListLen66; iconIndex66++) {\n        var iconData66 = iconList66[iconIndex66];\n        ie_void('span', null, null,\n            'class', 'btn-icon ' + iconData66 + ' pull-right');\n      }\n    }\n    if (opt_data.item.iconsHtml) {\n      ie_open('div', null, null,\n          'class', 'pull-right');\n        var iconHtmlList72 = opt_data.item.iconsHtml;\n        var iconHtmlListLen72 = iconHtmlList72.length;\n        for (var iconHtmlIndex72 = 0; iconHtmlIndex72 < iconHtmlListLen72; iconHtmlIndex72++) {\n          var iconHtmlData72 = iconHtmlList72[iconHtmlIndex72];\n          var dyn3 = iconHtmlData72;\n          if (typeof dyn3 == 'function') dyn3(); else if (dyn3 != null) itext(dyn3);\n        }\n      ie_close('div');\n    }\n    if (opt_data.item.label) {\n      ie_open('span', null, null,\n          'class', 'label list-label pull-right ' + opt_data.item.label['class']);\n        var dyn4 = opt_data.item.label.content;\n        if (typeof dyn4 == 'function') dyn4(); else if (dyn4 != null) itext(dyn4);\n      ie_close('span');\n    }\n  ie_close('li');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'ListItem.render';\n}\n\nexports.render.params = [\"id\",\"index\",\"item\",\"elementClasses\"];\nexports.render.types = {\"id\":\"any\",\"index\":\"any\",\"item\":\"any\",\"elementClasses\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass ListItem extends Component {}\nSoy.register(ListItem, templates);\nexport { ListItem, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport core from 'metal';\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nimport templates from './ListItem.soy.js';\n\n/**\n * List component.\n */\nclass ListItem extends Component {\n\t/**\n\t * Setter function for the `item` state key.\n\t * @param {!Object} item\n\t * @protected\n\t */\n\tsetterItemFn_(item) {\n\t\tif (item.textPrimary && core.isString(item.textPrimary)) {\n\t\t\titem.textPrimary = Soy.toIncDom(item.textPrimary);\n\t\t}\n\t\tif (item.textSecondary && core.isString(item.textSecondary)) {\n\t\t\titem.textSecondary = Soy.toIncDom(item.textSecondary);\n\t\t}\n\t\tif (item.avatar && item.avatar.content && core.isString(item.avatar.content)) {\n\t\t\titem.avatar.content = Soy.toIncDom(item.avatar.content);\n\t\t}\n\t\tif (Array.isArray(item.iconsHtml)) {\n\t\t\titem.iconsHtml = item.iconsHtml.map(Soy.toIncDom);\n\t\t}\n\t\treturn item;\n\t}\n}\nSoy.register(ListItem, templates);\n\n/**\n * List state definition.\n * @type {Object}\n * @static\n */\nListItem.STATE = {\n\t/**\n\t * A unique identifier for each item.\n\t * @type {string}\n\t */\n\tid: {\n\t\tvalueFn: () => 'list-component-item' + core.getUid()\n\t},\n\n\t/**\n\t * The item to be rendered.\n\t * @type {!Object}\n\t */\n\titem: {\n\t\tvalidator: core.isObject,\n\t\tsetter: 'setterItemFn_'\n\t},\n\n\t/**\n\t * The index of the item in the list.\n\t * @type {number}\n\t */\n\tindex: {\n\t\tvalue: -1\n\t}\n};\n\nexport default ListItem;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from List.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace List.\n * @public\n */\n\ngoog.module('List.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('soy.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('ListItem.incrementaldom', 'render');\n\n\n/**\n * @param {{\n *    id: (?),\n *    elementClasses: (?),\n *    items: (?),\n *    itemsHtml: (?soydata.SanitizedHtml|string|undefined)\n * }} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  soy.asserts.assertType(opt_data.itemsHtml == null || (opt_data.itemsHtml instanceof Function) || (opt_data.itemsHtml instanceof soydata.UnsanitizedText) || goog.isString(opt_data.itemsHtml), 'itemsHtml', opt_data.itemsHtml, '?soydata.SanitizedHtml|string|undefined');\n  var itemsHtml = /** @type {?soydata.SanitizedHtml|string|undefined} */ (opt_data.itemsHtml);\n  ie_open('div', null, null,\n      'class', 'list' + (opt_data.elementClasses ? ' ' + opt_data.elementClasses : ''));\n    ie_open_start('ul');\n        iattr('class', 'list-group');\n        iattr('data-onclick', 'handleClick');\n        if (opt_data.id) {\n          iattr('id', opt_data.id);\n        }\n        iattr('role', 'list');\n    ie_open_end();\n      if (itemsHtml != null) {\n        itemsHtml();\n      } else {\n        var itemList21 = opt_data.items;\n        var itemListLen21 = itemList21.length;\n        for (var itemIndex21 = 0; itemIndex21 < itemListLen21; itemIndex21++) {\n          var itemData21 = itemList21[itemIndex21];\n          $templateAlias1({id: opt_data.id + '-item-' + (itemIndex21 + 1), index: itemIndex21, item: itemData21, key: '-items-' + itemIndex21}, null, opt_ijData);\n        }\n      }\n    ie_close('ul');\n  ie_close('div');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'List.render';\n}\n\nexports.render.params = [\"itemsHtml\",\"id\",\"elementClasses\",\"items\"];\nexports.render.types = {\"itemsHtml\":\"html\",\"id\":\"any\",\"elementClasses\":\"any\",\"items\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass List extends Component {}\nSoy.register(List, templates);\nexport { List, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport core from 'metal';\nimport dom from 'metal-dom';\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport './ListItem';\nimport templates from './List.soy.js';\n\n/**\n * List component.\n */\nclass List extends Component {\n\t/**\n\t * Handles click event on the list. The function fires an\n\t * {@code itemSelected} event.\n\t * @param {!Event} event The native click event\n\t */\n\thandleClick(event) {\n\t\tvar target = event.target;\n\t\twhile (target) {\n\t\t\tif (dom.match(target, '.listitem')) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\ttarget = target.parentNode;\n\t\t}\n\t\tthis.emit('itemSelected', target);\n\t}\n}\nSoy.register(List, templates);\n\n/**\n * List state definition.\n * @type {!Object}\n * @static\n */\nList.STATE = {\n\t/**\n\t * A unique identifier for the component. It's also used to compound the\n\t * items' ID attribute unless if itemsHtml attribute is used.\n\t * @type {string}\n\t */\n\tid: {\n\t\tvalueFn: () => 'list-component-' + core.getUid()\n\t},\n\n\t/**\n\t * The list items. Each is represented by an object that can have the following keys:\n\t *   - textPrimary: The item's main content.\n\t *   - textSecondary: (Optional) The item's help content.\n\t *   - icons: (Optional) A list of icon css classes to render on the right side.\n\t *   - iconsHtml: (Optional) A list of icon css classes to render on the right side.\n\t *   - avatar: (Optional) An object that specifies the avatar's content and, optionally, a css\n\t *       class it should use.\n\t * @type {!Array<!Object>}\n\t * @default []\n\t */\n\titems: {\n\t\tvalidator: Array.isArray,\n\t\tvalueFn: function() {\n\t\t\treturn [];\n\t\t}\n\t},\n\n\t/**\n\t * The list items as HTML to be added directly to the list.\n\t * @type {string}\n\t */\n\titemsHtml: {\n\t\tisHtml: true\n\t}\n};\n\nexport default List;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from Autocomplete.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace Autocomplete.\n * @public\n */\n\ngoog.module('Autocomplete.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('List.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  ie_open('div', null, null,\n      'class', 'autocomplete autocomplete-list component ' + (opt_data.elementClasses ? ' ' + opt_data.elementClasses : ''),\n      'data-onclick', 'handleClick_');\n    $templateAlias1({events: {itemSelected: opt_data.onListItemSelected_}, id: opt_data.listId, ref: 'list'}, null, opt_ijData);\n  ie_close('div');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'Autocomplete.render';\n}\n\nexports.render.params = [\"listId\",\"elementClasses\",\"onListItemSelected_\"];\nexports.render.types = {\"listId\":\"any\",\"elementClasses\":\"any\",\"onListItemSelected_\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass Autocomplete extends Component {}\nSoy.register(Autocomplete, templates);\nexport { Autocomplete, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport core from 'metal';\nimport debounce from 'metal-debounce';\nimport dom from 'metal-dom';\nimport { CancellablePromise as Promise } from 'metal-promise';\nimport { Align } from 'metal-position';\nimport AutocompleteBase from './AutocompleteBase';\nimport Soy from 'metal-soy';\n\nimport 'metal-list';\nimport templates from './Autocomplete.soy.js';\n\nconst DOWN = 40;\nconst ENTER = 13;\nconst SPACE = 32;\nconst UP = 38;\n\n/*\n * Autocomplete component.\n */\nclass Autocomplete extends AutocompleteBase {\n\t/**\n\t * @inheritDoc\n\t */\n\tattached() {\n\t\tsuper.attached();\n\t\tthis.setAriaAttributes_();\n\t\tthis.eventHandler_.add(dom.on(this.inputElement, 'focus', this.handleInputFocus_.bind(this)));\n\t\tthis.eventHandler_.add(dom.on(document, 'click', this.handleDocClick_.bind(this)));\n\t\tthis.eventHandler_.add(dom.on(window, 'resize', debounce(this.handleWindowResize_.bind(this), 100)));\n\t\tthis.eventHandler_.add(dom.on(this.inputElement, 'keydown', this.handleKeyDown_.bind(this)));\n\t\tthis.eventHandler_.add(this.getList().on('rendered', this.handleListRender_.bind(this)));\n\t\tif (this.visible) {\n\t\t\tthis.align();\n\t\t}\n\t}\n\n\t/**\n\t * Aligns main element to the input element.\n\t */\n\talign() {\n\t\tthis.element.style.width = this.inputElement.offsetWidth + 'px';\n\t\tvar position = Align.align(this.element, this.inputElement, Align.Bottom);\n\n\t\tdom.removeClasses(this.element, this.positionCss_);\n\t\tswitch (position) {\n\t\t\tcase Align.Top:\n\t\t\tcase Align.TopLeft:\n\t\t\tcase Align.TopRight:\n\t\t\t\tthis.positionCss_ = 'autocomplete-top';\n\t\t\t\tbreak;\n\t\t\tcase Align.Bottom:\n\t\t\tcase Align.BottomLeft:\n\t\t\tcase Align.BottomRight:\n\t\t\t\tthis.positionCss_ = 'autocomplete-bottom';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.positionCss_ = null;\n\n\t\t}\n\t\tdom.addClasses(this.element, this.positionCss_);\n\t}\n\n\t/**\n\t * Actives an option of the suggestion list by inform an index.\n\t * @param {number} index\n\t * @protected\n\t */\n\tactivateListItem_(index) {\n\t\tlet option = this.currentList_[index];\n\t\tdom.removeClasses(this.currentList_[this.activeIndex_], 'active');\n\t\tthis.activeIndex_ = index;\n\t\tthis.inputElement.setAttribute('aria-activedescendant', option.getAttribute('id'));\n\t\tdom.addClasses(option, 'active');\n\t}\n\n\t/**\n\t * Returns the previous index or the last one if the active index was the first.\n\t * @protected\n\t * @return {number} Index\n\t */\n\tdecreaseIndex_() {\n\t\treturn this.activeIndex_ === 0 ? this.getLastIndex_() : this.activeIndex_ - 1;\n\t}\n\n\t/**\n\t * Returns the last index of the list.\n\t * @protected\n\t * @return {number} Index\n\t */\n\tgetLastIndex_() {\n\t\treturn this.getList().items.length - 1;\n\t}\n\n\t/**\n\t * Returns the `List` component being used to render the matched items.\n\t * @return {!List}\n\t */\n\tgetList() {\n\t\treturn this.components.list;\n\t}\n\n\t/**\n\t * Handles action keys interactions.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleActionKeys_() {\n\t\tlet selectedItem = this.getList().items[this.activeIndex_];\n\t\tthis.selectOption_(selectedItem);\n\t}\n\n\t/**\n\t * Handles `click` events, stopping their propagation.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleClick_(event) {\n\t\tevent.stopPropagation();\n\t}\n\n\t/**\n\t * Handles document click in order to hide autocomplete. If input element is\n\t * focused autocomplete will not hide.\n\t * @param {!Event} event\n\t */\n\thandleDocClick_() {\n\t\tif (document.activeElement === this.inputElement) {\n\t\t\treturn;\n\t\t}\n\t\tthis.visible = false;\n\t}\n\n\t/**\n\t * Handles input focus.\n\t * @param {!Event} event\n\t */\n\thandleInputFocus_() {\n\t\tthis.request(this.inputElement.value);\n\t}\n\n\t/**\n\t * Executed after List rendering.\n\t * @param {number} index\n\t * @protected\n\t */\n\thandleListRender_() {\n\t\tif (this.visible) {\n\t\t\tthis.currentList_ = this.element.querySelectorAll('.listitem');\n\t\t\tthis.activateListItem_(0);\n\t\t}\n\t}\n\n\t/**\n\t * Handles a `keydown` event on this component. Handles keyboard controls.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleKeyDown_(event) {\n\t\tif (this.visible) {\n\t\t\tswitch (event.keyCode) {\n\t\t\t\tcase UP:\n\t\t\t\t\tthis.activateListItem_(this.decreaseIndex_());\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t\tcase DOWN:\n\t\t\t\t\tthis.activateListItem_(this.increaseIndex_());\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t\tcase ENTER:\n\t\t\t\tcase SPACE:\n\t\t\t\t\tthis.handleActionKeys_();\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Handles window resize events. Realigns the autocomplete results list to\n\t * the input field.\n\t */\n\thandleWindowResize_() {\n\t\tif (this.visible) {\n\t\t\tthis.align();\n\t\t}\n\t}\n\n\t/**\n\t * Returns the next index or zero if the active index was the last.\n\t * @protected\n\t * @return {number} Index\n\t */\n\tincreaseIndex_() {\n\t\treturn this.activeIndex_ === this.getLastIndex_() ? 0 : this.activeIndex_ + 1;\n\t}\n\n\t/**\n\t * Listens to the itemSelected event and it tells autocomplete which\n\t * element was selected.\n\t * @param {!Element} item The list selected item.\n\t * @protected\n\t */\n\tonListItemSelected_(item) {\n\t\tlet selectedIndex = parseInt(item.getAttribute('data-index'), 10);\n\t\tlet selectedItem = this.getList().items[selectedIndex];\n\t\tthis.selectOption_(selectedItem);\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\trequest(query) {\n\t\tif (this.autocompleteClosing_) {\n\t\t\t// While closing the input element will be focused, causing another\n\t\t\t// request. This request should be ignored though, since we wish to close\n\t\t\t// the dropdown list, not open it again.\n\t\t\treturn;\n\t\t}\n\n\t\tvar self = this;\n\t\treturn super.request(query).then(function(data) {\n\t\t\tif (data) {\n\t\t\t\tdata.forEach(self.assertItemObjectStructure_);\n\t\t\t\tself.getList().items = data;\n\t\t\t}\n\t\t\tself.visible = !!(data && data.length > 0);\n\t\t});\n\t}\n\n\t/**\n\t * Emits a `select` event with the information about the selected item and\n\t * hides the list element.\n\t * @param {!Object} item The list selected item.\n\t * @protected\n\t */\n\tselectOption_(selectedItem) {\n\t\tthis.autocompleteClosing_ = true;\n\t\tthis.emit('select', selectedItem);\n\t\tthis.visible = false;\n\t\tthis.autocompleteClosing_ = false;\n\t}\n\n\t/**\n\t * Set the required ARIA attributes to the inputElement.\n\t * @protected\n\t */\n\tsetAriaAttributes_() {\n\t\tthis.inputElement.setAttribute('aria-activedescendant', '');\n\t\tthis.inputElement.setAttribute('aria-autocomplete', 'list');\n\t\tthis.inputElement.setAttribute('aria-haspopup', true);\n\t\tthis.inputElement.setAttribute('aria-owns', this.listId);\n\t\tthis.inputElement.setAttribute('role', 'combobox');\n\t}\n\n\t/**\n\t * Synchronization logic for `visible` state.\n\t * @param {boolean} visible\n\t */\n\tsyncVisible(visible) {\n\t\tsuper.syncVisible(visible);\n\n\t\tif (visible) {\n\t\t\tthis.align();\n\t\t}\n\t}\n\n\t/**\n\t * Asserts that formatted data is valid. Throws error if item is not in the\n\t * valid syntax.\n\t * @param {*} item\n\t * @protected\n\t */\n\tassertItemObjectStructure_(item) {\n\t\tif (!core.isObject(item)) {\n\t\t\tthrow new Promise.CancellationError('Autocomplete item must be an object');\n\t\t}\n\t\tif (!item.hasOwnProperty('textPrimary')) {\n\t\t\tthrow new Promise.CancellationError('Autocomplete item must be an object with \\'textPrimary\\' key');\n\t\t}\n\t}\n}\nSoy.register(Autocomplete, templates);\n\n/**\n * State definition.\n * @type {!Object}\n * @static\n */\nAutocomplete.STATE = {\n\t/**\n\t * Function that converts a given item to the format that should be used by\n\t * the autocomplete.\n\t * @type {!function()}\n\t */\n\tformat: {\n\t\tvalue: function(item) {\n\t\t\tif (core.isString(item)) {\n\t\t\t\titem = {\n\t\t\t\t\ttextPrimary: item\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (core.isObject(item) && !item.text) {\n\t\t\t\titem.text = item.textPrimary;\n\t\t\t}\n\t\t\treturn item;\n\t\t}\n\t}\n};\n\nexport default Autocomplete;\n","'use strict';\n\nimport Autocomplete from '../Autocomplete';\nimport AutocompleteBase from '../AutocompleteBase';\n\nexport default Autocomplete;\nexport { Autocomplete, AutocompleteBase };\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from ElectricSearchAutocomplete.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace ElectricSearchAutocomplete.\n * @public\n */\n\ngoog.module('ElectricSearchAutocomplete.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  var $$temp;\n  opt_data = opt_data || {};\n  ie_open('div', null, null,\n      'class', 'page-autocomplete');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('div', null, null,\n          'class', 'input-inner-addon input-inner-addon-right');\n        ie_open('input', null, null,\n            'autocomplete', 'off',\n            'class', 'form-control',\n            'name', 'q',\n            'placeholder', ($$temp = opt_data.placeholder) == null ? '' : $$temp,\n            'ref', 'input',\n            'required', '',\n            'type', 'text');\n        ie_close('input');\n        ie_void('span', null, null,\n            'class', 'input-inner-icon-helper icon-16-magnifier');\n      ie_close('div');\n    ie_close('div');\n  ie_close('div');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'ElectricSearchAutocomplete.render';\n}\n\nexports.render.params = [\"placeholder\"];\nexports.render.types = {\"placeholder\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass ElectricSearchAutocomplete extends Component {}\nSoy.register(ElectricSearchAutocomplete, templates);\nexport { ElectricSearchAutocomplete, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Autocomplete from 'metal-autocomplete';\nimport core from 'metal';\nimport Soy from 'metal-soy';\n\nimport ElectricSearchBase from './ElectricSearchBase';\nimport templates from './ElectricSearchAutocomplete.soy';\n\nclass ElectricSearchAutocomplete extends ElectricSearchBase {\n\tattached() {\n\t\tconst {element} = this;\n\n\t\tconst {input} = this.refs;\n\n\t\tif (input) {\n\t\t\tvar autocomplete = new Autocomplete({\n\t\t\t\tdata: this.search_.bind(this),\n\t\t\t\tformat: this.format_.bind(this),\n\t\t\t\tinputElement: input,\n\t\t\t\tselect: ({url}) => {\n\t\t\t\t\twindow.location = url;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tformat_(data) {\n\t\tlet {title, description, url} = data;\n\n\t\tif (description && description.length > 100) {\n\t\t\tdescription = `${description.substr(0, 100)}...`;\n\t\t}\n\n\t\treturn {\n\t\t\ttextPrimary: `<a class=\"autocomplete-link\" href=\"${url}\">\n\t\t\t\t<div class=\"autocomplete-result\">\n\t\t\t\t\t<p class=\"autocomplete-title\">${title}</p>\n\t\t\t\t\t<p class=\"autocomplete-text\">${description}</p>\n\t\t\t\t</div>\n\t\t\t</a>`,\n\t\t\turl: url\n\t\t};\n\t}\n};\n\nSoy.register(ElectricSearchAutocomplete, templates);\n\nexport default ElectricSearchAutocomplete;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from ElectricUpdates.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace ElectricUpdates.\n * @hassoydeltemplate {ElectricUpdates.feature.idom}\n * @hassoydelcall {ElectricUpdates.feature.idom}\n * @public\n */\n\ngoog.module('ElectricUpdates.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  ie_open('div', null, null,\n      'class', 'updates');\n    ie_open('div', null, null,\n        'class', 'container');\n      $updates(opt_data, null, opt_ijData);\n    ie_close('div');\n  ie_close('div');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'ElectricUpdates.render';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $updates(opt_data, opt_ignored, opt_ijData) {\n  ie_open('div', null, null,\n      'class', 'row');\n    ie_open('div', null, null,\n        'class', 'col-lg-10 col-lg-offset-3 col-md-16 col-md-offset-0');\n      if (opt_data.updates) {\n        var updateList128 = opt_data.updates;\n        var updateListLen128 = updateList128.length;\n        for (var updateIndex128 = 0; updateIndex128 < updateListLen128; updateIndex128++) {\n          var updateData128 = updateList128[updateIndex128];\n          ie_open('section', null, null,\n              'class', 'update');\n            ie_open('div', null, null,\n                'class', 'row update-row');\n              ie_open('div', null, null,\n                  'class', 'col-sm-3 ' + (updateData128.major ? 'major' : 'minor') + '-update update-timeline');\n                ie_open('div', null, null,\n                    'class', 'update-point');\n                  var dyn7 = updateData128.version;\n                  if (typeof dyn7 == 'function') dyn7(); else if (dyn7 != null) itext(dyn7);\n                ie_close('div');\n              ie_close('div');\n              ie_open('div', null, null,\n                  'class', 'col-sm-13 update-features');\n                $features(soy.$$assignDefaults({features: updateData128.features}, opt_data), null, opt_ijData);\n              ie_close('div');\n            ie_close('div');\n          ie_close('section');\n        }\n      }\n    ie_close('div');\n  ie_close('div');\n}\nexports.updates = $updates;\nif (goog.DEBUG) {\n  $updates.soyTemplateName = 'ElectricUpdates.updates';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $features(opt_data, opt_ignored, opt_ijData) {\n  var $$temp;\n  var localFeatureVariant__soy132 = ($$temp = opt_data.featureVariant) == null ? 'basic' : $$temp;\n  ie_open('div', null, null,\n      'class', 'row');\n    var featureList136 = opt_data.features;\n    var featureListLen136 = featureList136.length;\n    for (var featureIndex136 = 0; featureIndex136 < featureListLen136; featureIndex136++) {\n      var featureData136 = featureList136[featureIndex136];\n      soy.$$getDelegateFn(soy.$$getDelTemplateId('ElectricUpdates.feature.idom'), localFeatureVariant__soy132, false)(soy.$$assignDefaults({feature: featureData136}, opt_data), null, opt_ijData);\n    }\n  ie_close('div');\n}\nexports.features = $features;\nif (goog.DEBUG) {\n  $features.soyTemplateName = 'ElectricUpdates.features';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction __deltemplate_s139_5080d024(opt_data, opt_ignored, opt_ijData) {\n  ie_open('div', null, null,\n      'class', 'col-xs-16 col-sm-8 update-feature');\n    ie_open('div', null, null,\n        'class', 'feature-topper');\n      ie_void('span', null, null,\n          'class', 'feature-icon icon-16-' + opt_data.feature.icon);\n      ie_open('h1', null, null,\n          'class', 'feature-header');\n        var dyn8 = opt_data.feature.title;\n        if (typeof dyn8 == 'function') dyn8(); else if (dyn8 != null) itext(dyn8);\n      ie_close('h1');\n    ie_close('div');\n    ie_open('div', null, null,\n        'class', 'feature-content');\n      ie_open('p', null, null,\n          'class', 'feature-lead');\n        var dyn9 = opt_data.feature.description;\n        if (typeof dyn9 == 'function') dyn9(); else if (dyn9 != null) itext(dyn9);\n      ie_close('p');\n      ie_open('div', null, null,\n          'class', 'read-more');\n        ie_open('a', null, null,\n            'href', opt_data.feature.url);\n          itext('Read more\\u2026');\n        ie_close('a');\n      ie_close('div');\n    ie_close('div');\n  ie_close('div');\n}\nexports.__deltemplate_s139_5080d024 = __deltemplate_s139_5080d024;\nif (goog.DEBUG) {\n  __deltemplate_s139_5080d024.soyTemplateName = 'ElectricUpdates.__deltemplate_s139_5080d024';\n}\nsoy.$$registerDelegateFn(soy.$$getDelTemplateId('ElectricUpdates.feature.idom'), 'basic', 0, __deltemplate_s139_5080d024);\n\nexports.render.params = [\"featureVariant\",\"updates\"];\nexports.render.types = {\"featureVariant\":\"any\",\"updates\":\"any\"};\nexports.updates.params = [\"featureVariant\",\"updates\"];\nexports.updates.types = {\"featureVariant\":\"any\",\"updates\":\"any\"};\nexports.features.params = [\"featureVariant\",\"features\"];\nexports.features.types = {\"featureVariant\":\"any\",\"features\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass ElectricUpdates extends Component {}\nSoy.register(ElectricUpdates, templates);\nexport { ElectricUpdates, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport core from 'metal';\nimport Soy from 'metal-soy';\n\nimport templates from './ElectricUpdates.soy';\n\nclass ElectricUpdates extends Component {\n\tattached() {\n\t}\n};\n\nElectricUpdates.STATE = {\n\tupdates: {\n\t\tvalidator: core.isArray,\n\t\tvalue: []\n\t}\n};\n\nSoy.register(ElectricUpdates, templates);\n\nexport default ElectricUpdates;\n","'use strict';\n\nimport ElectricCode from '../ElectricCode';\nimport ElectricNavigation from '../ElectricNavigation';\nimport ElectricReadingProgress from '../ElectricReadingProgress';\nimport ElectricSearch from '../ElectricSearch';\nimport ElectricSearchAutocomplete from '../ElectricSearchAutocomplete';\nimport ElectricSearchBase from '../ElectricSearchBase';\nimport ElectricUpdates from '../ElectricUpdates';\n\nexport {\n\tElectricCode,\n\tElectricNavigation,\n\tElectricReadingProgress,\n\tElectricSearch,\n\tElectricSearchAutocomplete,\n\tElectricSearchBase,\n\tElectricUpdates\n};\n\nexport default ElectricNavigation;\n","\nimport 'electric-components';\n\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from Dropdown.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace Dropdown.\n * @public\n */\n\ngoog.module('Dropdown.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('soy.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\n\n/**\n * @param {{\n *    alignedPosition: (?),\n *    classMap: (?),\n *    elementClasses: (?),\n *    expanded: (?),\n *    position: (?),\n *    positionClassOnMenu: (?),\n *    body: (?soydata.SanitizedHtml|string|undefined),\n *    header: (?soydata.SanitizedHtml|string|undefined)\n * }} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  soy.asserts.assertType(opt_data.body == null || (opt_data.body instanceof Function) || (opt_data.body instanceof soydata.UnsanitizedText) || goog.isString(opt_data.body), 'body', opt_data.body, '?soydata.SanitizedHtml|string|undefined');\n  var body = /** @type {?soydata.SanitizedHtml|string|undefined} */ (opt_data.body);\n  soy.asserts.assertType(opt_data.header == null || (opt_data.header instanceof Function) || (opt_data.header instanceof soydata.UnsanitizedText) || goog.isString(opt_data.header), 'header', opt_data.header, '?soydata.SanitizedHtml|string|undefined');\n  var header = /** @type {?soydata.SanitizedHtml|string|undefined} */ (opt_data.header);\n  var classes__soy3 = opt_data.classMap ? opt_data.classMap : ['dropup', 'dropup', 'dropright', 'dropdown', 'dropdown', 'dropdown', 'dropleft', 'dropup'];\n  var currentPosition__soy4 = opt_data.alignedPosition != null ? opt_data.alignedPosition : opt_data.position;\n  var positionClass__soy5 = currentPosition__soy4 != null ? classes__soy3[currentPosition__soy4] : 'dropdown';\n  ie_open('div', null, null,\n      'class', (opt_data.positionClassOnMenu ? 'dropdown' : positionClass__soy5) + (opt_data.elementClasses ? ' ' + opt_data.elementClasses : '') + (opt_data.expanded ? ' open' : ''));\n    if (header) {\n      header();\n    }\n    ie_open('ul', null, null,\n        'class', 'dropdown-menu' + (opt_data.positionClassOnMenu ? ' ' + positionClass__soy5 : ''));\n      if (body) {\n        body();\n      }\n    ie_close('ul');\n  ie_close('div');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'Dropdown.render';\n}\n\nexports.render.params = [\"body\",\"header\",\"alignedPosition\",\"classMap\",\"elementClasses\",\"expanded\",\"position\",\"positionClassOnMenu\"];\nexports.render.types = {\"body\":\"html\",\"header\":\"html\",\"alignedPosition\":\"any\",\"classMap\":\"any\",\"elementClasses\":\"any\",\"expanded\":\"any\",\"position\":\"any\",\"positionClassOnMenu\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass Dropdown extends Component {}\nSoy.register(Dropdown, templates);\nexport { Dropdown, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport { core, object } from 'metal';\nimport dom from 'metal-dom';\nimport { Align } from 'metal-position';\nimport Component from 'metal-component';\nimport { EventHandler } from 'metal-events';\nimport Soy from 'metal-soy';\n\nimport templates from './Dropdown.soy.js';\n\n/**\n * Dropdown component.\n */\nclass Dropdown extends Component {\n\t/**\n\t * @inheritDoc\n\t */\n\tattached() {\n\t\tsuper.attached();\n\t\tthis.eventHandler_.add(dom.on(document, 'click', this.handleDocClick_.bind(this)));\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tcreated() {\n\t\tthis.eventHandler_ = new EventHandler();\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdetached() {\n\t\tsuper.detached();\n\t\tthis.eventHandler_.removeAllListeners();\n\t}\n\n\t/**\n\t * Closes the dropdown.\n\t */\n\tclose() {\n\t\tthis.expanded = false;\n\t}\n\n\t/**\n\t * Checks if the dropdown is currently open.\n\t * @return {boolean}\n\t */\n\tisOpen() {\n\t\treturn this.expanded;\n\t}\n\n\t/**\n\t * Handles document click in order to hide menu.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleDocClick_(event) {\n\t\tif (this.element.contains(event.target)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.close();\n\t}\n\n\t/**\n\t * Opens the dropdown.\n\t */\n\topen() {\n\t\tthis.expanded = true;\n\t}\n\n\t/**\n\t * The setter function for the `classMap` staet.\n\t * @param {Object} val\n\t * @return {!Object}\n\t * @protected\n\t */\n\tsetterClassMapFn_(val) {\n\t\treturn object.mixin(this.valueClassMapFn_(), val);\n\t}\n\n\t/**\n\t * The setter function for the `position` state. Converts the supported\n\t * string positions into the appropriate `Align` position constants.\n\t * @param {string|number} val\n\t * @return {number}\n\t * @protected\n\t */\n\tsetterPositionFn_(val) {\n\t\tif (core.isNumber(val)) {\n\t\t\treturn val;\n\t\t}\n\t\treturn val.toLowerCase() === 'up' ? Align.TopLeft : Align.BottomLeft;\n\t}\n\n\t/**\n\t * Synchronization logic for `expanded` state.\n\t * @param {boolean} expanded\n\t */\n\tsyncExpanded(expanded) {\n\t\tif (expanded && this.alignElementSelector) {\n\t\t\tvar alignElement = this.element.querySelector(this.alignElementSelector);\n\t\t\tif (alignElement) {\n\t\t\t\tvar bodyElement = this.element.querySelector('.dropdown-menu');\n\t\t\t\tthis.alignedPosition = Align.align(bodyElement, alignElement, this.position);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Toggles the dropdown, closing it when open or opening it when closed.\n\t */\n\ttoggle() {\n\t\tthis.expanded = !this.expanded;\n\t}\n\n\t/**\n\t * Validator for the `position` state.\n\t * @param {string|number} position\n\t * @return {boolean}\n\t * @protected\n\t */\n\tvalidatePosition_(position) {\n\t\tif (Align.isValidPosition(position)) {\n\t\t\treturn true;\n\t\t}\n\t\tswitch (position.toLowerCase()) {\n\t\t\tcase 'up':\n\t\t\tcase 'down':\n\t\t\t\treturn true;\n\t\t\tdefault:\n\t\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * Gets the default value for the `body` state. Retrieves existing\n\t * html for the body from the element, if there is any.\n\t * @return {?string}\n\t * @protected\n\t */\n\tvalueBodyFn_() {\n\t\tvar dropdownMenu = this.element && this.element.querySelector('.dropdown-menu');\n\t\treturn dropdownMenu ? dropdownMenu.innerHTML : '';\n\t}\n\n\t/**\n\t * Gets the default value for the `classMap` state.\n\t * @return {!Object}\n\t * @protected\n\t */\n\tvalueClassMapFn_() {\n\t\treturn {\n\t\t\t[Align.TopLeft]: 'dropup',\n\t\t\t[Align.TopCenter]: 'dropup',\n\t\t\t[Align.TopRight]: 'dropup',\n\t\t\t[Align.BottomLeft]: 'dropdown',\n\t\t\t[Align.BottomCenter]: 'dropdown',\n\t\t\t[Align.BottomRight]: 'dropdown',\n\t\t\t[Align.RightCenter]: 'dropright',\n\t\t\t[Align.LeftCenter]: 'dropleft'\n\t\t};\n\t}\n\n\t/**\n\t * Gets the default value for the `header` state. Retrieves existing\n\t * html for the header from the element, if there is any.\n\t * @return {?string}\n\t * @protected\n\t */\n\tvalueHeaderFn_() {\n\t\tif (this.element) {\n\t\t\tvar wrapper = document.createElement('div');\n\t\t\tfor (var i = 0; i < this.element.childNodes.length; i++) {\n\t\t\t\tif (dom.hasClass(this.element.childNodes[i], 'dropdown-menu')) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\twrapper.appendChild(this.element.childNodes[i].cloneNode(true));\n\t\t\t}\n\t\t\treturn wrapper.innerHTML;\n\t\t}\n\t\treturn '';\n\t}\n}\nSoy.register(Dropdown, templates);\n\n/**\n * State definition.\n * @type {!Object}\n * @static\n */\nDropdown.STATE = {\n\t/**\n\t * The current position of the tooltip after being aligned via `Align.align`.\n\t * @type {number}\n\t */\n\talignedPosition: {\n\t\tvalidator: Align.isValidPosition\n\t},\n\n\t/**\n\t * Optional selector for finding the element that the dropdown should be\n\t * aligned to. If given, the dropdown will automatically find the best position\n\t * to align, when the specified position doesn't work. Otherwise it will\n\t * always just follow the given position, even if it's not ideal.\n\t * @type {string}\n\t */\n\talignElementSelector: {\n\t\tvalidator: core.isString\n\t},\n\n\t/**\n\t * The dropdown's body content.\n\t * @type {string}\n\t */\n\tbody: {\n\t\tisHtml: true,\n\t\tvalueFn: 'valueBodyFn_'\n\t},\n\n\t/**\n\t * A map from `Align` position constants to the CSS class that should be\n\t * added to the dropdown when it's aligned in that position.\n\t * @type {!Object}\n\t */\n\tclassMap: {\n\t\tsetter: 'setterClassMapFn_',\n\t\tvalidator: core.isObject,\n\t\tvalueFn: 'valueClassMapFn_'\n\t},\n\n\t/**\n\t * The dropdown's header content.\n\t * @type {string}\n\t */\n\theader: {\n\t\tisHtml: true,\n\t\tvalueFn: 'valueHeaderFn_'\n\t},\n\n\t/**\n\t * Flag indicating if the dropdown is expanded (open) or not.\n\t * @type {boolean}\n\t * @default false\n\t */\n\texpanded: {\n\t\tvalue: false\n\t},\n\n\t/**\n\t * The position of the dropdown (either 'up', 'down' or any of the position\n\t * constants available in `Align`).\n\t * @type {string|number}\n\t * @default Align.BottomLeft\n\t */\n\tposition: {\n\t\tsetter: 'setterPositionFn_',\n\t\tvalue: Align.BottomLeft,\n\t\tvalidator: 'validatePosition_'\n\t},\n\n\t/**\n\t * Flag indicating if the position class (specified by `classMap` state)\n\t * should be added on the \"dropdown-menu\" element, instead of the main element.\n\t * @type {boolean}\n\t */\n\tpositionClassOnMenu: {\n\t\tvalue: false\n\t}\n};\n\nexport default Dropdown;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from MarbleDropdown.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace MarbleDropdown.\n * @public\n */\n\ngoog.module('MarbleDropdown.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('Dropdown.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  if (opt_data.type == 'filter') {\n    $dropdownFilter(null, null, opt_ijData);\n  } else if (opt_data.type == 'settings') {\n    $dropdownSettings(null, null, opt_ijData);\n  }\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'MarbleDropdown.render';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $dropdownSettings(opt_data, opt_ignored, opt_ijData) {\n  var param10 = function() {\n    ie_void('button', null, null,\n        'class', 'btn-icon icon-16-ellipsis',\n        'data-onclick', 'toggle',\n        'type', 'button');\n  };\n  var param12 = function() {\n    ie_open('li');\n      ie_open('a', null, null,\n          'href', 'javascript:;');\n        ie_void('span', null, null,\n            'class', 'icon-12-spinner-double-arrow');\n        itext('Restart Service');\n      ie_close('a');\n    ie_close('li');\n    ie_open('li');\n      ie_open('a', null, null,\n          'href', 'javascript:;');\n        ie_void('span', null, null,\n            'class', 'icon-12-arrow-increase');\n        itext('Scale Containers');\n      ie_close('a');\n    ie_close('li');\n    ie_open('li');\n      ie_open('a', null, null,\n          'href', 'javascript:;');\n        ie_void('span', null, null,\n            'class', 'icon-12-overlap');\n        itext('Copy Service URL');\n      ie_close('a');\n    ie_close('li');\n    ie_open('li');\n      ie_open('a', null, null,\n          'href', 'javascript:;');\n        ie_void('span', null, null,\n            'class', 'icon-12-house');\n        itext('Set as Home Service');\n      ie_close('a');\n    ie_close('li');\n    ie_open('li');\n      ie_open('a', null, null,\n          'href', 'javascript:;');\n        ie_void('span', null, null,\n            'class', 'icon-12-trash');\n        itext('Delete Service');\n      ie_close('a');\n    ie_close('li');\n  };\n  $templateAlias1({elementClasses: 'dropdown-settings', header: param10, body: param12}, null, opt_ijData);\n}\nexports.dropdownSettings = $dropdownSettings;\nif (goog.DEBUG) {\n  $dropdownSettings.soyTemplateName = 'MarbleDropdown.dropdownSettings';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $dropdownFilter(opt_data, opt_ignored, opt_ijData) {\n  var param17 = function() {\n    ie_open('button', null, null,\n        'class', 'btn btn-default',\n        'data-onclick', 'toggle',\n        'type', 'button');\n      itext('Alphanumeric');\n      ie_void('span', null, null,\n          'class', 'icon-12-arrow-down-short');\n    ie_close('button');\n  };\n  var param19 = function() {\n    ie_open('li');\n      ie_open('a', null, null,\n          'href', 'javascript:;');\n        itext('Last Activity');\n      ie_close('a');\n    ie_close('li');\n    ie_open('li');\n      ie_open('a', null, null,\n          'href', 'javascript:;');\n        itext('Newest');\n      ie_close('a');\n    ie_close('li');\n    ie_open('li');\n      ie_open('a', null, null,\n          'href', 'javascript:;');\n        itext('Alphanumeric');\n      ie_close('a');\n    ie_close('li');\n  };\n  $templateAlias1({elementClasses: 'dropdown-filter', header: param17, body: param19}, null, opt_ijData);\n}\nexports.dropdownFilter = $dropdownFilter;\nif (goog.DEBUG) {\n  $dropdownFilter.soyTemplateName = 'MarbleDropdown.dropdownFilter';\n}\n\nexports.render.params = [\"type\"];\nexports.render.types = {\"type\":\"any\"};\nexports.dropdownSettings.params = [];\nexports.dropdownSettings.types = {};\nexports.dropdownFilter.params = [];\nexports.dropdownFilter.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass MarbleDropdown extends Component {}\nSoy.register(MarbleDropdown, templates);\nexport { MarbleDropdown, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nimport 'metal-dropdown';\n\nimport templates from './MarbleDropdown.soy';\n\nclass MarbleDropdown extends Component {\n\t\n};\n\nSoy.register(MarbleDropdown, templates);\n\nexport default MarbleDropdown;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from InputMatrix.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace InputMatrix.\n * @public\n */\n\ngoog.module('InputMatrix.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('Input.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  var $$temp;\n  ie_open('div', null, null,\n      'class', 'input-matrix ' + (($$temp = opt_data.elementClasses) == null ? '' : $$temp));\n    ie_open('div', null, null,\n        'class', 'input-matrix-labels');\n      var configList9 = opt_data.fieldsConfig;\n      var configListLen9 = configList9.length;\n      for (var configIndex9 = 0; configIndex9 < configListLen9; configIndex9++) {\n        var configData9 = configList9[configIndex9];\n        ie_open('label', null, null,\n            'class', 'input-matrix-label');\n          var dyn0 = ($$temp = configData9.label) == null ? '' : $$temp;\n          if (typeof dyn0 == 'function') dyn0(); else if (dyn0 != null) itext(dyn0);\n        ie_close('label');\n      }\n    ie_close('div');\n    var fieldObjs__soy12 = opt_data.currentFields_ ? opt_data.currentFields_ : [[]];\n    var shouldAddRow__soy13 = '';\n    shouldAddRow__soy13 += $shouldAddRow({currentFields_: ($$temp = fieldObjs__soy12[fieldObjs__soy12.length - 1]) == null ? [] : $$temp, fieldsConfig: opt_data.fieldsConfig}, null, opt_ijData);\n    var rowFieldsList23 = fieldObjs__soy12;\n    var rowFieldsListLen23 = rowFieldsList23.length;\n    for (var rowFieldsIndex23 = 0; rowFieldsIndex23 < rowFieldsListLen23; rowFieldsIndex23++) {\n      var rowFieldsData23 = rowFieldsList23[rowFieldsIndex23];\n      $row({fieldsConfig: opt_data.fieldsConfig, last: ! shouldAddRow__soy13 && rowFieldsIndex23 == fieldObjs__soy12.length - 1, rowFields: rowFieldsData23, rowIndex: rowFieldsIndex23, handleInput_: opt_data.handleInput_}, null, opt_ijData);\n    }\n    if (shouldAddRow__soy13 != '') {\n      $row({fieldsConfig: opt_data.fieldsConfig, last: true, rowFields: [], rowIndex: fieldObjs__soy12.length, handleInput_: opt_data.handleInput_}, null, opt_ijData);\n    }\n  ie_close('div');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'InputMatrix.render';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $row(opt_data, opt_ignored, opt_ijData) {\n  ie_open('div', null, null,\n      'class', 'input-matrix-fields',\n      'data-row', opt_data.rowIndex);\n    ie_open('div', null, null,\n        'class', 'input-matrix-fields-left');\n      var configList44 = opt_data.fieldsConfig;\n      var configListLen44 = configList44.length;\n      for (var configIndex44 = 0; configIndex44 < configListLen44; configIndex44++) {\n        var configData44 = configList44[configIndex44];\n        var index__soy38 = configIndex44;\n        $field(soy.$$assignDefaults({field: opt_data.rowFields ? opt_data.rowFields[index__soy38] : null, fieldIndex: index__soy38, rowIndex: opt_data.rowIndex, handleInput_: opt_data.handleInput_}, configData44), null, opt_ijData);\n      }\n    ie_close('div');\n    ie_open('div', null, null,\n        'class', 'input-matrix-fields-right');\n      if (! opt_data.last) {\n        ie_open('button', null, null,\n            'type', 'button',\n            'class', 'close',\n            'data-onclick', 'handleRemoveClick_',\n            'data-row-index', opt_data.rowIndex,\n            'aria-label', 'Remove',\n            'tabindex', '-1');\n          ie_open('span', null, null,\n              'aria-hidden', 'true');\n            itext('\\u00D7');\n          ie_close('span');\n        ie_close('button');\n      }\n    ie_close('div');\n  ie_close('div');\n}\nexports.row = $row;\nif (goog.DEBUG) {\n  $row.soyTemplateName = 'InputMatrix.row';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $field(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var hasError__soy54 = opt_data.field && opt_data.field.error && opt_data.field.error != '';\n  ie_open('div', null, null,\n      'class', 'form-group ' + (hasError__soy54 ? 'has-error' : ''));\n    var nameSuffix__soy58 = opt_data.isArray ? '[]' : opt_data.rowIndex + 1;\n    $templateAlias1(soy.$$assignDefaults({classes: 'form-control input-matrix-field', onInput: opt_data.handleInput_, name: opt_data.name != null ? opt_data.name + nameSuffix__soy58 : '', value: opt_data.field && opt_data.field.value ? opt_data.field.value : ''}, opt_data), null, opt_ijData);\n    ie_open('p', null, null,\n        'class', 'help-block');\n      var dyn1 = opt_data.field && opt_data.field.error ? opt_data.field.error : '';\n      if (typeof dyn1 == 'function') dyn1(); else if (dyn1 != null) itext(dyn1);\n    ie_close('p');\n  ie_close('div');\n}\nexports.field = $field;\nif (goog.DEBUG) {\n  $field.soyTemplateName = 'InputMatrix.field';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {string}\n * @suppress {checkTypes}\n */\nfunction $shouldAddRow(opt_data, opt_ignored, opt_ijData) {\n  var output = '';\n  var configList73 = opt_data.fieldsConfig;\n  var configListLen73 = configList73.length;\n  for (var configIndex73 = 0; configIndex73 < configListLen73; configIndex73++) {\n    var configData73 = configList73[configIndex73];\n    var index__soy68 = configIndex73;\n    var hasValue__soy69 = opt_data.currentFields_[index__soy68] != null && opt_data.currentFields_[index__soy68].value != null && opt_data.currentFields_[index__soy68].value != '';\n    output += (! configData73.disableDuplication && hasValue__soy69) ? 'true' : '';\n  }\n  return output;\n}\nexports.shouldAddRow = $shouldAddRow;\nif (goog.DEBUG) {\n  $shouldAddRow.soyTemplateName = 'InputMatrix.shouldAddRow';\n}\n\nexports.render.params = [\"currentFields_\",\"elementClasses\",\"fieldsConfig\",\"handleInput_\"];\nexports.render.types = {\"currentFields_\":\"any\",\"elementClasses\":\"any\",\"fieldsConfig\":\"any\",\"handleInput_\":\"any\"};\nexports.row.params = [\"fieldsConfig\",\"handleInput_\",\"last\",\"rowFields\",\"rowIndex\"];\nexports.row.types = {\"fieldsConfig\":\"any\",\"handleInput_\":\"any\",\"last\":\"any\",\"rowFields\":\"any\",\"rowIndex\":\"any\"};\nexports.field.params = [\"field\",\"handleInput_\",\"isArray\",\"name\",\"rowIndex\"];\nexports.field.types = {\"field\":\"any\",\"handleInput_\":\"any\",\"isArray\":\"any\",\"name\":\"any\",\"rowIndex\":\"any\"};\nexports.shouldAddRow.params = [\"currentFields_\",\"fieldsConfig\"];\nexports.shouldAddRow.types = {\"currentFields_\":\"any\",\"fieldsConfig\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass InputMatrix extends Component {}\nSoy.register(InputMatrix, templates);\nexport { InputMatrix, templates };\nexport default templates;\n/* jshint ignore:end */\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from Input.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace Input.\n * @public\n */\n\ngoog.module('Input.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  if (opt_data.isTogglePassword) {\n    ie_open('div', null, null,\n        'class', 'has-action-button');\n      $input(soy.$$assignDefaults({type: opt_data.isShowing_ ? 'text' : 'password'}, opt_data), null, opt_ijData);\n      $togglePassword(opt_data, null, opt_ijData);\n    ie_close('div');\n  } else {\n    $input(opt_data, null, opt_ijData);\n  }\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'Input.render';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $input(opt_data, opt_ignored, opt_ijData) {\n  var $$temp;\n  opt_data = opt_data || {};\n  ie_open_start('input');\n      iattr('type', ($$temp = opt_data.type) == null ? 'text' : $$temp);\n      $fieldAttrs(opt_data, null, opt_ijData);\n  ie_open_end();\n  ie_close('input');\n}\nexports.input = $input;\nif (goog.DEBUG) {\n  $input.soyTemplateName = 'Input.input';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $fieldAttrs(opt_data, opt_ignored, opt_ijData) {\n  var $$temp;\n  opt_data = opt_data || {};\n  iattr('autocomplete', ($$temp = opt_data.autocomplete) == null ? 'on' : $$temp);\n  if (opt_data.classes != null) {\n    iattr('class', opt_data.classes);\n  }\n  if (opt_data.fieldIndex != null) {\n    iattr('data-field-index', opt_data.fieldIndex);\n  }\n  if (opt_data.maxLength != null) {\n    iattr('maxlength', opt_data.maxLength);\n  }\n  if (opt_data.name != null) {\n    iattr('name', opt_data.name);\n  }\n  if (opt_data.onInput != null) {\n    iattr('data-oninput', opt_data.onInput);\n  }\n  if (opt_data.placeholder != null) {\n    iattr('placeholder', opt_data.placeholder);\n  }\n  if (opt_data.readonly != null && opt_data.readonly) {\n    iattr('readonly', '');\n  }\n  if (opt_data.rowIndex != null) {\n    iattr('data-row-index', opt_data.rowIndex);\n  }\n  if (opt_data.value != null) {\n    iattr('value', opt_data.value);\n  }\n}\nexports.fieldAttrs = $fieldAttrs;\nif (goog.DEBUG) {\n  $fieldAttrs.soyTemplateName = 'Input.fieldAttrs';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $togglePassword(opt_data, opt_ignored, opt_ijData) {\n  ie_open('button', null, null,\n      'class', 'btn btn-sm btn-primary',\n      'type', 'button',\n      'data-onclick', 'toggle');\n    ie_void('span', null, null,\n        'class', opt_data.isShowing_ ? 'icon-12-eye-off' : 'icon-12-eye');\n    ie_open('div', null, null,\n        'class', 'btn-tooltip');\n      var dyn0 = opt_data.isShowing_ ? 'Hide' : 'Show';\n      if (typeof dyn0 == 'function') dyn0(); else if (dyn0 != null) itext(dyn0);\n    ie_close('div');\n  ie_close('button');\n}\nexports.togglePassword = $togglePassword;\nif (goog.DEBUG) {\n  $togglePassword.soyTemplateName = 'Input.togglePassword';\n}\n\nexports.render.params = [\"autocomplete\",\"classes\",\"fieldIndex\",\"isShowing_\",\"isTogglePassword\",\"maxLength\",\"name\",\"onInput\",\"readonly\",\"rowIndex\",\"type\",\"value\"];\nexports.render.types = {\"autocomplete\":\"any\",\"classes\":\"any\",\"fieldIndex\":\"any\",\"isShowing_\":\"any\",\"isTogglePassword\":\"any\",\"maxLength\":\"any\",\"name\":\"any\",\"onInput\":\"any\",\"readonly\":\"any\",\"rowIndex\":\"any\",\"type\":\"any\",\"value\":\"any\"};\nexports.input.params = [\"type\"];\nexports.input.types = {\"type\":\"any\"};\nexports.fieldAttrs.params = [\"autocomplete\",\"classes\",\"fieldIndex\",\"maxLength\",\"name\",\"onInput\",\"placeholder\",\"readonly\",\"rowIndex\",\"value\"];\nexports.fieldAttrs.types = {\"autocomplete\":\"any\",\"classes\":\"any\",\"fieldIndex\":\"any\",\"maxLength\":\"any\",\"name\":\"any\",\"onInput\":\"any\",\"placeholder\":\"any\",\"readonly\":\"any\",\"rowIndex\":\"any\",\"value\":\"any\"};\nexports.togglePassword.params = [\"isShowing_\"];\nexports.togglePassword.types = {\"isShowing_\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass Input extends Component {}\nSoy.register(Input, templates);\nexport { Input, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport core from 'metal';\nimport templates from './Input.soy.js';\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nclass Input extends Component {\n\n\tcreated() {\n\t\tthis.isShowing_ = this.initialShow;\n\t\t\n\t\tif(this.editableWhileVisible) {\n\t\t\tif(!this.value || (this.value && this.valeu === '')) {\n\t\t\t\tthis.isShowing_ = true;\n\t\t\t\tthis.readonly = false;\n\t\t\t} else {\n\t\t\t\tif(this.isShowing_) {\n\t\t\t\t\tthis.readonly = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.readonly = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\ttoggle() {\n\t\tthis.isShowing_ = !this.isShowing_;\n\t\t\n\t\tif(this.editableWhileVisible) {\n\t\t\tif(this.isShowing_) {\n\t\t\t\tthis.readonly = false;\n\t\t\t} else {\n\t\t\t\tthis.readonly = true;\n\t\t\t}\n\t\t}\n\t}\n\t\n}\nSoy.register(Input, templates);\n\nInput.STATE = {\n\t/**\n\t * Defines \"autocomplete\" html attribute [on/off]\n\t * @type {string}\n\t * @default 'on'\n\t */\n\tautocomplete: {\n\t\tvalidator: core.isString,\n\t\tvalue: 'on'\n\t},\n\t/**\n\t * Defines which classes this input field should have\n\t * @type {string}\n\t */\n\tclasses: {\n\t\tvalidator: core.isString\n\t},\n\t/**\n\t * Defines if while exposed state, the related field shall be editable\n\t * It only works combined with isTogglePassword\n\t * @type {boolean}\n\t */\n\teditableWhileVisible: {\n\t\tvalidator: core.isBoolean,\n\t\tvalue: false\n\t},\n\t/**\n\t * Defines the index of the field\n\t * @type {number}\n\t */\n\tfieldIndex: {\n\t\tvalidator: core.isNumber\n\t},\n\t/**\n\t * Defines if the value will appear as password or not when it starts\n\t * It only works combined with isTogglePassword\n\t * @type {boolean}\n\t * @default false\n\t */\n\tinitialShow: {\n\t\tvalidator: core.isBoolean,\n\t\tvalue: false\n\t},\n\t/**\n\t * Defines the internal value that controls the related field logic visibility\n\t * @type {boolean}\n\t * @default false\n\t */\n\tisShowing_: {\n\t\tvalidator: core.isBoolean,\n\t\tvalue: false,\n\t\tinternal: true\n\t},\n\t/**\n\t * Defines if this field has a behavior to hide and show the value\n\t * @type {boolean}\n\t * @default false\n\t */\n\tisTogglePassword: {\n\t\tvalidator: core.isBoolean,\n\t\tvalue: false\n\t},\n\t/**\n\t * Defines the maximum length for this field.\n\t * @type {number}\n\t */\n\tmaxLength: {\n\t\tvalidator: core.isNumber\n\n\t},\n\t/**\n\t * Defines the function name to 'oninput' event\n\t * @type {function}\n\t */\n\tonInput: {\n\t\tvalidator: core.isFunction\n\t},\n\t/**\n\t * Defines \"name\" html attribute\n\t * @type {string}\n\t */\n\tname: {\n\t\tvalidator: core.isString\n\t},\n\t/**\n\t * Defines \"placeholder\" html attribute\n\t * @type {string}\n\t */\n\tplaceholder: {\n\t\tvalidator: core.isString\n\t},\n\t/**\n\t * Defines \"readonly\" html attribute\n\t * @type {boolean}\n\t */\n\treadonly: {\n\t\tvalidator: core.isBoolean\n\t},\n\t/**\n\t * Defines which row this field belongs to\n\t * @type {number}\n\t */\n\trowIndex: {\n\t\tvalidator: core.isNumber\n\t},\n\t/**\n\t * @type {string}\n\t * @default 'text'\n\t */\n\ttype: {\n\t\tvalidator: core.isString,\n\t\tvalue: 'text'\n\t},\n\t/**\n\t * Defines the current value\n\t * @type {string}\n\t */\n\tvalue: {\n\t\tvalidator: core.isString\n\t}\n};\n\nexport default Input;\n","'use strict';\n\nimport core from 'metal';\nimport templates from './InputMatrix.soy.js';\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nimport 'metal-input';\n\n/**\n * This component automatically adds new fields to guarantee that there will\n * always be an empty field at the end of the list.\n */\nclass InputMatrix extends Component {\n\t/**\n\t * @inheritDoc\n\t */\n\tcreated() {\n\t\tthis.currentFields_ = this.fields;\n\t}\n\n\t/**\n\t * Converts the specified element attribute to an integer.\n\t * @param {!Element} element\n\t * @param {string} attrName\n\t * @return {number}\n\t * @protected\n\t */\n\tconvertAttrToInt_(element, attrName) {\n\t\treturn parseInt(element.getAttribute(attrName), 10);\n\t}\n\n\t/**\n\t * Handles an `input` event from one of the text fields. Updates the values\n\t * and adds an extra field when necessary.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleInput_(event) {\n\t\tconst element = event.delegateTarget;\n\t\tconst fieldIndex = this.convertAttrToInt_(element, 'data-field-index');\n\t\tconst rowIndex = this.convertAttrToInt_(element, 'data-row-index');\n\t\tthis.currentFields_[rowIndex][fieldIndex] = this.currentFields_[rowIndex][fieldIndex] || {};\n\t\tthis.currentFields_[rowIndex][fieldIndex].value = element.value;\n\t\tthis.currentFields_ = this.currentFields_;\n\t}\n\n\t/**\n\t * Handles a `click` event from one of the field's remove button.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleRemoveClick_(event) {\n\t\tconst element = event.delegateTarget;\n\t\tconst index = this.convertAttrToInt_(element, 'data-row-index');\n\n\t\tthis.currentFields_.splice(index, 1);\n\t\tthis.currentFields_ = this.currentFields_;\n\t}\n\n\t/**\n\t * Sets the `fields` and `currentFields_` state property. If the last row\n\t * contains at least one non empty field that doesn't have\n\t * `disableDuplication` set to true, a new row will be added automatically\n\t * here.\n\t * @param {!Array<!Array<string>} fields\n\t * @return {!Array<!Array<string>}\n\t * @protected\n\t */\n\tsetFieldsFn_(fields) {\n\t\tif (!fields.length) {\n\t\t\tfields = [[]];\n\t\t}\n\n\t\tconst lastRow = fields[fields.length - 1];\n\t\tfor (let i = 0; i < this.fieldsConfig.length; i++) {\n\t\t\tvar config = this.fieldsConfig[i];\n\t\t\tvar hasValue = lastRow[i] && lastRow[i].value && lastRow[i].value !== '';\n\t\t\tif (hasValue && !config.disableDuplication) {\n\t\t\t\tfields.push([]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn fields;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tsyncFields(val) {\n\t\tthis.currentFields_ = val;\n\t}\n}\nSoy.register(InputMatrix, templates);\n\nInputMatrix.STATE = {\n\t/**\n\t * Internal information for each rendered field, in each row. Each field object can\n\t * contain the following data:\n\t * - {string=} value The field's current value\n\t * - {string-} error The error message to be rendered for the field.\n\t * @type {!Array<!Array<!Object>>}\n\t */\n\tcurrentFields_: {\n\t\tinternal: true,\n\t\tsetter: 'setFieldsFn_',\n\t\tvalidator: core.isArray,\n\t\tvalueFn: () => []\n\t},\n\n\t/**\n\t * Information for each rendered field, in each row. Each field object can\n\t * contain the following data:\n\t * - {string=} value The field's current value\n\t * - {string-} error The error message to be rendered for the field.\n\t * @type {!Array<!Array<!Object>>}\n\t */\n\tfields: {\n\t\tsetter: 'setFieldsFn_',\n\t\tvalidator: core.isArray,\n\t\tvalueFn: () => []\n\t},\n\n\t/**\n\t * An array of objects representing fields that should be rendered together.\n\t * Each field config can have one of the following configuration options:\n\t * - {boolean=} autocomplete Optional flag indicating that the \"autocomplete\"\n\t *     html attribute should be added to the input field.\n\t * - {boolean=} disableDuplication Optional flag indicating that typing on\n\t *     this field should not cause another row of fields to be created even if\n\t *     it was on the last row.\n\t * - {boolean=} isArray Optional flag indicating that fields with this name\n\t *     should be named as array fields, not by having different names with\n\t *     indexes.\n\t * - {string=} label Optional label for the field.\n\t * - {number=} maxLength Optional maximum length for this field.\n\t * - {string=} name Optional field name, which will have a counter suffix\n\t *     indicating its row position.\n\t * - {string=} placeholder Optional placeholder for the field.\n\t * @type {!Array<!Object>}\n\t */\n\tfieldsConfig: {\n\t\tvalidator: core.isArray,\n\t\tvalueFn: () => [{}]\n\t}\n};\n\nexport default InputMatrix;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from MarbleInputMatrix.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace MarbleInputMatrix.\n * @public\n */\n\ngoog.module('MarbleInputMatrix.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('InputMatrix.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  $templateAlias1(opt_data, null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'MarbleInputMatrix.render';\n}\n\nexports.render.params = [\"elementClasses\",\"fieldsConfig\"];\nexports.render.types = {\"elementClasses\":\"any\",\"fieldsConfig\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass MarbleInputMatrix extends Component {}\nSoy.register(MarbleInputMatrix, templates);\nexport { MarbleInputMatrix, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nimport 'metal-input-matrix';\n\nimport templates from './MarbleInputMatrix.soy';\n\nclass MarbleInputMatrix extends Component {\n\t\n};\n\nSoy.register(MarbleInputMatrix, templates);\n\nexport default MarbleInputMatrix;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from ProgressBar.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace ProgressBar.\n * @public\n */\n\ngoog.module('ProgressBar.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('soy.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\n\n/**\n * @param {{\n *    barClass: (?),\n *    elementClasses: (?),\n *    max: (?),\n *    min: (?),\n *    value: (?),\n *    label: (?soydata.SanitizedHtml|string|undefined)\n * }} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  soy.asserts.assertType(opt_data.label == null || (opt_data.label instanceof Function) || (opt_data.label instanceof goog.soy.data.SanitizedContent) || (opt_data.label instanceof soydata.UnsanitizedText) || goog.isString(opt_data.label), 'label', opt_data.label, '?soydata.SanitizedHtml|string|undefined');\n  var label = /** @type {?soydata.SanitizedHtml|string|undefined} */ (opt_data.label);\n  var curMax__soy3 = opt_data.max ? opt_data.max : 100;\n  var curMin__soy4 = opt_data.min ? opt_data.min : 0;\n  var curValue__soy5 = opt_data.value ? opt_data.value : 0;\n  ie_open('div', null, null,\n      'class', 'progress ' + (opt_data.elementClasses ? ' ' + opt_data.elementClasses : ''),\n      'role', 'progressbar',\n      'aria-valuemax', curMax__soy3,\n      'aria-valuemin', curMin__soy4,\n      'aria-valuenow', curValue__soy5,\n      'tabindex', '0');\n    var percentage__soy15 = Math.floor((curValue__soy5 - curMin__soy4) * 100 / (curMax__soy3 - curMin__soy4));\n    ie_open('div', null, null,\n        'class', 'progress-bar' + (opt_data.barClass ? ' ' + opt_data.barClass : ''),\n        'style', 'width: ' + percentage__soy15 + '%');\n      var dyn0 = label ? label : '';\n      if (typeof dyn0 == 'function') dyn0(); else if (dyn0 != null) itext(dyn0);\n    ie_close('div');\n  ie_close('div');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'ProgressBar.render';\n}\n\nexports.render.params = [\"label\",\"barClass\",\"elementClasses\",\"max\",\"min\",\"value\"];\nexports.render.types = {\"label\":\"html|string\",\"barClass\":\"any\",\"elementClasses\":\"any\",\"max\":\"any\",\"min\":\"any\",\"value\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass ProgressBar extends Component {}\nSoy.register(ProgressBar, templates);\nexport { ProgressBar, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport core from 'metal';\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nimport templates from './ProgressBar.soy.js';\n\n/**\n * UI Component that renders a progress bar.\n */\nclass ProgressBar extends Component {\n\t/**\n\t * Setter function for the `value` state key. Makes sure the value\n\t * is between the current `min` and `max` state keys.\n\t * @param {number} value\n\t * @return {number}\n\t * @protected\n\t */\n\tsetterValueFn_(value) {\n\t\tif (value < this.min) {\n\t\t\tvalue = this.min;\n\t\t}\n\t\tif (value > this.max) {\n\t\t\tvalue = this.max;\n\t\t}\n\t\treturn value;\n\t}\n\n\t/**\n\t * Synchronization logic for the `max` state.\n\t * @param {number} max\n\t */\n\tsyncMax(max) {\n\t\tif (max < this.value) {\n\t\t\tthis.value = max;\n\t\t}\n\t}\n\n\t/**\n\t * Synchronization logic for the `min` state.\n\t * @param {number} min\n\t */\n\tsyncMin(min) {\n\t\tif (min > this.value) {\n\t\t\tthis.value = min;\n\t\t}\n\t}\n}\n\n/**\n * State definition.\n * @type {!Object}\n * @static\n */\nProgressBar.STATE = {\n\t/**\n\t * Optional CSS classes to be added to the inner progress bar element,\n\t * like 'progress-bar-danger'.\n\t * @type {string}\n\t */\n\tbarClass: {\n\t\tvalidator: core.isString\n\t},\n\n\t/**\n\t * An optional label to be rendered inside the progress bar. Can be either\n\t * a string (with raw text or html) or an incremental dom function.\n\t * @type {function()|string?}\n\t */\n\tlabel: {\n\t\tvalidator: label => {\n\t\t\treturn !core.isDefAndNotNull(label) ||\n\t\t\t\tcore.isString(label) ||\n\t\t\t\tcore.isFunction(label);\n\t\t}\n\t},\n\n\t/**\n\t * The maximum value of the progress bar. When the value is at its\n\t * max, the bar will be fully extended.\n\t * @type {number}\n\t */\n\tmax: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: 100\n\t},\n\n\t/**\n\t * The minimum value of the progress bar. When the value is at its\n\t * max, the bar will be fully collapsed.\n\t * @type {number}\n\t */\n\tmin: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: 0\n\t},\n\n\t/**\n\t * The current value of the progress bar.\n\t * @type {number}\n\t */\n\tvalue: {\n\t\tsetter: 'setterValueFn_',\n\t\tvalidator: core.isNumber,\n\t\tvalue: 0\n\t}\n};\nSoy.register(ProgressBar, templates);\n\nexport default ProgressBar;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from MarbleProgressBar.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace MarbleProgressBar.\n * @public\n */\n\ngoog.module('MarbleProgressBar.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('ProgressBar.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  $templateAlias1(opt_data, null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'MarbleProgressBar.render';\n}\n\nexports.render.params = [\"barClass\",\"min\",\"max\",\"value\"];\nexports.render.types = {\"barClass\":\"any\",\"min\":\"any\",\"max\":\"any\",\"value\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass MarbleProgressBar extends Component {}\nSoy.register(MarbleProgressBar, templates);\nexport { MarbleProgressBar, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nimport 'metal-progressbar';\n\nimport templates from './MarbleProgressBar.soy';\n\nclass MarbleProgressBar extends Component {\n\t\n};\n\nSoy.register(MarbleProgressBar, templates);\n\nexport default MarbleProgressBar;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from Select.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace Select.\n * @public\n */\n\ngoog.module('Select.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('soy.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('Dropdown.incrementaldom', 'render');\n\n\n/**\n * @param {{\n *    arrowClass: (?),\n *    disabled: (?),\n *    buttonClass: (?),\n *    elementClasses: (?),\n *    expanded_: (?),\n *    handleDropdownStateSynced_: (?),\n *    handleItemClick_: (?),\n *    handleItemKeyDown_: (?),\n *    hiddenInputName: (?),\n *    items: (?),\n *    values: (?),\n *    selectedIndex: (?),\n *    label: (?soydata.SanitizedHtml|string|undefined)\n * }} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  var $$temp;\n  soy.asserts.assertType(opt_data.label == null || (opt_data.label instanceof Function) || (opt_data.label instanceof goog.soy.data.SanitizedContent) || (opt_data.label instanceof soydata.UnsanitizedText) || goog.isString(opt_data.label), 'label', opt_data.label, '?soydata.SanitizedHtml|string|undefined');\n  var label = /** @type {?soydata.SanitizedHtml|string|undefined} */ (opt_data.label);\n  ie_open('div', null, null,\n      'class', 'select' + (opt_data.elementClasses ? ' ' + opt_data.elementClasses : ''),\n      'data-onkeydown', 'handleKeyDown_');\n    var currSelectedIndex__soy6 = opt_data.selectedIndex != null ? opt_data.selectedIndex : label || opt_data.items.length == 0 ? -1 : 0;\n    ie_open('input', null, null,\n        'disabled', opt_data.disabled,\n        'type', 'hidden',\n        'name', opt_data.hiddenInputName ? opt_data.hiddenInputName : '',\n        'value', currSelectedIndex__soy6 == -1 ? '' : opt_data.values ? opt_data.values[currSelectedIndex__soy6] : '');\n    ie_close('input');\n    var param14 = function() {\n      var itemList24 = opt_data.items;\n      var itemListLen24 = itemList24.length;\n      for (var itemIndex24 = 0; itemIndex24 < itemListLen24; itemIndex24++) {\n        var itemData24 = itemList24[itemIndex24];\n        ie_open('li', null, null,\n            'data-onclick', ($$temp = opt_data.handleItemClick_) == null ? '' : $$temp,\n            'data-onkeydown', ($$temp = opt_data.handleItemKeyDown_) == null ? '' : $$temp,\n            'class', 'select-option' + (currSelectedIndex__soy6 == itemIndex24 ? ' selected' : ''));\n          ie_open('a', null, null,\n              'href', 'javascript:;');\n            var dyn0 = itemData24;\n            if (typeof dyn0 == 'function') dyn0(); else if (dyn0 != null) itext(dyn0);\n          ie_close('a');\n        ie_close('li');\n      }\n    };\n    var param28 = function() {\n      ie_open('button', null, null,\n          'class', (opt_data.buttonClass ? opt_data.buttonClass : '') + ' dropdown-select',\n          'disabled', opt_data.disabled,\n          'type', 'button',\n          'data-onclick', 'toggle',\n          'aria-haspopup', 'true',\n          'aria-expanded', opt_data.expanded_ ? 'true' : 'false');\n        if (currSelectedIndex__soy6 == -1) {\n          var dyn1 = label;\n          if (typeof dyn1 == 'function') dyn1(); else if (dyn1 != null) itext(dyn1);\n        } else {\n          var dyn2 = opt_data.items[currSelectedIndex__soy6];\n          if (typeof dyn2 == 'function') dyn2(); else if (dyn2 != null) itext(dyn2);\n        }\n        itext(' ');\n        ie_void('span', null, null,\n            'class', opt_data.arrowClass ? opt_data.arrowClass : 'caret');\n      ie_close('button');\n    };\n    $templateAlias1({body: param14, events: {stateSynced: opt_data.handleDropdownStateSynced_}, expanded: opt_data.disabled ? false : opt_data.expanded_, header: param28, ref: 'dropdown'}, null, opt_ijData);\n  ie_close('div');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'Select.render';\n}\n\nexports.render.params = [\"label\",\"arrowClass\",\"disabled\",\"buttonClass\",\"elementClasses\",\"expanded_\",\"handleDropdownStateSynced_\",\"handleItemClick_\",\"handleItemKeyDown_\",\"hiddenInputName\",\"items\",\"values\",\"selectedIndex\"];\nexports.render.types = {\"label\":\"html|string\",\"arrowClass\":\"any\",\"disabled\":\"any\",\"buttonClass\":\"any\",\"elementClasses\":\"any\",\"expanded_\":\"any\",\"handleDropdownStateSynced_\":\"any\",\"handleItemClick_\":\"any\",\"handleItemKeyDown_\":\"any\",\"hiddenInputName\":\"any\",\"items\":\"any\",\"values\":\"any\",\"selectedIndex\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass Select extends Component {}\nSoy.register(Select, templates);\nexport { Select, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport core from 'metal';\nimport dom from 'metal-dom';\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport 'metal-dropdown';\nimport templates from './Select.soy.js';\n\n/**\n * Responsible for rendering and handling a custom select component, based\n * on `Dropdown`.\n */\nclass Select extends Component {\n\t/**\n\t * @inheritDoc\n\t */\n\tattached() {\n\t\tthis.on('itemsChanged', this.handleItemsChanged_);\n\t}\n\n\t/**\n\t * Finds the index of the given element in the items array.\n\t * @param {!Element} element\n\t * @return {number}\n\t * @protected\n\t */\n\tfindItemIndex_(element) {\n\t\tvar items = this.element.querySelectorAll('li');\n\t\tfor (var i = 0; i < items.length; i++) {\n\t\t\tif (items.item(i) === element) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Focuses the option at the given index.\n\t * @param {number} index\n\t * @protected\n\t */\n\tfocusIndex_(index) {\n\t\tvar option = this.element.querySelector('.select-option:nth-child(' + (index + 1) + ') a');\n\t\tif (option) {\n\t\t\tthis.focusedIndex_ = index;\n\t\t\toption.focus();\n\t\t}\n\t}\n\n\t/**\n\t * Gets the `Dropdown` instance used by this `Select`.\n\t * @return {!Dropdown}\n\t */\n\tgetDropdown() {\n\t\treturn this.components.dropdown;\n\t}\n\n\t/**\n\t * Gets `seletectIndex`'s default value.\n\t * @return {!Dropdown}\n\t */\n\tgetSelectedIndexDefaultValue_() {\n\t\treturn this.label || !this.items.length ? -1 : 0;\n\t}\n\n\t/**\n\t * Handles a `stateSynced` event for the dropdown.\n\t * @param {!Object} data\n\t * @protected\n\t */\n\thandleDropdownStateSynced_(data) {\n\t\tif (this.openedWithKeyboard_) {\n\t\t\t// This is done on `stateSynced` because the items need to have already\n\t\t\t// been made visible before we try focusing them.\n\t\t\tthis.focusIndex_(0);\n\t\t\tthis.openedWithKeyboard_ = false;\n\t\t} else if (this.closedWithKeyboard_) {\n\t\t\tthis.element.querySelector('.dropdown-select').focus();\n\t\t\tthis.closedWithKeyboard_ = false;\n\t\t} else if (data.changes.expanded) {\n\t\t\tthis.focusedIndex_ = null;\n\t\t}\n\n\t\tthis.expanded_ = this.getDropdown().expanded;\n\t}\n\n\t/**\n\t * Handles the `itemsChanged` event. Sets the default value to the `selectedIndex`.\n\t * @param {!Object} data\n\t * @protected\n\t*/\n\thandleItemsChanged_() {\n\t\tthis.selectedIndex = this.getSelectedIndexDefaultValue_();\n\t}\n\n\t/**\n\t * Handles a `click` event on one of the items. Updates `selectedIndex`\n\t * accordingly.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleItemClick_(event) {\n\t\tthis.selectItem_(event.delegateTarget);\n\t\tevent.preventDefault();\n\t}\n\n\t/**\n\t * Handles a `keydown` event on one of the items. Updates `selectedIndex`\n\t * accordingly.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleItemKeyDown_(event) {\n\t\tif ((event.keyCode === 13 || event.keyCode === 32)) {\n\t\t\tthis.closedWithKeyboard_ = true;\n\t\t\tthis.selectItem_(event.delegateTarget);\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\t/**\n\t * Handles a `keydown` event on this component. Handles keyboard controls.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleKeyDown_(event) {\n\t\tif (this.expanded_) {\n\t\t\tswitch (event.keyCode) {\n\t\t\t\tcase 27:\n\t\t\t\t\tthis.closedWithKeyboard_ = true;\n\t\t\t\t\tthis.expanded_ = false;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 38:\n\t\t\t\t\tthis.focusedIndex_ = core.isDefAndNotNull(this.focusedIndex_) ? this.focusedIndex_ : 1;\n\t\t\t\t\tthis.focusIndex_(this.focusedIndex_ === 0 ? this.items.length - 1 : this.focusedIndex_ - 1);\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 40:\n\t\t\t\t\tthis.focusedIndex_ = core.isDefAndNotNull(this.focusedIndex_) ? this.focusedIndex_ : -1;\n\t\t\t\t\tthis.focusIndex_(this.focusedIndex_ === this.items.length - 1 ? 0 : this.focusedIndex_ + 1);\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} else if ((event.keyCode === 13 || event.keyCode === 32) && dom.hasClass(event.target, 'dropdown-select')) {\n\t\t\tthis.openedWithKeyboard_ = true;\n\t\t\tthis.expanded_ = true;\n\t\t\tevent.preventDefault();\n\t\t\treturn;\n\t\t}\n\t}\n\n\t/**\n\t * Selects the item for the given element, and closes the dropdown.\n\t * @param {!Element} itemElement\n\t * @protected\n\t */\n\tselectItem_(itemElement) {\n\t\tthis.selectedIndex = this.findItemIndex_(itemElement);\n\t\tthis.expanded_ = false;\n\t}\n\n\t/**\n\t * Setter for items attribute.\n\t * @param {!Array<string>} items\n\t * @protected\n\t */\n\tsetItems_(items) {\n\t\treturn items.map((item) => Soy.toIncDom(item));\n\t}\n\n}\nSoy.register(Select, templates);\n\n/**\n * State definition.\n * @type {!Object}\n * @static\n */\nSelect.STATE = {\n\t/**\n\t * The CSS class used by the select menu arrow.\n\t * @type {string}\n\t * @default 'caret'\n\t */\n\tarrowClass: {\n\t\tvalue: 'caret'\n\t},\n\n\t/**\n\t * The CSS class used by the select menu button.\n\t * @type {string}\n\t * @default 'btn btn-default'\n\t */\n\tbuttonClass: {\n\t\tvalidator: core.isString,\n\t\tvalue: 'btn btn-default'\n\t},\n\n\t/**\n\t * Block or unblock the component behaviours.\n\t * @type {boolean}\n\t * @default false\n\t */\n\tdisabled: {\n\t\tvalidator: core.isBoolean,\n\t\tvalue: false\n\t},\n\n\t/**\n\t * Flag indicating if the select dropdown is currently expanded.\n\t * @type {boolean}\n\t */\n\texpanded_: {\n\t\tsetter: function(value) {\n\t\t\treturn !this.disabled ? value : false;\n\t\t},\n\t\tvalidator: core.isBoolean,\n\t\tvalue: false,\n\t\tinternal: true\n\t},\n\n\t/**\n\t * The name of the hidden input field\n\t * @type {string}\n\t */\n\thiddenInputName: {\n\t\tvalidator: core.isString\n\t},\n\n\t/**\n\t * A list representing the select dropdown items.\n\t * @type {!Array<string>}\n\t * @default []\n\t */\n\titems: {\n\t\tsetter: 'setItems_',\n\t\tvalidator: val => val instanceof Array,\n\t\tvalueFn: function() {\n\t\t\treturn [];\n\t\t}\n\t},\n\n\t/**\n\t * The label that should be used for the select menu when no item is\n\t * selected. If not set, the first item will be selected automatically.\n\t * @type {string}\n\t */\n\tlabel: {\n\t\tvalidator: core.isString\n\t},\n\n\t/**\n\t * The index of the currently selected item, or -1 if none is selected.\n\t * @type {number}\n\t */\n\tselectedIndex: {\n\t\tvalidator: core.isNumber,\n\t\tvalueFn: 'getSelectedIndexDefaultValue_'\n\t},\n\n\t/**\n\t * A list representing the select dropdown values.\n\t * @type {Array<string>=}\n\t */\n\tvalues: {\n\t\tvalidator: val => val instanceof Array\n\t}\n};\n\n/**\n * Default element classes.\n * @type {string}\n * @static\n */\nSelect.ELEMENT_CLASSES = 'select';\n\nexport default Select;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from MarbleSelect.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace MarbleSelect.\n * @public\n */\n\ngoog.module('MarbleSelect.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('Select.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  $templateAlias1(opt_data, null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'MarbleSelect.render';\n}\n\nexports.render.params = [\"arrowClass\",\"buttonClass\",\"hiddenInputName\",\"items\",\"ref\",\"values\",\"selectedIndex\"];\nexports.render.types = {\"arrowClass\":\"any\",\"buttonClass\":\"any\",\"hiddenInputName\":\"any\",\"items\":\"any\",\"ref\":\"any\",\"values\":\"any\",\"selectedIndex\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass MarbleSelect extends Component {}\nSoy.register(MarbleSelect, templates);\nexport { MarbleSelect, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nimport 'metal-select';\n\nimport templates from './MarbleSelect.soy';\n\nclass MarbleSelect extends Component {\n\t\n};\n\nSoy.register(MarbleSelect, templates);\n\nexport default MarbleSelect;\n","'use strict';\n\nimport core from 'metal';\nimport State from 'metal-state';\nimport Position from 'metal-position';\n\n/**\n * Helper called by the `Drag` instance that scrolls elements when the\n * mouse is near their boundaries.\n */\nclass DragAutoScroll extends State {\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor(opt_config) {\n\t\tsuper(opt_config);\n\n\t\t/**\n\t\t * The handler for the current call to `setTimeout`.\n\t\t * @type {?number}\n\t\t * @protected\n\t\t */\n\t\tthis.scrollTimeout_ = null;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tsuper.disposeInternal();\n\t\tthis.stop();\n\t}\n\n\t/**\n\t * Gets the region for the given scroll container, without including scroll.\n\t * @param {!Element} scrollContainer\n\t * @return {!Object}\n\t * @protected\n\t */\n\tgetRegionWithoutScroll_(scrollContainer) {\n\t\tif (core.isDocument(scrollContainer)) {\n\t\t\tvar height = window.innerHeight;\n\t\t\tvar width = window.innerWidth;\n\t\t\treturn Position.makeRegion(height, height, 0, width, 0, width);\n\t\t} else {\n\t\t\treturn Position.getRegion(scrollContainer);\n\t\t}\n\t}\n\n\t/**\n\t * Schedules a function to scroll the given containers.\n\t * @param {!Array<!Element>} scrollContainers\n\t * @param {number} mouseX\n\t * @param {number} mouseY\n\t */\n\tscroll(scrollContainers, mouseX, mouseY) {\n\t\tthis.stop();\n\t\tthis.scrollTimeout_ = setTimeout(\n\t\t\tthis.scrollInternal_.bind(this, scrollContainers, mouseX, mouseY),\n\t\t\tthis.delay\n\t\t);\n\t}\n\n\t/**\n\t * Adds the given deltas to the given element's scroll position.\n\t * @param {!Element} element\n\t * @param {number} deltaX\n\t * @param {number} deltaY\n\t * @protected\n\t */\n\tscrollElement_(element, deltaX, deltaY) {\n\t\tif (core.isDocument(element)) {\n\t\t\twindow.scrollBy(deltaX, deltaY);\n\t\t} else {\n\t\t\telement.scrollTop += deltaY;\n\t\t\telement.scrollLeft += deltaX;\n\t\t}\n\t}\n\n\t/**\n\t * Scrolls the given containers if the mouse is near their boundaries.\n\t * @param {!Array<!Element>} scrollContainers\n\t * @param {number} mouseX\n\t * @param {number} mouseY\n\t * @protected\n\t */\n\tscrollInternal_(scrollContainers, mouseX, mouseY) {\n\t\tfor (var i = 0; i < scrollContainers.length; i++) {\n\t\t\tvar scrollRegion = this.getRegionWithoutScroll_(scrollContainers[i]);\n\t\t\tif (!Position.pointInsideRegion(mouseX, mouseY, scrollRegion)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar deltaX = 0;\n\t\t\tvar deltaY = 0;\n\t\t\tvar scrollTop = Position.getScrollTop(scrollContainers[i]);\n\t\t\tvar scrollLeft = Position.getScrollLeft(scrollContainers[i]);\n\t\t\tif (scrollLeft > 0 && Math.abs(mouseX - scrollRegion.left) <= this.maxDistance) {\n\t\t\t\tdeltaX -= this.speed;\n\t\t\t} else if (Math.abs(mouseX - scrollRegion.right) <= this.maxDistance) {\n\t\t\t\tdeltaX += this.speed;\n\t\t\t}\n\t\t\tif (scrollTop > 0 && Math.abs(mouseY - scrollRegion.top) <= this.maxDistance) {\n\t\t\t\tdeltaY -= this.speed;\n\t\t\t} else if (Math.abs(mouseY - scrollRegion.bottom) <= this.maxDistance) {\n\t\t\t\tdeltaY += this.speed;\n\t\t\t}\n\n\t\t\tif (deltaX || deltaY) {\n\t\t\t\tthis.scrollElement_(scrollContainers[i], deltaX, deltaY);\n\t\t\t\tthis.scroll(scrollContainers, mouseX, mouseY);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Stops any auto scrolling that was scheduled to happen in the future.\n\t */\n\tstop() {\n\t\tclearTimeout(this.scrollTimeout_);\n\t}\n}\n\n/**\n * State definition.\n * @type {!Object}\n * @static\n */\nDragAutoScroll.STATE = {\n\t/**\n\t * The delay in ms before an element is scrolled automatically.\n\t * @type {number}\n\t * @default 200\n\t */\n\tdelay: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: 50\n\t},\n\n\t/**\n\t * The maximum distance the mouse needs to be from an element before\n\t * it will be scrolled automatically.\n\t * @type {number}\n\t * @default 10\n\t */\n\tmaxDistance: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: 20\n\t},\n\n\t/**\n\t * The number of pixels that will be scrolled each time.\n\t * @type {number}\n\t * @default 10\n\t */\n\tspeed: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: 20\n\t}\n};\n\nexport default DragAutoScroll;\n","'use strict';\n\nimport dom from 'metal-dom';\nimport { EventEmitter, EventHandler } from 'metal-events';\nimport Position from 'metal-position';\n\n/**\n * Helper called by the `Drag` instance that emits an event whenever\n * the scroll position of the given containers change.\n */\nclass DragScrollDelta extends EventEmitter {\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor() {\n\t\tsuper();\n\t\t/**\n\t\t * `EventHandler` for the scroll events.\n\t\t * @type {EventHandler}\n\t\t * @protected\n\t\t */\n\t\tthis.handler_ = new EventHandler();\n\n\t\t/**\n\t\t * The scroll positions for the scroll elements that are being listened to.\n\t\t * @type {Array}\n\t\t * @protected\n\t\t */\n\t\tthis.scrollPositions_ = [];\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tsuper.disposeInternal();\n\t\tthis.stop();\n\t\tthis.handler_ = null;\n\t}\n\n\t/**\n\t * Handles a \"scroll\" event, emitting a \"scrollDelta\" event with the\n\t * difference between the previous and new values.\n\t * @param {number} index\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleScroll_(index, event) {\n\t\tvar newPosition = {\n\t\t\tscrollLeft: Position.getScrollLeft(event.currentTarget),\n\t\t\tscrollTop: Position.getScrollTop(event.currentTarget)\n\t\t};\n\t\tvar position = this.scrollPositions_[index];\n\t\tthis.scrollPositions_[index] = newPosition;\n\n\t\tthis.emit('scrollDelta', {\n\t\t\tdeltaX: newPosition.scrollLeft - position.scrollLeft,\n\t\t\tdeltaY: newPosition.scrollTop - position.scrollTop\n\t\t});\n\t}\n\n\t/**\n\t * Starts listening to scroll changes on the given elements that contain\n\t * the current drag node.\n\t * @param {!Element} dragNode\n\t * @param {!Array<!Element>} scrollContainers\n\t */\n\tstart(dragNode, scrollContainers) {\n\t\tif (getComputedStyle(dragNode).position === 'fixed') {\n\t\t\t// If the drag node's position is \"fixed\", then its coordinates don't need to\n\t\t\t// be updated when parents are scrolled.\n\t\t\treturn;\n\t\t}\n\n\t\tfor (var i = 0; i < scrollContainers.length; i++) {\n\t\t\tif (dom.contains(scrollContainers[i], dragNode)) {\n\t\t\t\tthis.scrollPositions_.push({\n\t\t\t\t\tscrollLeft: Position.getScrollLeft(scrollContainers[i]),\n\t\t\t\t\tscrollTop: Position.getScrollTop(scrollContainers[i])\n\t\t\t\t});\n\n\t\t\t\tvar index = this.scrollPositions_.length - 1;\n\t\t\t\tthis.handler_.add(dom.on(scrollContainers[i], 'scroll', this.handleScroll_.bind(this, index)));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Stops listening to scroll changes.\n\t */\n\tstop() {\n\t\tthis.handler_.removeAllListeners();\n\t\tthis.scrollPositions_ = [];\n\t}\n}\n\nexport default DragScrollDelta;\n","'use strict';\n\nimport dom from 'metal-dom';\n\n/**\n * Helper called by the `Drag` instance that creates a shim element\n * for attaching event listeners instead of attaching them to the\n * document. Helpful when dragging over iframes.\n */\nclass DragShim {\n\t/**\n\t * Attaches a listener for the document. If `useShim` is true, a\n\t * shim element covering the whole document will be created and\n\t * the listener will be attached to it instead.\n\t * @param {boolean} useShim\n\t * @param {!Object<string, !function()>} listeners\n\t * @return {!Array<!EventHandle>}\n\t * @static\n\t */\n\tstatic attachDocListeners(useShim, listeners) {\n\t\tvar element = document;\n\t\tif (useShim) {\n\t\t\telement = DragShim.getDocShim();\n\t\t\telement.style.display = 'block';\n\t\t}\n\t\tvar eventTypes = Object.keys(listeners);\n\t\treturn eventTypes.map(function(type) {\n\t\t\tvar isTouch = type.substr(0, 5) === 'touch';\n\t\t\treturn dom.on(isTouch ? document : element, type, listeners[type]);\n\t\t});\n\t}\n\n\t/**\n\t * Gets the document's shim element, creating it when called for the first time.\n\t * @return {!Element}\n\t * @static\n\t */\n\tstatic getDocShim() {\n\t\tif (!DragShim.docShim_) {\n\t\t\tDragShim.docShim_ = document.createElement('div');\n\t\t\tDragShim.docShim_.className = 'shim';\n\t\t\tDragShim.docShim_.style.position = 'fixed';\n\t\t\tDragShim.docShim_.style.top = 0;\n\t\t\tDragShim.docShim_.style.left = 0;\n\t\t\tDragShim.docShim_.style.width = '100%';\n\t\t\tDragShim.docShim_.style.height = '100%';\n\t\t\tDragShim.docShim_.style.display = 'none';\n\t\t\tDragShim.docShim_.style.opacity = 0;\n\t\t\tDragShim.docShim_.style.zIndex = 9999;\n\t\t\tdom.enterDocument(DragShim.docShim_);\n\t\t}\n\t\treturn DragShim.docShim_;\n\t}\n\n\t/**\n\t * Hides the document's shim element.\n\t * @static\n\t */\n\tstatic hideDocShim() {\n\t\tDragShim.getDocShim().style.display = 'none';\n\t}\n\n\t/**\n\t * Resets `DragShim`, removing the shim element from the document\n\t * and clearing its variable so it can be created again.\n\t * @static\n\t */\n\tstatic reset() {\n\t\tif (DragShim.docShim_) {\n\t\t\tdom.exitDocument(DragShim.docShim_);\n\t\t\tDragShim.docShim_ = null;\n\t\t}\n\t}\n}\n\n/**\n * The shim element. This is only created when necessary.\n * @type {Element}\n * @protected\n * @static\n */\nDragShim.docShim_ = null;\n\nexport default DragShim;\n","'use strict';\n\nimport { core, object } from 'metal';\nimport dom from 'metal-dom';\nimport DragAutoScroll from './helpers/DragAutoScroll';\nimport DragScrollDelta from './helpers/DragScrollDelta';\nimport DragShim from './helpers/DragShim';\nimport { EventHandler } from 'metal-events';\nimport Position from 'metal-position';\nimport State from 'metal-state';\n\n/**\n * Responsible for making elements draggable. Handles all the logic\n * for dragging elements. Dropping is handled by `DragDrop`.\n * @extends {State}\n */\nclass Drag extends State {\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor(opt_config) {\n\t\tsuper(opt_config);\n\n\t\t/**\n\t\t * The drag placeholder that is active at the moment.\n\t\t * @type {Element}\n\t\t * @protected\n\t\t */\n\t\tthis.activeDragPlaceholder_ = null;\n\n\t\t/**\n\t\t * The drag source that is active at the moment.\n\t\t * @type {Element}\n\t\t * @protected\n\t\t */\n\t\tthis.activeDragSource_ = null;\n\n\t\t/**\n\t\t * The distance that has been dragged.\n\t\t * @type {number}\n\t\t * @protected\n\t\t */\n\t\tthis.distanceDragged_ = 0;\n\n\t\t/**\n\t\t * Flag indicating if one of the sources are being dragged.\n\t\t * @type {boolean}\n\t\t * @protected\n\t\t */\n\t\tthis.dragging_ = false;\n\n\t\t/**\n\t\t * The `EventHandler` instance that holds events that keep track of the drag action.\n\t\t * @type {!EventHandler}\n\t\t * @protected\n\t\t */\n\t\tthis.dragHandler_ = new EventHandler();\n\n\t\t/**\n\t\t * `DragScrollDelta` instance.\n\t\t * @type {!DragScrollDelta}\n\t\t * @protected\n\t\t */\n\t\tthis.dragScrollDelta_ = new DragScrollDelta();\n\n\t\t/**\n\t\t * The current x and y positions of the mouse (or null if not dragging).\n\t\t * @type {{x: number, y: number}}\n\t\t * @protected\n\t\t */\n\t\tthis.mousePos_ = null;\n\n\t\t/**\n\t\t * The distance between the mouse position and the dragged source position\n\t\t * (or null if not dragging).\n\t\t * @type {{x: number, y: number}}\n\t\t * @protected\n\t\t */\n\t\tthis.mouseSourceDelta_ = null;\n\n\t\t/**\n\t\t * The `EventHandler` instance that holds events for the source (or sources).\n\t\t * @type {!EventHandler}\n\t\t * @protected\n\t\t */\n\t\tthis.sourceHandler_ = new EventHandler();\n\n\t\t/**\n\t\t * The current region values of the element being dragged, relative to\n\t\t * the document (or null if not dragging).\n\t\t * @type {Object}\n\t\t * @protected\n\t\t */\n\t\tthis.sourceRegion_ = null;\n\n\t\t/**\n\t\t * The current x and y positions of the element being dragged relative to its\n\t\t * `offsetParent`, or to the viewport if there's no `offsetParent`\n\t\t * (or null if not dragging).\n\t\t * @type {{x: number, y: number}}\n\t\t * @protected\n\t\t */\n\t\tthis.sourceRelativePos_ = null;\n\n\t\tthis.attachSourceEvents_();\n\t\tthis.on(Drag.Events.DRAG, this.defaultDragFn_, true);\n\t\tthis.on(Drag.Events.END, this.defaultEndFn_, true);\n\t\tthis.on('sourcesChanged', this.handleSourcesChanged_.bind(this));\n\t\tthis.on('containerChanged', this.handleContainerChanged_.bind(this));\n\t\tthis.dragScrollDelta_.on('scrollDelta', this.handleScrollDelta_.bind(this));\n\t\tdom.on(document, 'keydown', this.handleKeyDown_.bind(this));\n\t}\n\n\t/**\n\t * Attaches the necessary events to the source (or sources).\n\t * @protected\n\t */\n\tattachSourceEvents_() {\n\t\tvar toAttach = {\n\t\t\tkeydown: this.handleSourceKeyDown_.bind(this),\n\t\t\tmousedown: this.handleDragStartEvent_.bind(this),\n\t\t\ttouchstart: this.handleDragStartEvent_.bind(this)\n\t\t};\n\t\tvar eventTypes = Object.keys(toAttach);\n\t\tfor (var i = 0; i < eventTypes.length; i++) {\n\t\t\tvar listenerFn = toAttach[eventTypes[i]];\n\t\t\tif (core.isString(this.sources)) {\n\t\t\t\tthis.sourceHandler_.add(dom.delegate(this.container, eventTypes[i], this.sources, listenerFn));\n\t\t\t} else {\n\t\t\t\tthis.sourceHandler_.add(dom.on(this.sources, eventTypes[i], listenerFn));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Builds the object with data to be passed to a drag event.\n\t * @return {!Object}\n\t * @protected\n\t */\n\tbuildEventObject_() {\n\t\treturn {\n\t\t\tplaceholder: this.activeDragPlaceholder_,\n\t\t\tsource: this.activeDragSource_,\n\t\t\trelativeX: this.sourceRelativePos_.x,\n\t\t\trelativeY: this.sourceRelativePos_.y,\n\t\t\tx: this.sourceRegion_.left,\n\t\t\ty: this.sourceRegion_.top\n\t\t};\n\t}\n\n\t/**\n\t * Calculates the initial positions for the drag action.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\tcalculateInitialPosition_(event) {\n\t\tthis.sourceRegion_ = object.mixin({}, Position.getRegion(this.activeDragSource_, true));\n\t\tthis.sourceRelativePos_ = {\n\t\t\tx: this.activeDragSource_.offsetLeft,\n\t\t\ty: this.activeDragSource_.offsetTop\n\t\t};\n\t\tif (core.isDef(event.clientX)) {\n\t\t\tthis.mousePos_ = {\n\t\t\t\tx: event.clientX,\n\t\t\t\ty: event.clientY\n\t\t\t};\n\t\t\tthis.mouseSourceDelta_ = {\n\t\t\t\tx: this.sourceRegion_.left - this.mousePos_.x,\n\t\t\t\ty: this.sourceRegion_.top - this.mousePos_.y\n\t\t\t};\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given event can start a drag operation.\n\t * @param {!Event} event\n\t * @return {boolean}\n\t * @protected\n\t */\n\tcanStartDrag_(event) {\n\t\treturn !this.disabled &&\n\t\t\t(!core.isDef(event.button) || event.button === 0) &&\n\t\t\t!this.isDragging() &&\n\t\t\tthis.isWithinHandle_(event.target);\n\t}\n\n\t/**\n\t * Resets all variables to their initial values and detaches drag listeners.\n\t * @protected\n\t */\n\tcleanUpAfterDragging_() {\n\t\tif (this.activeDragPlaceholder_) {\n\t\t\tthis.activeDragPlaceholder_.setAttribute('aria-grabbed', 'false');\n\t\t\tdom.removeClasses(this.activeDragPlaceholder_, this.draggingClass);\n\t\t\tif (this.dragPlaceholder === Drag.Placeholder.CLONE) {\n\t\t\t\tdom.exitDocument(this.activeDragPlaceholder_);\n\t\t\t}\n\t\t}\n\t\tthis.activeDragPlaceholder_ = null;\n\t\tthis.activeDragSource_ = null;\n\t\tthis.sourceRegion_ = null;\n\t\tthis.sourceRelativePos_ = null;\n\t\tthis.mousePos_ = null;\n\t\tthis.mouseSourceDelta_ = null;\n\t\tthis.dragging_ = false;\n\t\tthis.dragHandler_.removeAllListeners();\n\t}\n\n\t/**\n\t * Clones the active drag source and adds the clone to the document.\n\t * @return {!Element}\n\t * @protected\n\t */\n\tcloneActiveDrag_() {\n\t\tvar placeholder = this.activeDragSource_.cloneNode(true);\n\t\tplaceholder.style.position = 'absolute';\n\t\tplaceholder.style.left = this.sourceRelativePos_.x + 'px';\n\t\tplaceholder.style.top = this.sourceRelativePos_.y + 'px';\n\t\tdom.append(this.activeDragSource_.parentNode, placeholder);\n\t\treturn placeholder;\n\t}\n\n\t/**\n\t * Constrains the given region according to the current state configuration.\n\t * @param {!Object} region\n\t * @protected\n\t */\n\tconstrain_(region) {\n\t\tthis.constrainToSteps_(region);\n\t\tthis.constrainToRegion_(region);\n\t\tthis.constrainToAxis_(region);\n\t}\n\n\t/**\n\t * Constrains the given region according to the chosen drag axis, if any.\n\t * @param {!Object} region\n\t * @protected\n\t */\n\tconstrainToAxis_(region) {\n\t\tif (this.axis === 'x') {\n\t\t\tregion.top = this.sourceRegion_.top;\n\t\t\tregion.bottom = this.sourceRegion_.bottom;\n\t\t} else if (this.axis === 'y') {\n\t\t\tregion.left = this.sourceRegion_.left;\n\t\t\tregion.right = this.sourceRegion_.right;\n\t\t}\n\t}\n\n\t/**\n\t * Constrains the given region within the region defined by the `constrain` state.\n\t * @param {!Object} region\n\t * @protected\n\t */\n\tconstrainToRegion_(region) {\n\t\tvar constrain = this.constrain;\n\t\tif (!constrain) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (core.isFunction(constrain)) {\n\t\t\tobject.mixin(region, constrain(region));\n\n\t\t} else {\n\t\t\tif (core.isElement(constrain)) {\n\t\t\t\tconstrain = Position.getRegion(constrain, true);\n\t\t\t}\n\t\t\tif (region.left < constrain.left) {\n\t\t\t\tregion.left = constrain.left;\n\t\t\t} else if (region.right > constrain.right) {\n\t\t\t\tregion.left -= region.right - constrain.right;\n\t\t\t}\n\t\t\tif (region.top < constrain.top) {\n\t\t\t\tregion.top = constrain.top;\n\t\t\t} else if (region.bottom > constrain.bottom) {\n\t\t\t\tregion.top -= region.bottom - constrain.bottom;\n\t\t\t}\n\t\t\tregion.right = region.left + region.width;\n\t\t\tregion.bottom = region.top + region.height;\n\t\t}\n\t}\n\n\t/**\n\t * Constrains the given region to change according to the `steps` state.\n\t * @param {!Object} region\n\t * @protected\n\t */\n\tconstrainToSteps_(region) {\n\t\tvar deltaX = region.left - this.sourceRegion_.left;\n\t\tvar deltaY = region.top - this.sourceRegion_.top;\n\t\tregion.left -= deltaX % this.steps.x;\n\t\tregion.right = region.left + region.width;\n\t\tregion.top -= deltaY % this.steps.y;\n\t\tregion.bottom = region.top + region.height;\n\t}\n\n\t/**\n\t * Creates the active drag placeholder, unless it already exists.\n\t * @protected\n\t */\n\tcreateActiveDragPlaceholder_() {\n\t\tvar dragPlaceholder = this.dragPlaceholder;\n\t\tif (dragPlaceholder === Drag.Placeholder.CLONE) {\n\t\t\tthis.activeDragPlaceholder_ = this.cloneActiveDrag_();\n\t\t} else if (core.isElement(dragPlaceholder)) {\n\t\t\tthis.activeDragPlaceholder_ = dragPlaceholder;\n\t\t} else {\n\t\t\tthis.activeDragPlaceholder_ = this.activeDragSource_;\n\t\t}\n\t}\n\n\t/**\n\t * The default behavior for the `Drag.Events.DRAG` event. Can be prevented\n\t * by calling the `preventDefault` function on the event's facade. Moves\n\t * the placeholder to the new calculated source position.\n\t * @protected\n\t */\n\tdefaultDragFn_() {\n\t\tthis.moveToPosition_(this.activeDragPlaceholder_);\n\t}\n\n\t/**\n\t * The default behavior for the `Drag.Events.END` event. Can be prevented\n\t * by calling the `preventDefault` function on the event's facade. Moves\n\t * the source element to the final calculated position.\n\t * @protected\n\t */\n\tdefaultEndFn_() {\n\t\tthis.moveToPosition_(this.activeDragSource_);\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tthis.cleanUpAfterDragging_();\n\t\tthis.dragHandler_ = null;\n\t\tthis.dragScrollDelta_.dispose();\n\t\tthis.dragScrollDelta_ = null;\n\t\tthis.sourceHandler_.removeAllListeners();\n\t\tthis.sourceHandler_ = null;\n\t\tsuper.disposeInternal();\n\t}\n\n\t/**\n\t * Gets the active drag source.\n\t * @return {Element}\n\t */\n\tgetActiveDrag() {\n\t\treturn this.activeDragSource_;\n\t}\n\n\t/**\n\t * Handles events that can end a drag action, like \"mouseup\" and \"touchend\".\n\t * Triggered when the mouse drag action ends.\n\t * @protected\n\t */\n\thandleDragEndEvent_() {\n\t\tif (this.autoScroll) {\n\t\t\tthis.autoScroll.stop();\n\t\t}\n\t\tthis.dragScrollDelta_.stop();\n\t\tDragShim.hideDocShim();\n\t\tthis.emit(Drag.Events.END, this.buildEventObject_());\n\t\tthis.cleanUpAfterDragging_();\n\t}\n\n\t/**\n\t * Handles events that can move a draggable element, like \"mousemove\" and \"touchmove\".\n\t * Tracks the movement on the screen to update the drag action.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleDragMoveEvent_(event) {\n\t\tvar position = event.targetTouches ? event.targetTouches[0] : event;\n\t\tvar distanceX = position.clientX - this.mousePos_.x;\n\t\tvar distanceY = position.clientY - this.mousePos_.y;\n\t\tthis.mousePos_.x = position.clientX;\n\t\tthis.mousePos_.y = position.clientY;\n\t\tif (!this.isDragging() && !this.hasReachedMinimumDistance_(distanceX, distanceY)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.isDragging()) {\n\t\t\tthis.startDragging_(event);\n\t\t\tthis.dragScrollDelta_.start(this.activeDragPlaceholder_, this.scrollContainers);\n\t\t}\n\t\tif (this.autoScroll) {\n\t\t\tthis.autoScroll.scroll(this.scrollContainers, this.mousePos_.x, this.mousePos_.y);\n\t\t}\n\t\tthis.updatePositionFromMouse();\n\t}\n\n\t/**\n\t * Handles events that can start a drag action, like \"mousedown\" and \"touchstart\".\n\t * When this is triggered and the sources were not already being dragged, more\n\t * listeners will be attached to keep track of the drag action.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleDragStartEvent_(event) {\n\t\tthis.activeDragSource_ = event.delegateTarget || event.currentTarget;\n\n\t\tif (this.canStartDrag_(event)) {\n\t\t\tthis.calculateInitialPosition_(event.targetTouches ? event.targetTouches[0] : event);\n\t\t\tevent.preventDefault();\n\t\t\tif (event.type === 'keydown') {\n\t\t\t\tthis.startDragging_(event);\n\t\t\t} else {\n\t\t\t\tthis.dragHandler_.add.apply(\n\t\t\t\t\tthis.dragHandler_,\n\t\t\t\t\tDragShim.attachDocListeners(this.useShim, {\n\t\t\t\t\t\tmousemove: this.handleDragMoveEvent_.bind(this),\n\t\t\t\t\t\ttouchmove: this.handleDragMoveEvent_.bind(this),\n\t\t\t\t\t\tmouseup: this.handleDragEndEvent_.bind(this),\n\t\t\t\t\t\ttouchend: this.handleDragEndEvent_.bind(this)\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tthis.distanceDragged_ = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Handles a `keydown` event on the document. Ends the drag if ESC was the pressed key.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleKeyDown_(event) {\n\t\tif (event.keyCode === 27 && this.isDragging()) {\n\t\t\tthis.handleDragEndEvent_();\n\t\t}\n\t}\n\n\t/**\n\t * Handles a \"scrollDelta\" event. Updates the position data for the source,\n\t * as well as the placeholder's position on the screen when \"move\" is set to true.\n\t * @param {!Object} event\n\t * @protected\n\t */\n\thandleScrollDelta_(event) {\n\t\tthis.mouseSourceDelta_.x += event.deltaX;\n\t\tthis.mouseSourceDelta_.y += event.deltaY;\n\t\tthis.updatePositionFromMouse();\n\t}\n\n\t/**\n\t * Handles a `keydown` event from `KeyboardDrag`. Does the appropriate drag action\n\t * for the pressed key.\n\t * @param {!Object} event\n\t * @protected\n\t */\n\thandleSourceKeyDown_(event) {\n\t\tif (this.isDragging()) {\n\t\t\tvar currentTarget = event.delegateTarget || event.currentTarget;\n\t\t\tif (currentTarget !== this.activeDragSource_) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (event.keyCode >= 37 && event.keyCode <= 40) {\n\t\t\t\t// Arrow keys during drag move the source.\n\t\t\t\tvar deltaX = 0;\n\t\t\t\tvar deltaY = 0;\n\t\t\t\tvar speedX = this.keyboardSpeed >= this.steps.x ? this.keyboardSpeed : this.steps.x;\n\t\t\t\tvar speedY = this.keyboardSpeed >= this.steps.y ? this.keyboardSpeed : this.steps.y;\n\t\t\t\tif (event.keyCode === 37) {\n\t\t\t\t\tdeltaX -= speedX;\n\t\t\t\t} else if (event.keyCode === 38) {\n\t\t\t\t\tdeltaY -= speedY;\n\t\t\t\t} else if (event.keyCode === 39) {\n\t\t\t\t\tdeltaX += speedX;\n\t\t\t\t} else {\n\t\t\t\t\tdeltaY += speedY;\n\t\t\t\t}\n\t\t\t\tthis.updatePositionFromDelta(deltaX, deltaY);\n\t\t\t\tevent.preventDefault();\n\t\t\t} else if (event.keyCode === 13 || event.keyCode === 32 || event.keyCode === 27) {\n\t\t\t\t// Enter, space or esc during drag will end it.\n\t\t\t\tthis.handleDragEndEvent_();\n\t\t\t}\n\t\t} else if (event.keyCode === 13 || event.keyCode === 32) {\n\t\t\t// Enter or space will start the drag action.\n\t\t\tthis.handleDragStartEvent_(event);\n\t\t}\n\t}\n\n\t/**\n\t * Triggers when the `container` state changes. Detaches events attached to the\n\t * previous container and attaches them to the new value instead.\n\t * @protected\n\t */\n\thandleContainerChanged_() {\n\t\tif (core.isString(this.sources)) {\n\t\t\tthis.sourceHandler_.removeAllListeners();\n\t\t\tthis.attachSourceEvents_();\n\t\t}\n\t\tif (this.prevScrollContainersSelector_) {\n\t\t\tthis.scrollContainers = this.prevScrollContainersSelector_;\n\t\t}\n\t}\n\n\t/**\n\t * Triggers when the `sources` state changes. Detaches events attached to the\n\t * previous sources and attaches them to the new value instead.\n\t * @protected\n\t */\n\thandleSourcesChanged_() {\n\t\tthis.sourceHandler_.removeAllListeners();\n\t\tthis.attachSourceEvents_();\n\t}\n\n\t/**\n\t * Checks if the minimum distance for dragging has been reached after\n\t * adding the given values.\n\t * @param {number} distanceX\n\t * @param {number} distanceY\n\t * @return {boolean}\n\t * @protected\n\t */\n\thasReachedMinimumDistance_(distanceX, distanceY) {\n\t\tthis.distanceDragged_ += Math.abs(distanceX) + Math.abs(distanceY);\n\t\treturn this.distanceDragged_ >= this.minimumDragDistance;\n\t}\n\n\t/**\n\t * Checks if one of the sources are being dragged.\n\t * @return {boolean}\n\t */\n\tisDragging() {\n\t\treturn this.dragging_;\n\t}\n\n\t/**\n\t * Checks if the given element is within a valid handle.\n\t * @param {!Element} element\n\t * @protected\n\t */\n\tisWithinHandle_(element) {\n\t\tvar handles = this.handles;\n\t\tif (!handles) {\n\t\t\treturn true;\n\t\t} else if (core.isString(handles)) {\n\t\t\treturn dom.match(element, handles + ', ' + handles + ' *');\n\t\t} else {\n\t\t\treturn dom.contains(handles, element);\n\t\t}\n\t}\n\n\t/**\n\t * Moves the given element to the current source coordinates.\n\t * @param {!Element} element\n\t * @protected\n\t */\n\tmoveToPosition_(element) {\n\t\telement.style.left = this.sourceRelativePos_.x + 'px';\n\t\telement.style.top = this.sourceRelativePos_.y + 'px';\n\t}\n\n\t/**\n\t * Setter for the `autoScroll` state key.\n\t * @param {*} val\n\t * @return {!DragAutoScroll}\n\t */\n\tsetterAutoScrollFn_(val) {\n\t\tif (val !== false) {\n\t\t\treturn new DragAutoScroll(val);\n\t\t}\n\t}\n\n\t/**\n\t * Setter for the `constrain` state key.\n\t * @param {!Element|Object|string} val\n\t * @return {!Element|Object}\n\t * @protected\n\t */\n\tsetterConstrainFn(val) {\n\t\tif (core.isString(val)) {\n\t\t\tval = dom.toElement(val);\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t * Sets the `scrollContainers` state key.\n\t * @param {Element|string} val\n\t * @return {!Array<!Element>}\n\t * @protected\n\t */\n\tsetterScrollContainersFn_(val) {\n\t\tthis.prevScrollContainersSelector_ = core.isString(val) ? val : null;\n\t\tvar elements = this.toElements_(val);\n\t\telements.push(document);\n\t\treturn elements;\n\t}\n\n\t/**\n\t * Starts dragging the selected source.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\tstartDragging_(event) {\n\t\tthis.dragging_ = true;\n\t\tthis.createActiveDragPlaceholder_();\n\t\tdom.addClasses(this.activeDragPlaceholder_, this.draggingClass);\n\t\tthis.activeDragPlaceholder_.setAttribute('aria-grabbed', 'true');\n\t\tthis.emit(Drag.Events.START, {\n\t\t\toriginalEvent: event\n\t\t});\n\t}\n\n\t/**\n\t * Converts the given element or selector into an array of elements.\n\t * @param {Element|string} elementOrSelector\n\t * @return {!Array<!Element>}\n\t * @protected\n\t */\n\ttoElements_(elementOrSelector) {\n\t\tif (core.isString(elementOrSelector)) {\n\t\t\tvar matched = this.container.querySelectorAll(elementOrSelector);\n\t\t\treturn Array.prototype.slice.call(matched, 0);\n\t\t} else if (elementOrSelector) {\n\t\t\treturn [elementOrSelector];\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Updates the dragged element's position using the given calculated region.\n\t * @param {!Object} newRegion\n\t */\n\tupdatePosition(newRegion) {\n\t\tthis.constrain_(newRegion);\n\t\tvar deltaX = newRegion.left - this.sourceRegion_.left;\n\t\tvar deltaY = newRegion.top - this.sourceRegion_.top;\n\t\tif (deltaX !== 0 || deltaY !== 0) {\n\t\t\tthis.sourceRegion_ = newRegion;\n\t\t\tthis.sourceRelativePos_.x += deltaX;\n\t\t\tthis.sourceRelativePos_.y += deltaY;\n\t\t\tthis.emit(Drag.Events.DRAG, this.buildEventObject_());\n\t\t}\n\t}\n\n\t/**\n\t * Updates the dragged element's position, moving its placeholder if `move`\n\t * is set to true.\n\t * @param {number} deltaX\n\t * @param {number} deltaY\n\t */\n\tupdatePositionFromDelta(deltaX, deltaY) {\n\t\tvar newRegion = object.mixin({}, this.sourceRegion_);\n\t\tnewRegion.left += deltaX;\n\t\tnewRegion.right += deltaX;\n\t\tnewRegion.top += deltaY;\n\t\tnewRegion.bottom += deltaY;\n\t\tthis.updatePosition(newRegion);\n\t}\n\n\t/**\n\t * Updates the dragged element's position, according to the current mouse position.\n\t */\n\tupdatePositionFromMouse() {\n\t\tvar newRegion = {\n\t\t\theight: this.sourceRegion_.height,\n\t\t\tleft: this.mousePos_.x + this.mouseSourceDelta_.x,\n\t\t\ttop: this.mousePos_.y + this.mouseSourceDelta_.y,\n\t\t\twidth: this.sourceRegion_.width\n\t\t};\n\t\tnewRegion.right = newRegion.left + newRegion.width;\n\t\tnewRegion.bottom = newRegion.top + newRegion.height;\n\t\tthis.updatePosition(newRegion);\n\t}\n\n\t/**\n\t * Validates the given value, making sure that it's either an element or a string.\n\t * @param {*} val\n\t * @return {boolean}\n\t * @protected\n\t */\n\tvalidateElementOrString_(val) {\n\t\treturn core.isString(val) || core.isElement(val);\n\t}\n\n\t/**\n\t * Validates the value of the `constrain` state.\n\t * @param {*} val\n\t * @return {boolean}\n\t * @protected\n\t */\n\tvalidatorConstrainFn(val) {\n\t\treturn core.isString(val) || core.isObject(val);\n\t}\n}\n\n/**\n * State definition.\n * @type {!Object}\n * @static\n */\nDrag.STATE = {\n\t/**\n\t * Configuration object for the `DragAutoScroll` instance that will be used for\n\t * automatically scrolling the elements in `scrollContainers` during drag when\n\t * the mouse is near their boundaries. If set to `false`, auto scrolling will be\n\t * disabled (default).\n\t * @type {!Object|boolean}\n\t * @default false\n\t */\n\tautoScroll: {\n\t\tsetter: 'setterAutoScrollFn_',\n\t\tvalue: false,\n\t\twriteOnce: true\n\t},\n\n\t/**\n\t * The axis that allows dragging. Can be set to just x, just y or both (default).\n\t * @type {string}\n\t */\n\taxis: {\n\t\tvalidator: core.isString\n\t},\n\n\t/**\n\t * Object with the boundaries, that the dragged element should not leave\n\t * while being dragged. If not set, the element is free to be dragged\n\t * to anywhere on the page. Can be either already an object with the\n\t * boundaries relative to the document, or an element to use the boundaries\n\t * from, or even a selector for finding that element.\n\t * @type {!Element|Object|function()|string}\n\t */\n\tconstrain: {\n\t\tsetter: 'setterConstrainFn',\n\t\tvalidator: 'validatorConstrainFn'\n\t},\n\n\t/**\n\t * An element that contains all sources, targets and scroll containers. This\n\t * will be used when delegate events are attached or when looking for elements\n\t * by selector. Defaults to `document`.\n\t * @type {!Element|string}\n\t * @default document\n\t */\n\tcontainer: {\n\t\tsetter: dom.toElement,\n\t\tvalidator: 'validateElementOrString_',\n\t\tvalue: document\n\t},\n\n\t/**\n\t * Flag indicating if drag operations are disabled. When set to true, it\n\t * dragging won't work.\n\t * @type {boolean}\n\t * @default false\n\t */\n\tdisabled: {\n\t\tvalidator: core.isBoolean,\n\t\tvalue: false\n\t},\n\n\t/**\n\t * The CSS class that should be added to the node being dragged.\n\t * @type {string}\n\t * @default 'dragging'\n\t */\n\tdraggingClass: {\n\t\tvalidator: core.isString,\n\t\tvalue: 'dragging'\n\t},\n\n\t/**\n\t * The placeholder element that should be moved during drag. Can be either\n\t * an element or the \"clone\" string, indicating that a clone of the source\n\t * being dragged should be used. If nothing is set, the original source element\n\t * will be used.\n\t * @type {Element|?string}\n\t */\n\tdragPlaceholder: {\n\t\tvalidator: 'validateElementOrString_'\n\t},\n\n\t/**\n\t * Elements inside the source that should be the drag handles. Can be\n\t * either a single element or a selector for multiple elements.\n\t * @type {Element|?string}\n\t */\n\thandles: {\n\t\tvalidator: 'validateElementOrString_'\n\t},\n\n\t/**\n\t * The number of pixels that the source should move when dragged via\n\t * the keyboard controls.\n\t * @default 10\n\t */\n\tkeyboardSpeed: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: 10\n\t},\n\n\t/**\n\t * The minimum distance, in pixels, that the mouse needs to move before\n\t * the action is considered a drag.\n\t * @type {number}\n\t * @default 5\n\t */\n\tminimumDragDistance: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: 5,\n\t\twriteOnce: true\n\t},\n\n\t/**\n\t * Elements with scroll, besides the document, that contain any of the given\n\t * sources. Can be either a single element or a selector for multiple elements.\n\t * @type {Element|string}\n\t */\n\tscrollContainers: {\n\t\tsetter: 'setterScrollContainersFn_',\n\t\tvalidator: 'validateElementOrString_'\n\t},\n\n\t/**\n\t * Elements that should be draggable. Can be either a single element\n\t * or a selector for multiple elements.\n\t * @type {!Element|string}\n\t */\n\tsources: {\n\t\tvalidator: 'validateElementOrString_'\n\t},\n\n\t/**\n\t * The number of pixels that the source element should move at a time,\n\t * for each axis. When set to a value higher than 1, dragging won't be\n\t * a continuous movement, since the source element will move by multiple\n\t * pixels on each step.\n\t * @type {!{x: number, y: number}}\n\t */\n\tsteps: {\n\t\tvalidator: core.isObject,\n\t\tvalueFn: () => {\n\t\t\treturn {\n\t\t\t\tx: 1,\n\t\t\t\ty: 1\n\t\t\t};\n\t\t}\n\t},\n\n\t/**\n\t * Flag indicating if a shim should be used for capturing document events.\n\t * This is important for allowing dragging nodes over iframes. If false,\n\t * events will be listened in the document itself instead.\n\t * @type {boolean}\n\t * @default true\n\t */\n\tuseShim: {\n\t\tvalue: true\n\t}\n};\n\n/**\n * Holds the names of events that can be emitted by `Drag`.\n * @type {!Object}\n * @static\n */\nDrag.Events = {\n\tDRAG: 'drag',\n\tEND: 'end',\n\tSTART: 'start'\n};\n\n/**\n * Holds the values that can be passed to the `dragPlaceholder` state key.\n * @type {!Object}\n * @static\n */\nDrag.Placeholder = {\n\tCLONE: 'clone'\n};\n\nexport default Drag;\n","'use strict';\n\nimport { array, core, object } from 'metal';\nimport dom from 'metal-dom';\nimport Drag from './Drag';\nimport Position from 'metal-position';\nimport 'metal-events';\n\n/**\n * Adds the functionality of dropping dragged elements to specific\n * targets to the `Drag` class.\n * @extends {Drag}\n */\nclass DragDrop extends Drag {\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor(opt_config) {\n\t\tsuper(opt_config);\n\n\t\t/**\n\t\t * The currently active targets, that is, the ones that the dragged source is over.\n\t\t * @type {!Array<!Element>}\n\t\t * @protected\n\t\t */\n\t\tthis.activeTargets_ = [];\n\t}\n\n\t/**\n\t * Adds a target to this `DragDrop` instance.\n\t * @param {!Element} target\n\t */\n\taddTarget(target) {\n\t\tthis.targets.push(target);\n\t\tthis.targets = this.targets;\n\t}\n\n\t/**\n\t * Overrides the original method from `Drag` to include the target on the event object.\n\t * @return {!Object}\n\t * @protected\n\t * @override\n\t */\n\tbuildEventObject_() {\n\t\tvar obj = super.buildEventObject_();\n\t\tobj.target = this.activeTargets_[0];\n\t\tobj.allActiveTargets = this.activeTargets_;\n\t\treturn obj;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tcleanUpAfterDragging_() {\n\t\tsuper.cleanUpAfterDragging_();\n\t\tthis.targets.forEach(target => target.removeAttribute('aria-dropeffect'));\n\t\tif (this.activeTargets_.length) {\n\t\t\tdom.removeClasses(this.activeTargets_[0], this.targetOverClass);\n\t\t}\n\t\tthis.activeTargets_ = [];\n\t}\n\n\t/**\n\t * Finds all targets that the dragged element is currently over.\n\t * @return {!Array<!Element>} The current active targets.\n\t * @protected\n\t */\n\tfindAllActiveTargets_() {\n\t\tvar activeTargets = [];\n\t\tvar mainRegion;\n\t\tvar sourceRegion = this.getSourceRegion_();\n\t\tvar targets = this.targets;\n\t\ttargets.forEach(function(target, index) {\n\t\t\tvar region = Position.getRegion(target);\n\t\t\tif (targets[index] !== this.activeDragPlaceholder_ && Position.intersectRegion(region, sourceRegion)) {\n\t\t\t\tif (!mainRegion || Position.insideRegion(mainRegion, region)) {\n\t\t\t\t\tactiveTargets = [targets[index]].concat(activeTargets);\n\t\t\t\t\tmainRegion = region;\n\t\t\t\t} else {\n\t\t\t\t\tactiveTargets.push(targets[index]);\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(this));\n\t\treturn activeTargets;\n\t}\n\n\t/**\n\t * Gets the active source's region, to be used when calculating which targets are active.\n\t * @return {!Object}\n\t * @protected\n\t */\n\tgetSourceRegion_() {\n\t\tif (core.isDefAndNotNull(this.mousePos_)) {\n\t\t\tvar x = this.mousePos_.x;\n\t\t\tvar y = this.mousePos_.y;\n\t\t\treturn Position.makeRegion(y, 0, x, x, y, 0);\n\t\t} else {\n\t\t\t// We need to remove the scroll data from the region, since the other regions we'll\n\t\t\t// be comparing to won't take that information into account.\n\t\t\tvar region = object.mixin({}, this.sourceRegion_);\n\t\t\tregion.left -= document.body.scrollLeft;\n\t\t\tregion.right -= document.body.scrollLeft;\n\t\t\tregion.top -= document.body.scrollTop;\n\t\t\tregion.bottom -= document.body.scrollTop;\n\t\t\treturn region;\n\t\t}\n\t}\n\n\t/**\n\t * Triggers when the `container` state changes. Overrides default method so\n\t * it will also update `targets` when container changes.\n\t * @param {!Object} data\n\t * @param {!Object} event\n\t * @protected\n\t */\n\thandleContainerChanged_(data, event) {\n\t\tsuper.handleContainerChanged_(data, event);\n\t\tif (this.prevTargetsSelector_) {\n\t\t\tthis.targets = this.prevTargetsSelector_;\n\t\t}\n\t}\n\n\t/**\n\t * Removes a target from this `DragDrop` instance.\n\t * @param {!Element} target\n\t */\n\tremoveTarget(target) {\n\t\tarray.remove(this.targets, target);\n\t\tthis.targets = this.targets;\n\t}\n\n\t/**\n\t * Sets the `targets` state property.\n\t * @param {Element|string} val\n\t * @return {!Array<!Element>}\n\t * @protected\n\t */\n\tsetterTargetsFn_(val) {\n\t\tthis.prevTargetsSelector_ = core.isString(val) ? val : null;\n\t\treturn this.toElements_(val);\n\t}\n\n\t/**\n\t * Overrides the original method from `Drag` to also set the \"aria-dropeffect\"\n\t * attribute, if set, for all targets.\n\t * @return {[type]} [description]\n\t */\n\tstartDragging_() {\n\t\tif (this.ariaDropEffect) {\n\t\t\tthis.targets.forEach(target => target.setAttribute('aria-dropeffect', this.ariaDropEffect));\n\t\t}\n\t\tsuper.startDragging_();\n\t}\n\n\t/**\n\t * Overrides original method from `Drag` to also be enable finding the target\n\t * the dragged element is over at the new position.\n\t * @param {number} deltaX\n\t * @param {number} deltaY\n\t * @override\n\t */\n\tupdatePosition(deltaX, deltaY) {\n\t\tsuper.updatePosition(deltaX, deltaY);\n\n\t\tvar newTargets = this.findAllActiveTargets_();\n\t\tif (newTargets[0] !== this.activeTargets_[0]) {\n\t\t\tif (this.activeTargets_[0]) {\n\t\t\t\tdom.removeClasses(this.activeTargets_[0], this.targetOverClass);\n\t\t\t\tthis.emit(DragDrop.Events.TARGET_LEAVE, this.buildEventObject_());\n\t\t\t}\n\n\t\t\tthis.activeTargets_ = newTargets;\n\t\t\tif (this.activeTargets_[0]) {\n\t\t\t\tdom.addClasses(this.activeTargets_[0], this.targetOverClass);\n\t\t\t\tthis.emit(DragDrop.Events.TARGET_ENTER, this.buildEventObject_());\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * State definition.\n * @type {!Object}\n * @static\n */\nDragDrop.STATE = {\n\t/**\n\t * The \"aria-dropeffect\" value to be set for all targets. If not set,\n\t * this html attribute will have to be set manually on the targets.\n\t * @type {string}\n\t */\n\tariaDropEffect: {\n\t\tvalidator: core.isString\n\t},\n\n\t/**\n\t * The CSS class that should be added to drop targets when a source\n\t * is being dragged over them.\n\t * @type {string}\n\t * @default 'dropOver'\n\t */\n\ttargetOverClass: {\n\t\tvalidator: core.isString,\n\t\tvalue: 'targetOver'\n\t},\n\n\t/**\n\t * Elements that the sources can be dropped on. Can be either a single\n\t * element or a selector for multiple elements.\n\t * @type {!Element|string}\n\t */\n\ttargets: {\n\t\tsetter: 'setterTargetsFn_',\n\t\tvalidator: 'validateElementOrString_'\n\t}\n};\n\n/**\n * Holds the names of events that can be emitted by `DragDrop`.\n * @type {!Object}\n * @static\n */\nDragDrop.Events = {\n\tDRAG: 'drag',\n\tEND: 'end',\n\tTARGET_ENTER: 'targetEnter',\n\tTARGET_LEAVE: 'targetLeave'\n};\n\nexport default DragDrop;\n","'use strict';\n\nimport Drag from '../Drag';\nimport DragDrop from '../DragDrop';\n\nexport { Drag, DragDrop };\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from Slider.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace Slider.\n * @public\n */\n\ngoog.module('Slider.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  var $$temp;\n  opt_data = opt_data || {};\n  var maxNumber__soy3 = ($$temp = opt_data.max) == null ? 100 : $$temp;\n  var minNumber__soy4 = ($$temp = opt_data.min) == null ? 0 : $$temp;\n  var valueNumber__soy5 = ($$temp = opt_data.value) == null ? 0 : $$temp;\n  ie_open('div', null, null,\n      'class', 'slider ' + (($$temp = opt_data.elementClasses) == null ? '' : $$temp));\n    ie_open('input', null, null,\n        'name', ($$temp = opt_data.inputName) == null ? '' : $$temp,\n        'type', 'hidden',\n        'value', valueNumber__soy5);\n    ie_close('input');\n    ie_open('span');\n      var dyn0 = valueNumber__soy5;\n      if (typeof dyn0 == 'function') dyn0(); else if (dyn0 != null) itext(dyn0);\n    ie_close('span');\n    var percentage__soy15 = 100 * (valueNumber__soy5 - minNumber__soy4) / (maxNumber__soy3 - minNumber__soy4) + '%';\n    ie_open('div', null, null,\n        'class', 'rail',\n        'data-onclick', 'onRailClick_');\n      ie_void('div', null, null,\n          'class', 'rail-active',\n          'style', 'width: ' + percentage__soy15);\n      ie_open('div', null, null,\n          'class', 'rail-handle',\n          'style', 'left: ' + percentage__soy15);\n        ie_void('div', null, null,\n            'class', 'handle',\n            'tabindex', '0',\n            'role', 'slider',\n            'aria-valuemin', minNumber__soy4,\n            'aria-valuemax', maxNumber__soy3,\n            'aria-valuenow', valueNumber__soy5);\n      ie_close('div');\n    ie_close('div');\n  ie_close('div');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'Slider.render';\n}\n\nexports.render.params = [\"elementClasses\",\"inputName\",\"max\",\"min\",\"value\"];\nexports.render.types = {\"elementClasses\":\"any\",\"inputName\":\"any\",\"max\":\"any\",\"min\":\"any\",\"value\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass Slider extends Component {}\nSoy.register(Slider, templates);\nexport { Slider, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport core from 'metal';\nimport dom from 'metal-dom';\nimport Component from 'metal-component';\nimport { Drag } from 'metal-drag-drop';\nimport Position from 'metal-position';\nimport Soy from 'metal-soy';\n\nimport templates from './Slider.soy.js';\n\n/**\n * Slider component.\n */\nclass Slider extends Component {\n\t/**\n\t * @inheritDoc\n\t */\n\tattached() {\n\t\t/**\n\t\t * Manages dragging the rail handle to update the slider value.\n\t\t * @type {Drag}\n\t\t * @protected\n\t\t */\n\t\tthis.drag_ = new Drag({\n\t\t\taxis: 'x',\n\t\t\tconstrain: this.constrainToRail_.bind(this),\n\t\t\tcontainer: this.element,\n\t\t\thandles: '.handle',\n\t\t\tsources: '.rail-handle'\n\t\t});\n\t\tthis.on('elementChanged', this.handleElementChanged_);\n\n\t\tthis.attachDragEvents_();\n\t}\n\n\t/**\n\t * Attaches the drag events to handle value updates when dragging the rail handle.\n\t * protected\n\t */\n\tattachDragEvents_() {\n\t\tthis.drag_.on(Drag.Events.DRAG, this.updateValueFromDragData_.bind(this));\n\t\tthis.drag_.on(Drag.Events.END, this.updateValueFromDragData_.bind(this));\n\t}\n\n\t/**\n\t * Constrains the given region to be inside the rail. This is being used\n\t * instead of `Drag`'s default behavior, because `Drag` would require the\n\t * whole handle to be inside the rail element, while we just want to make sure\n\t * that the left side of the handle is inside it.\n\t * @param {!Object} region\n\t * @protected\n\t */\n\tconstrainToRail_(region) {\n\t\tconst rail = this.element.querySelector('.rail');\n\t\tconst constrain = Position.getRegion(rail, true);\n\t\tif (region.left < constrain.left) {\n\t\t\tregion.left = constrain.left;\n\t\t} else if (region.left > constrain.right) {\n\t\t\tregion.left -= region.left - constrain.right;\n\t\t}\n\t\tregion.right = region.left + region.width;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tsuper.disposeInternal();\n\t\tthis.drag_.dispose();\n\t}\n\n\t/**\n\t * Returns the `Drag` instance being used.\n\t * @return {!Drag}\n\t */\n\tgetDrag() {\n\t\treturn this.drag_;\n\t}\n\n\t/**\n\t * Handles the `elementChanged` event. Updates the drag container to the new\n\t * element, and also updates the constrain element.\n\t * @param {!Object} data\n\t * @protected\n\t */\n\thandleElementChanged_(data) {\n\t\tif (data.newVal) {\n\t\t\tthis.drag_.container = data.newVal;\n\t\t}\n\t}\n\n\t/**\n\t * Handles mouse down actions on the slider rail and updates the slider value accordingly.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\tonRailClick_(event) {\n\t\tif (dom.hasClass(event.target, 'rail') || dom.hasClass(event.target, 'rail-active')) {\n\t\t\tconst prevValue = this.value;\n\t\t\tthis.updateValue_(event.offsetX, 0, true);\n\t\t\tif (prevValue === this.value) {\n\t\t\t\tconst handleRegion = Position.getRegion(this.element.querySelector('.handle'));\n\t\t\t\tif (event.offsetX < handleRegion.left) {\n\t\t\t\t\tthis.value -= 1;\n\t\t\t\t} else {\n\t\t\t\t\tthis.value += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Synchronizes the slider UI with the `max` state key.\n\t * @param {number} newVal The new value of the state key.\n\t */\n\tsyncMax(newVal) {\n\t\tif (newVal < this.value) {\n\t\t\tthis.value = newVal;\n\t\t}\n\t}\n\n\t/**\n\t * Synchronizes the slider UI with the `min` state key.\n\t * @param {number} newVal The new value of the state key.\n\t */\n\tsyncMin(newVal) {\n\t\tif (newVal > this.value) {\n\t\t\tthis.value = newVal;\n\t\t}\n\t}\n\n\t/**\n\t * Updates the slider value based on the UI state of the handle element.\n\t * @param {number} handlePosition Position of the handle in px.\n\t * @param {number} offset Offset to be added to normalize relative inputs.\n\t * @param {boolean=} opt_relative If the given position is relative to the\n\t *     rail or not.\n\t * @protected\n\t */\n\tupdateValue_(handlePosition, offset, opt_relative) {\n\t\tvar region = Position.getRegion(this.element);\n\t\tif (!opt_relative) {\n\t\t\thandlePosition -= region.left;\n\t\t}\n\t\tthis.value = Math.round(offset + (handlePosition / region.width) * (this.max - this.min));\n\t}\n\n\t/**\n\t * Handles Drag events from the rail handle and updates the slider value accordingly.\n\t * @param {!Object} data\n\t * @protected\n\t */\n\tupdateValueFromDragData_(data, event) {\n\t\tthis.updateValue_(data.x, this.min);\n\t\tevent.preventDefault();\n\t}\n}\nSoy.register(Slider, templates);\n\n/**\n * `Slider`'s state definition.\n */\nSlider.STATE = {\n\t/**\n\t * Name of the hidden input field that holds the slider value. Useful when slider is embedded\n\t * inside a form so it can automatically send its value.\n\t * @type {string}\n\t */\n\tinputName: {\n\t\tvalidator: core.isString\n\t},\n\n\t/**\n\t * Defines the maximum value handled by the slider.\n\t * @type {number}\n\t * @default 100\n\t */\n\tmax: {\n\t\tvalue: 100\n\t},\n\n\t/**\n\t * Defines the minimum value handled by the slider.\n\t * @type {number}\n\t * @default 0\n\t */\n\tmin: {\n\t\tvalue: 0\n\t},\n\n\t/**\n\t * Defines the currently selected value on the slider.\n\t * @type {number}\n\t * @default 0\n\t */\n\tvalue: {\n\t\tvalidator: function(val) {\n\t\t\treturn core.isNumber(val) && this.min <= val && val <= this.max;\n\t\t},\n\t\tvalue: 0\n\t}\n};\n\nexport default Slider;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from MarbleSlider.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace MarbleSlider.\n * @public\n */\n\ngoog.module('MarbleSlider.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('Slider.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  $templateAlias1(opt_data, null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'MarbleSlider.render';\n}\n\nexports.render.params = [\"elementClasses\",\"events\",\"max\",\"value\"];\nexports.render.types = {\"elementClasses\":\"any\",\"events\":\"any\",\"max\":\"any\",\"value\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass MarbleSlider extends Component {}\nSoy.register(MarbleSlider, templates);\nexport { MarbleSlider, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nimport 'metal-slider';\n\nimport templates from './MarbleSlider.soy';\n\nclass MarbleSlider extends Component {\n\t\n};\n\nSoy.register(MarbleSlider, templates);\n\nexport default MarbleSlider;\n","/* jshint ignore:start */\nimport Component from 'metal-component/src/Component';\nimport Soy from 'metal-soy/src/Soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from Toast.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace Toast.\n * @public\n */\n\ngoog.module('Toast.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('soy.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\n\n/**\n * @param {{\n *    dismissible: (?),\n *    spinner: (?),\n *    spinnerDone: (?),\n *    elementClasses: (?),\n *    spinnerClasses: (?),\n *    body: (?soydata.SanitizedHtml|string|undefined)\n * }} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  soy.asserts.assertType(opt_data.body == null || (opt_data.body instanceof Function) || (opt_data.body instanceof soydata.UnsanitizedText) || goog.isString(opt_data.body), 'body', opt_data.body, '?soydata.SanitizedHtml|string|undefined');\n  var body = /** @type {?soydata.SanitizedHtml|string|undefined} */ (opt_data.body);\n  ie_open('div', null, null,\n      'class', 'alert' + (opt_data.elementClasses ? ' ' + opt_data.elementClasses : ''),\n      'role', 'alert');\n    if (opt_data.spinner) {\n      ie_void('span', null, null,\n          'class', 'spinner' + (opt_data.spinnerClasses ? ' ' + opt_data.spinnerClasses : '') + (opt_data.spinnerDone ? ' spinner-done' : ''));\n    }\n    if (body) {\n      ie_open('span', null, null,\n          'class', 'alert-body');\n        body();\n      ie_close('span');\n    }\n    if (opt_data.dismissible) {\n      ie_open('button', null, null,\n          'type', 'button',\n          'class', 'close',\n          'aria-label', 'Close',\n          'data-onclick', 'toggle');\n        ie_open('span', null, null,\n            'aria-hidden', 'true');\n          itext('\\u00D7');\n        ie_close('span');\n      ie_close('button');\n    }\n  ie_close('div');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'Toast.render';\n}\n\nexports.render.params = [\"body\",\"dismissible\",\"spinner\",\"spinnerDone\",\"elementClasses\",\"spinnerClasses\"];\nexports.render.types = {\"body\":\"html\",\"dismissible\":\"any\",\"spinner\":\"any\",\"spinnerDone\":\"any\",\"elementClasses\":\"any\",\"spinnerClasses\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass Toast extends Component {}\nSoy.register(Toast, templates);\nexport { Toast, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport core from 'metal';\nimport { dom, features } from 'metal-dom';\n\nclass Anim {\n\t/**\n\t * Emulates animation or transition end event, the end event with longer\n\t * duration will be used by the emulation. If they have the same value,\n\t * transitionend will be emulated.\n\t * @param {!Element} element\n\t * @param {number=} opt_durationMs\n\t * @return {!Object} Object containing `abort` function.\n\t */\n\tstatic emulateEnd(element, opt_durationMs) {\n\t\tif (this.getComputedDurationMs(element, 'animation') > this.getComputedDurationMs(element, 'transition')) {\n\t\t\treturn this.emulateEnd_(element, 'animation', opt_durationMs);\n\t\t} else {\n\t\t\treturn this.emulateEnd_(element, 'transition', opt_durationMs);\n\t\t}\n\t}\n\n\t/**\n\t * Emulates animation end event. If `opt_durationMs` not specified the value\n\t * will read from computed style for animation-duration.\n\t * @param {!Element} element\n\t * @param {number=} opt_durationMs\n\t * @return {!Object} Object containing `abort` function.\n\t */\n\tstatic emulateAnimationEnd(element, opt_durationMs) {\n\t\treturn this.emulateEnd_(element, 'animation', opt_durationMs);\n\t}\n\n\t/**\n\t * Emulates transition end event. If `opt_durationMs` not specified the\n\t * value will read from computed style for transition-duration.\n\t * @param {!Element} element\n\t * @param {number=} opt_durationMs\n\t * @return {!Object} Object containing `abort` function.\n\t */\n\tstatic emulateTransitionEnd(element, opt_durationMs) {\n\t\tthis.emulateEnd_(element, 'transition', opt_durationMs);\n\t}\n\n\t/**\n\t * Emulates transition or animation end.\n\t * @param {!Element} element\n\t * @param {string} type\n\t * @param {number=} opt_durationMs\n\t * @return {!Object} Object containing `abort` function.\n\t * @protected\n\t */\n\tstatic emulateEnd_(element, type, opt_durationMs) {\n\t\tvar duration = opt_durationMs;\n\t\tif (!core.isDef(opt_durationMs)) {\n\t\t\tduration = this.getComputedDurationMs(element, type);\n\t\t}\n\n\t\tvar delayed = setTimeout(function() {\n\t\t\tdom.triggerEvent(element, features.checkAnimationEventName()[type]);\n\t\t}, duration);\n\n\t\tvar abort = function() {\n\t\t\tclearTimeout(delayed);\n\t\t\thoistedEvtHandler.removeListener();\n\t\t};\n\t\tvar hoistedEvtHandler = dom.once(element, type + 'end', abort);\n\n\t\treturn {\n\t\t\tabort: abort\n\t\t};\n\t}\n\n\t/**\n\t * Gets computed style duration for duration.\n\t * @param {!Element} element\n\t * @param {string} type\n\t * @return {number} The computed duration in milliseconds.\n\t */\n\tstatic getComputedDurationMs(element, type) {\n\t\treturn (parseFloat(window.getComputedStyle(element, null).getPropertyValue(type + '-duration')) || 0) * 1000;\n\t}\n}\n\nexport default Anim;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from Alert.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace Alert.\n * @public\n */\n\ngoog.module('Alert.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('soy.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\n\n/**\n * @param {{\n *    dismissible: (?),\n *    elementClasses: (?),\n *    body: (?soydata.SanitizedHtml|string|undefined)\n * }} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  soy.asserts.assertType(opt_data.body == null || (opt_data.body instanceof Function) || (opt_data.body instanceof goog.soy.data.SanitizedContent) || (opt_data.body instanceof soydata.UnsanitizedText) || goog.isString(opt_data.body), 'body', opt_data.body, '?soydata.SanitizedHtml|string|undefined');\n  var body = /** @type {?soydata.SanitizedHtml|string|undefined} */ (opt_data.body);\n  ie_open('div', null, null,\n      'class', 'alert' + (opt_data.dismissible ? ' alert-dismissible' : '') + (opt_data.elementClasses ? ' ' + opt_data.elementClasses : ''),\n      'role', 'alert');\n    if (body) {\n      var dyn0 = body;\n      if (typeof dyn0 == 'function') dyn0(); else if (dyn0 != null) itext(dyn0);\n    }\n    if (opt_data.dismissible) {\n      ie_open('button', null, null,\n          'type', 'button',\n          'class', 'close',\n          'aria-label', 'Close',\n          'data-onclick', 'toggle');\n        ie_open('span', null, null,\n            'aria-hidden', 'true');\n          itext('\\u00D7');\n        ie_close('span');\n      ie_close('button');\n    }\n  ie_close('div');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'Alert.render';\n}\n\nexports.render.params = [\"body\",\"dismissible\",\"elementClasses\"];\nexports.render.types = {\"body\":\"html|string\",\"dismissible\":\"any\",\"elementClasses\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass Alert extends Component {}\nSoy.register(Alert, templates);\nexport { Alert, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport { core } from 'metal';\nimport dom from 'metal-dom';\nimport Anim from 'metal-anim';\nimport Component from 'metal-component';\nimport { EventHandler } from 'metal-events';\nimport Soy from 'metal-soy';\n\nimport templates from './Alert.soy.js';\n\n/**\n * Alert component.\n */\nclass Alert extends Component {\n\tcreated() {\n\t\tthis.eventHandler_ = new EventHandler();\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdetached() {\n\t\tsuper.detached();\n\t\tthis.eventHandler_.removeAllListeners();\n\t\tclearTimeout(this.delay_);\n\t}\n\n\t/**\n\t * Closes the alert, disposing it once the animation ends.\n\t */\n\tclose() {\n\t\tdom.once(this.element, 'animationend', this.dispose.bind(this));\n\t\tdom.once(this.element, 'transitionend', this.dispose.bind(this));\n\t\tthis.eventHandler_.removeAllListeners();\n\t\tthis.syncVisible(false);\n\t}\n\n\t/**\n\t * Handles document click in order to close the alert.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleDocClick_(event) {\n\t\tif (!this.element.contains(event.target)) {\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\t/**\n\t * Hide the alert.\n\t */\n\thide() {\n\t\tthis.visible = false;\n\t}\n\n\t/**\n\t * Hides the alert completely (with display \"none\"). This is called after the\n\t * hiding animation is done.\n\t * @protected\n\t */\n\thideCompletely_() {\n\t\tif (!this.isDisposed() && !this.visible) {\n\t\t\tsuper.syncVisible(false);\n\t\t}\n \t}\n\n\t/**\n\t * Toggles the visibility of the alert.\n\t */\n\ttoggle() {\n\t\tthis.visible = !this.visible;\n\t}\n\n\t/**\n\t * Show the alert.\n\t */\n\tshow() {\n\t\tthis.visible = true;\n\t}\n\n\t/**\n\t * Synchronization logic for `dismissible` state.\n\t * @param {boolean} dismissible\n\t */\n\tsyncDismissible(dismissible) {\n\t\tif (dismissible) {\n\t\t\tthis.eventHandler_.add(dom.on(document, 'click', this.handleDocClick_.bind(this)));\n\t\t} else {\n\t\t\tthis.eventHandler_.removeAllListeners();\n\t\t}\n\t}\n\n\t/**\n\t * Synchronization logic for `hideDelay` state.\n\t * @param {?number} hideDelay\n\t */\n\tsyncHideDelay(hideDelay) {\n\t\tif (core.isNumber(hideDelay) && this.visible) {\n\t\t\tclearTimeout(this.delay_);\n\t\t\tthis.delay_ = setTimeout(this.hide.bind(this), hideDelay);\n\t\t}\n\t}\n\n\t/**\n\t * Synchronization logic for `visible` state.\n\t * @param {boolean} visible\n\t */\n\tsyncVisible(visible, prevVisible) {\n\t\tvar shouldAsync = false;\n\t\tif (!visible) {\n\t\t\tdom.once(this.element, 'animationend', this.hideCompletely_.bind(this));\n\t\t\tdom.once(this.element, 'transitionend', this.hideCompletely_.bind(this));\n\t\t} else if (core.isDef(prevVisible)) {\n\t\t\tshouldAsync = true;\n\t\t\tsuper.syncVisible(true);\n\t\t}\n\n\t\tvar showOrHide = () => {\n\t\t\tif (this.isDisposed()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdom.removeClasses(this.element, this.animClasses[visible ? 'hide' : 'show']);\n\t\t\tdom.addClasses(this.element, this.animClasses[visible ? 'show' : 'hide']);\n\n\t\t\t// Some browsers do not fire transitionend events when running in background\n\t\t\t// tab, see https://bugzilla.mozilla.org/show_bug.cgi?id=683696.\n\t\t\tAnim.emulateEnd(this.element);\n\n\t\t\tif (visible && core.isNumber(this.hideDelay)) {\n\t\t\t\tthis.syncHideDelay(this.hideDelay);\n\t\t\t}\n\t\t};\n\n\t\tif (shouldAsync) {\n\t\t\t// We need to start the animation asynchronously because of the possible\n\t\t\t// previous call to `super.syncVisible`, which doesn't allow the show\n\t\t\t// animation to work as expected.\n\t\t\tsetTimeout(showOrHide, 0);\n\t\t} else {\n\t\t\tshowOrHide();\n\t\t}\n\t}\n}\nSoy.register(Alert, templates);\n\n/**\n * Alert state definition.\n * @type {!Object}\n * @static\n */\nAlert.STATE = {\n\t/**\n\t * The CSS classes that should be added to the alert when being shown/hidden.\n\t * @type {!Object}\n\t */\n\tanimClasses: {\n\t\tvalidator: core.isObject,\n\t\tvalue: {\n\t\t\tshow: 'fade in',\n\t\t\thide: 'fade'\n\t\t}\n\t},\n\n\t/**\n\t * The body content of the alert.\n\t * @type {string}\n\t */\n\tbody: {\n\t},\n\n\t/**\n\t * Flag indicating if the alert should be dismissable (closeable).\n\t * @type {boolean}\n\t * @default true\n\t */\n\tdismissible: {\n\t\tvalidator: core.isBoolean,\n\t\tvalue: true\n\t},\n\n\t/**\n\t * The CSS classes that should be added to the alert.\n\t * @type {string}\n\t * @default 'alert-success'\n\t */\n\telementClasses: {\n\t\tvalue: 'alert-success'\n\t},\n\n\t/**\n\t * Delay hiding the alert (ms).\n\t * @type {?number}\n\t */\n\thideDelay: {\n\t},\n\n\t/**\n\t * Flag indicating if the alert is visible or not.\n\t * @type {boolean}\n\t * @default false\n\t */\n\tvisible: {\n\t\tvalue: false\n\t}\n};\n\nexport default Alert;\n","'use strict';\n\nimport templates from './Toast.soy';\nimport Soy from 'metal-soy';\nimport Alert from 'metal-alert';\n\nclass Toast extends Alert {}\n\nToast.STATE = {\n\t/**\n\t * Overrides `metal-alert` default values.\n\t */\n\tanimClasses: {\n\t\tvalue: {\n\t\t\tshow: 'animated slideInBottom',\n\t\t\thide: 'animated slideOutBottom'\n\t\t}\n\t},\n\n\tvisible: {\n\t\tvalue: true\n\t},\n\n\t/**\n\t * Spinner indicating.\n\t * @type {boolean}\n\t * @default false\n\t */\n\tspinner: {\n\t\tvalue: true\n\t},\n\n\t/**\n\t * The CSS classes that should be added to the spinner.\n\t * @type {string}\n\t */\n\tspinnerClasses: {\n\t},\n\n\t/**\n\t * Spinner is marked as done.\n\t * @type {boolean}\n\t * @default false\n\t */\n\tspinnerDone: {\n\t\tvalue: false\n\t}\n};\n\nSoy.register(Toast, templates);\n\nexport default Toast;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from MarbleToast.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace MarbleToast.\n * @public\n */\n\ngoog.module('MarbleToast.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('Toast.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  $templateAlias1(opt_data, null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'MarbleToast.render';\n}\n\nexports.render.params = [\"animClasses\",\"body\",\"dismissible\",\"elementClasses\",\"hideDelay\",\"spinner\",\"spinnerDone\",\"spinnerClasses\",\"visible\"];\nexports.render.types = {\"animClasses\":\"any\",\"body\":\"any\",\"dismissible\":\"any\",\"elementClasses\":\"any\",\"hideDelay\":\"any\",\"spinner\":\"any\",\"spinnerDone\":\"any\",\"spinnerClasses\":\"any\",\"visible\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass MarbleToast extends Component {}\nSoy.register(MarbleToast, templates);\nexport { MarbleToast, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nimport 'metal-toast';\n\nimport templates from './MarbleToast.soy';\n\nclass MarbleToast extends Component {\n\t\n};\n\nSoy.register(MarbleToast, templates);\n\nexport default MarbleToast;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from MarbleTooltip.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace MarbleTooltip.\n * @public\n */\n\ngoog.module('MarbleTooltip.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('Tooltip.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  $templateAlias1(opt_data, null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'MarbleTooltip.render';\n}\n\nexports.render.params = [\"elementClasses\",\"events\",\"ref\",\"selector\",\"visible\"];\nexports.render.types = {\"elementClasses\":\"any\",\"events\":\"any\",\"ref\":\"any\",\"selector\":\"any\",\"visible\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass MarbleTooltip extends Component {}\nSoy.register(MarbleTooltip, templates);\nexport { MarbleTooltip, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nimport 'metal-tooltip';\n\nimport templates from './MarbleTooltip.soy';\n\nclass MarbleTooltip extends Component {\n\t\n};\n\nSoy.register(MarbleTooltip, templates);\n\nexport default MarbleTooltip;\n","'use strict';\n\nimport core from 'metal';\nimport dom from 'metal-dom';\nimport { EventHandler } from 'metal-events';\nimport State from 'metal-state';\n\n/**\n * Toggler component.\n */\nclass Toggler extends State {\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor(opt_config) {\n\t\tsuper(opt_config);\n\n\t\tthis.headerEventHandler_ = new EventHandler();\n\n\t\tthis.on('headerChanged', this.syncHeader);\n\t\tthis.syncHeader();\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tsuper.disposeInternal();\n\t\tthis.headerEventHandler_.removeAllListeners();\n\t}\n\n\t/**\n\t * Gets the content to be toggled by the given header element.\n\t * @param {!Element} header\n\t * @protected\n\t */\n\tgetContentElement_(header) {\n\t\tif (core.isElement(this.content)) {\n\t\t\treturn this.content;\n\t\t}\n\n\t\tvar content = dom.next(header, this.content);\n\t\tif (content) {\n\t\t\treturn content;\n\t\t}\n\n\t\tcontent = header.querySelector(this.content);\n\t\tif (content) {\n\t\t\treturn content;\n\t\t}\n\n\t\treturn this.container.querySelector(this.content);\n\t}\n\n\t/**\n\t * Handles a `click` event on the header.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleClick_(event) {\n\t\tthis.toggle(event.delegateTarget || event.currentTarget);\n\t}\n\n\t/**\n\t * Handles a `keydown` event on the header.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleKeydown_(event) {\n\t\tif (event.keyCode === 13 || event.keyCode === 32) {\n\t\t\tthis.toggle(event.delegateTarget || event.currentTarget);\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\t/**\n\t * Syncs the component according to the value of the `header` state,\n\t * attaching events to the new element and detaching from any previous one.\n\t */\n\tsyncHeader() {\n\t\tthis.headerEventHandler_.removeAllListeners();\n\t\tif (this.header) {\n\t\t\tif (core.isString(this.header)) {\n\t\t\t\tthis.headerEventHandler_.add(\n\t\t\t\t\tdom.delegate(this.container, 'click', this.header, this.handleClick_.bind(this)),\n\t\t\t\t\tdom.delegate(this.container, 'keydown', this.header, this.handleKeydown_.bind(this))\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.headerEventHandler_.add(\n\t\t\t\t\tdom.on(this.header, 'click', this.handleClick_.bind(this)),\n\t\t\t\t\tdom.on(this.header, 'keydown', this.handleKeydown_.bind(this))\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Toggles the content's visibility.\n\t */\n\ttoggle(header) {\n\t\tvar content = this.getContentElement_(header);\n\t\tdom.toggleClasses(content, Toggler.CSS_EXPANDED);\n\t\tdom.toggleClasses(content, Toggler.CSS_COLLAPSED);\n\n\t\tif (dom.hasClass(content, Toggler.CSS_EXPANDED)) {\n\t\t\tdom.addClasses(header, Toggler.CSS_HEADER_EXPANDED);\n\t\t\tdom.removeClasses(header, Toggler.CSS_HEADER_COLLAPSED);\n\t\t} else {\n\t\t\tdom.removeClasses(header, Toggler.CSS_HEADER_EXPANDED);\n\t\t\tdom.addClasses(header, Toggler.CSS_HEADER_COLLAPSED);\n\t\t}\n\t}\n}\n\n/**\n * State configuration.\n */\nToggler.STATE = {\n\t/**\n\t * The element where the header/content selectors will be looked for.\n\t * @type {string|!Element}\n\t */\n\tcontainer: {\n\t\tsetter: dom.toElement,\n\t\tvalidator: value => core.isString(value) || core.isElement(value),\n\t\tvalue: document\n\t},\n\n\t/**\n\t * The element that should be expanded/collapsed by this toggler.\n\t * @type {string|!Element}\n\t */\n\tcontent: {\n\t\tvalidator: value => core.isString(value) || core.isElement(value)\n\t},\n\n\t/**\n\t * The element that should be trigger toggling.\n\t * @type {string|!Element}\n\t */\n\theader: {\n\t\tvalidator: value => core.isString(value) || core.isElement(value)\n\t}\n};\n\n/**\n * The CSS class added to the content when it's collapsed.\n */\nToggler.CSS_COLLAPSED = 'toggler-collapsed';\n\n/**\n * The CSS class added to the content when it's expanded.\n */\nToggler.CSS_EXPANDED = 'toggler-expanded';\n\n/**\n * The CSS class added to the header when the content is collapsed.\n */\nToggler.CSS_HEADER_COLLAPSED = 'toggler-header-collapsed';\n\n/**\n * The CSS class added to the header when the content is expanded.\n */\nToggler.CSS_HEADER_EXPANDED = 'toggler-header-expanded';\n\nexport default Toggler;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from SideBar.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace SideBar.\n * @hassoydeltemplate {ElectricNavigation.anchor.idom}\n * @public\n */\n\ngoog.module('SideBar.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias2 = Soy.getTemplate('ElectricNavigation.incrementaldom', 'render');\n\nvar $templateAlias1 = Soy.getTemplate('ElectricSearchAutocomplete.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  ie_open('nav', null, null,\n      'class', 'sidebar');\n    ie_open('a', null, null,\n        'class', 'sidebar-header toggler-header-collapsed');\n      ie_void('span', null, null,\n          'class', 'sidebar-icon icon-16-menu');\n      ie_open('span');\n        itext('Docs Menu');\n      ie_close('span');\n      ie_open('span', null, null,\n          'class', 'sidebar-icon-right');\n        ie_void('span', null, null,\n            'class', 'icon-12-arrow-down-short');\n        ie_void('span', null, null,\n            'class', 'icon-12-arrow-up-short');\n      ie_close('span');\n    ie_close('a');\n    ie_open('div', null, null,\n        'class', 'sidebar-toggler-content toggler-collapsed');\n      ie_open('div', null, null,\n          'class', 'sidebar-search');\n        $templateAlias1({section: opt_data.section, placeholder: 'Search Docs'}, null, opt_ijData);\n      ie_close('div');\n      $templateAlias2({elementClasses: 'sidebar-list sidebar-list-1', listItemClasses: 'sidebar-item', anchorVariant: 'sidebar', section: opt_data.section}, null, opt_ijData);\n    ie_close('div');\n  ie_close('nav');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'SideBar.render';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction __deltemplate_s84_d34389eb(opt_data, opt_ignored, opt_ijData) {\n  ie_open('a', null, null,\n      'class', 'sidebar-link ' + (opt_data.page.active ? 'sidebar-link-selected' : ''),\n      'href', opt_data.page.url);\n    ie_void('span', null, null,\n        'class', 'sidebar-icon icon-16-' + opt_data.page.icon);\n    ie_open('span');\n      var dyn0 = opt_data.page.title;\n      if (typeof dyn0 == 'function') dyn0(); else if (dyn0 != null) itext(dyn0);\n    ie_close('span');\n  ie_close('a');\n}\nexports.__deltemplate_s84_d34389eb = __deltemplate_s84_d34389eb;\nif (goog.DEBUG) {\n  __deltemplate_s84_d34389eb.soyTemplateName = 'SideBar.__deltemplate_s84_d34389eb';\n}\nsoy.$$registerDelegateFn(soy.$$getDelTemplateId('ElectricNavigation.anchor.idom'), 'sidebar', 0, __deltemplate_s84_d34389eb);\n\nexports.render.params = [\"section\"];\nexports.render.types = {\"section\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass SideBar extends Component {}\nSoy.register(SideBar, templates);\nexport { SideBar, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nimport Toggler from 'metal-toggler';\n\nimport templates from './SideBar.soy';\n\nclass SideBar extends Component {\n\tattached() {\n\t\tnew Toggler({\n\t\t\tcontent: '.sidebar-toggler-content',\n\t\t\theader: '.sidebar-header'\n\t\t});\n\t}\n};\n\nSoy.register(SideBar, templates);\n\nexport default SideBar;\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from blog.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace blog.\n * @public\n */\n\ngoog.module('blog.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('main.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var param96 = function() {\n    ie_open('div', null, null,\n        'class', 'blog');\n      $mainPost(opt_data, null, opt_ijData);\n      $olderPosts(opt_data, null, opt_ijData);\n    ie_close('div');\n  };\n  $templateAlias1(soy.$$assignDefaults({content: param96}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'blog.render';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $mainPost(opt_data, opt_ignored, opt_ijData) {\n  ie_open('article', null, null,\n      'class', 'container');\n    ie_open('header');\n      ie_open('small');\n        itext('By ');\n        var dyn1 = opt_data.page.author;\n        if (typeof dyn1 == 'function') dyn1(); else if (dyn1 != null) itext(dyn1);\n        itext(' ');\n        ie_open('span');\n          itext('| ');\n          var dyn2 = opt_data.page.date;\n          if (typeof dyn2 == 'function') dyn2(); else if (dyn2 != null) itext(dyn2);\n        ie_close('span');\n      ie_close('small');\n      ie_open('h3');\n        var dyn3 = opt_data.page.title;\n        if (typeof dyn3 == 'function') dyn3(); else if (dyn3 != null) itext(dyn3);\n      ie_close('h3');\n    ie_close('header');\n    ie_open('div', null, null,\n        'class', 'content');\n      var dyn4 = opt_data.content;\n      if (typeof dyn4 == 'function') dyn4(); else if (dyn4 != null) itext(dyn4);\n    ie_close('div');\n  ie_close('article');\n}\nexports.mainPost = $mainPost;\nif (goog.DEBUG) {\n  $mainPost.soyTemplateName = 'blog.mainPost';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $olderPosts(opt_data, opt_ignored, opt_ijData) {\n  ie_open('div', null, null,\n      'class', 'posts-list');\n    ie_open('div', null, null,\n        'class', 'container');\n      var pageList123 = opt_data.site.index.children[0].children;\n      var pageListLen123 = pageList123.length;\n      for (var pageIndex123 = 0; pageIndex123 < pageListLen123; pageIndex123++) {\n        var pageData123 = pageList123[pageIndex123];\n        ie_open('div', null, null,\n            'class', 'post-item container-blog');\n          ie_open('a', null, null,\n              'class', 'post-item__link',\n              'href', pageData123.url);\n            ie_open('small');\n              itext('By ');\n              var dyn5 = pageData123.author;\n              if (typeof dyn5 == 'function') dyn5(); else if (dyn5 != null) itext(dyn5);\n              itext(' ');\n              ie_open('span');\n                itext('| ');\n                var dyn6 = pageData123.date;\n                if (typeof dyn6 == 'function') dyn6(); else if (dyn6 != null) itext(dyn6);\n              ie_close('span');\n            ie_close('small');\n            ie_open('h4', null, null,\n                'class', 'post-item__title');\n              var dyn7 = pageData123.title;\n              if (typeof dyn7 == 'function') dyn7(); else if (dyn7 != null) itext(dyn7);\n            ie_close('h4');\n          ie_close('a');\n        ie_close('div');\n      }\n    ie_close('div');\n  ie_close('div');\n}\nexports.olderPosts = $olderPosts;\nif (goog.DEBUG) {\n  $olderPosts.soyTemplateName = 'blog.olderPosts';\n}\n\nexports.render.params = [];\nexports.render.types = {};\nexports.mainPost.params = [\"content\",\"page\"];\nexports.mainPost.types = {\"content\":\"any\",\"page\":\"any\"};\nexports.olderPosts.params = [\"site\"];\nexports.olderPosts.types = {\"site\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass blog extends Component {}\nSoy.register(blog, templates);\nexport { blog, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './blog.soy';\n\nclass blog extends Component {\n};\n\nSoy.register(blog, templates);\n\nexport default blog;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from guide.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace guide.\n * @public\n */\n\ngoog.module('guide.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias3 = Soy.getTemplate('ElectricReadingProgress.incrementaldom', 'render');\n\nvar $templateAlias2 = Soy.getTemplate('SideBar.incrementaldom', 'render');\n\nvar $templateAlias1 = Soy.getTemplate('main.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  var param129 = function() {\n    $templateAlias2({section: opt_data.site.index.children[1]}, null, opt_ijData);\n    $guide(opt_data, null, opt_ijData);\n  };\n  $templateAlias1(soy.$$assignDefaults({elementClasses: 'docs', content: param129}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'guide.render';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $guide(opt_data, opt_ignored, opt_ijData) {\n  ie_open('div', null, null,\n      'class', 'sidebar-offset');\n    ie_open('header', null, null,\n        'class', 'guide-header');\n      ie_open('div', null, null,\n          'class', 'container-hybrid');\n        ie_open('h1', null, null,\n            'class', 'guide-header-title');\n          var dyn8 = opt_data.page.title;\n          if (typeof dyn8 == 'function') dyn8(); else if (dyn8 != null) itext(dyn8);\n          itext(' Guide');\n        ie_close('h1');\n      ie_close('div');\n    ie_close('header');\n    ie_open('div', null, null,\n        'class', 'container-hybrid');\n      ie_open('div', null, null,\n          'class', 'docs-guide row');\n        ie_open('div', null, null,\n            'class', 'docs-content col-xs-16 col-md-9');\n          var dyn9 = opt_data.content;\n          if (typeof dyn9 == 'function') dyn9(); else if (dyn9 != null) itext(dyn9);\n          $feedback(opt_data, null, opt_ijData);\n        ie_close('div');\n        ie_open('nav', null, null,\n            'class', 'col-xs-16 col-md-offset-2 col-md-5');\n          ie_open('div', null, null,\n              'class', 'docs-nav-container');\n            $templateAlias3({elementClasses: 'docs-nav'}, null, opt_ijData);\n          ie_close('div');\n        ie_close('nav');\n      ie_close('div');\n    ie_close('div');\n  ie_close('div');\n}\nexports.guide = $guide;\nif (goog.DEBUG) {\n  $guide.soyTemplateName = 'guide.guide';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $feedback(opt_data, opt_ignored, opt_ijData) {\n  var $$temp;\n  ie_open('div');\n    ie_open('div', null, null,\n        'class', 'guide-feedback');\n      ie_open('p');\n        itext('Was this section helpful?');\n      ie_close('p');\n      ie_open('button', null, null,\n          'class', 'btn btn-accent guide-feedback-btn guide-feedback-btn-yes');\n        itext('Yes');\n      ie_close('button');\n      ie_open('button', null, null,\n          'class', 'btn btn-accent guide-feedback-btn guide-feedback-btn-no');\n        itext('No');\n      ie_close('button');\n    ie_close('div');\n    ie_open('div', null, null,\n        'class', 'guide-github');\n      ie_open('div', null, null,\n          'class', 'guide-github-img');\n        ie_void('span', null, null,\n            'class', 'icon-16-github');\n      ie_close('div');\n      ie_open('div', null, null,\n          'class', 'guide-github-text');\n        ie_open('p');\n          itext('Contribute on Github! ');\n          ie_open('a', null, null,\n              'href', (($$temp = opt_data.site.repo) == null ? '' : $$temp) + '/tree/master/' + opt_data.page.srcFilePath,\n              'class', 'docs-github-link',\n              'target', '_blank');\n            itext('Edit this section');\n          ie_close('a');\n          itext('.');\n        ie_close('p');\n      ie_close('div');\n    ie_close('div');\n  ie_close('div');\n}\nexports.feedback = $feedback;\nif (goog.DEBUG) {\n  $feedback.soyTemplateName = 'guide.feedback';\n}\n\nexports.render.params = [\"page\",\"site\"];\nexports.render.types = {\"page\":\"any\",\"site\":\"any\"};\nexports.guide.params = [\"page\",\"content\"];\nexports.guide.types = {\"page\":\"any\",\"content\":\"any\"};\nexports.feedback.params = [\"page\",\"site\"];\nexports.feedback.types = {\"page\":\"any\",\"site\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass guide extends Component {}\nSoy.register(guide, templates);\nexport { guide, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './guide.soy';\n\nclass guide extends Component {\n};\n\nSoy.register(guide, templates);\n\nexport default guide;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from main.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace main.\n * @public\n */\n\ngoog.module('main.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('ElectricNavigation.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  var $$temp;\n  ie_open('div', null, null,\n      'class', ($$temp = opt_data.elementClasses) == null ? 'main' : $$temp);\n    ie_open('main', null, null,\n        'class', 'content');\n      $topbar(opt_data, null, opt_ijData);\n      var dyn10 = opt_data.content;\n      if (typeof dyn10 == 'function') dyn10(); else if (dyn10 != null) itext(dyn10);\n    ie_close('main');\n  ie_close('div');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'main.render';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $topbar(opt_data, opt_ignored, opt_ijData) {\n  ie_open('nav', null, null,\n      'class', 'topbar topbar-fixed');\n    $logo(opt_data, null, opt_ijData);\n    $menu(opt_data, null, opt_ijData);\n  ie_close('nav');\n}\nexports.topbar = $topbar;\nif (goog.DEBUG) {\n  $topbar.soyTemplateName = 'main.topbar';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $logo(opt_data, opt_ignored, opt_ijData) {\n  ie_open('div', null, null,\n      'class', 'topbar-logo');\n    ie_open('a', null, null,\n        'class', 'topbar-logo-link',\n        'href', '/');\n      ie_void('span', null, null,\n          'class', 'icon icon-16-hammer');\n      ie_open('span', null, null,\n          'class', 'name');\n        var dyn11 = opt_data.site.title;\n        if (typeof dyn11 == 'function') dyn11(); else if (dyn11 != null) itext(dyn11);\n      ie_close('span');\n      ie_open('span', null, null,\n          'class', 'by');\n        itext('by Awesome Company');\n      ie_close('span');\n    ie_close('a');\n  ie_close('div');\n}\nexports.logo = $logo;\nif (goog.DEBUG) {\n  $logo.soyTemplateName = 'main.logo';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $menu(opt_data, opt_ignored, opt_ijData) {\n  $templateAlias1({depth: 1, elementClasses: 'topbar-list', linkClasses: 'topbar-link', listItemClasses: 'topbar-item', section: opt_data.site.index}, null, opt_ijData);\n}\nexports.menu = $menu;\nif (goog.DEBUG) {\n  $menu.soyTemplateName = 'main.menu';\n}\n\nexports.render.params = [\"content\",\"elementClasses\"];\nexports.render.types = {\"content\":\"any\",\"elementClasses\":\"any\"};\nexports.topbar.params = [\"site\"];\nexports.topbar.types = {\"site\":\"any\"};\nexports.logo.params = [\"site\"];\nexports.logo.types = {\"site\":\"any\"};\nexports.menu.params = [\"site\"];\nexports.menu.types = {\"site\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass main extends Component {}\nSoy.register(main, templates);\nexport { main, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './main.soy';\n\nclass main extends Component {\n};\n\nSoy.register(main, templates);\n\nexport default main;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from styleguide.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace styleguide.\n * @public\n */\n\ngoog.module('styleguide.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias2 = Soy.getTemplate('SideBar.incrementaldom', 'render');\n\nvar $templateAlias1 = Soy.getTemplate('main.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  var param177 = function() {\n    $templateAlias2({section: opt_data.site.index.children[1]}, null, opt_ijData);\n    $styleguide(opt_data, null, opt_ijData);\n  };\n  $templateAlias1(soy.$$assignDefaults({elementClasses: 'docs styleguide', content: param177}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'styleguide.render';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $styleguide(opt_data, opt_ignored, opt_ijData) {\n  ie_open('div', null, null,\n      'class', 'sidebar-offset');\n    ie_open('div', null, null,\n        'class', 'container');\n      ie_open('div', null, null,\n          'class', 'docs-guide row card');\n        ie_open('div', null, null,\n            'class', 'docs-content col-xs-16');\n          var dyn12 = opt_data.content;\n          if (typeof dyn12 == 'function') dyn12(); else if (dyn12 != null) itext(dyn12);\n          $styleguideFeedback(opt_data, null, opt_ijData);\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n  ie_close('div');\n}\nexports.styleguide = $styleguide;\nif (goog.DEBUG) {\n  $styleguide.soyTemplateName = 'styleguide.styleguide';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $styleguideFeedback(opt_data, opt_ignored, opt_ijData) {\n  var $$temp;\n  ie_open('div');\n    ie_open('div', null, null,\n        'class', 'guide-github');\n      ie_open('div', null, null,\n          'class', 'guide-github-img');\n        ie_void('span', null, null,\n            'class', 'icon-16-github');\n      ie_close('div');\n      ie_open('div', null, null,\n          'class', 'guide-github-text');\n        ie_open('p');\n          itext('Contribute on Github! ');\n          ie_open('a', null, null,\n              'href', (($$temp = opt_data.site.repo) == null ? '' : $$temp) + '/tree/master/' + opt_data.page.srcFilePath,\n              'class', 'docs-github-link',\n              'target', '_blank');\n            itext('Edit this section');\n          ie_close('a');\n          itext('.');\n        ie_close('p');\n      ie_close('div');\n    ie_close('div');\n  ie_close('div');\n}\nexports.styleguideFeedback = $styleguideFeedback;\nif (goog.DEBUG) {\n  $styleguideFeedback.soyTemplateName = 'styleguide.styleguideFeedback';\n}\n\nexports.render.params = [\"page\",\"site\"];\nexports.render.types = {\"page\":\"any\",\"site\":\"any\"};\nexports.styleguide.params = [\"page\",\"content\"];\nexports.styleguide.types = {\"page\":\"any\",\"content\":\"any\"};\nexports.styleguideFeedback.params = [\"page\",\"site\"];\nexports.styleguideFeedback.types = {\"page\":\"any\",\"site\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass styleguide extends Component {}\nSoy.register(styleguide, templates);\nexport { styleguide, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './styleguide.soy';\n\nclass styleguide extends Component {\n};\n\nSoy.register(styleguide, templates);\n\nexport default styleguide;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from styleguideFull.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace styleguideFull.\n * @public\n */\n\ngoog.module('styleguideFull.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias2 = Soy.getTemplate('SideBar.incrementaldom', 'render');\n\nvar $templateAlias1 = Soy.getTemplate('main.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  var param196 = function() {\n    $templateAlias2({section: opt_data.site.index.children[1]}, null, opt_ijData);\n    $styleguideFull(opt_data, null, opt_ijData);\n  };\n  $templateAlias1(soy.$$assignDefaults({elementClasses: 'docs styleguide', content: param196}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'styleguideFull.render';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $styleguideFull(opt_data, opt_ignored, opt_ijData) {\n  ie_open('div', null, null,\n      'class', 'sidebar-offset');\n    ie_open('div', null, null,\n        'class', 'container container-hybrid');\n      ie_open('div', null, null,\n          'class', 'docs-guide row card');\n        ie_open('div', null, null,\n            'class', 'docs-content col-xs-16');\n          var dyn13 = opt_data.content;\n          if (typeof dyn13 == 'function') dyn13(); else if (dyn13 != null) itext(dyn13);\n          $styleguideFullFeedback(opt_data, null, opt_ijData);\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n  ie_close('div');\n}\nexports.styleguideFull = $styleguideFull;\nif (goog.DEBUG) {\n  $styleguideFull.soyTemplateName = 'styleguideFull.styleguideFull';\n}\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $styleguideFullFeedback(opt_data, opt_ignored, opt_ijData) {\n  var $$temp;\n  ie_open('div');\n    ie_open('div', null, null,\n        'class', 'guide-github');\n      ie_open('div', null, null,\n          'class', 'guide-github-img');\n        ie_void('span', null, null,\n            'class', 'icon-16-github');\n      ie_close('div');\n      ie_open('div', null, null,\n          'class', 'guide-github-text');\n        ie_open('p');\n          itext('Contribute on Github! ');\n          ie_open('a', null, null,\n              'href', (($$temp = opt_data.site.repo) == null ? '' : $$temp) + '/tree/master/' + opt_data.page.srcFilePath,\n              'class', 'docs-github-link',\n              'target', '_blank');\n            itext('Edit this section');\n          ie_close('a');\n          itext('.');\n        ie_close('p');\n      ie_close('div');\n    ie_close('div');\n  ie_close('div');\n}\nexports.styleguideFullFeedback = $styleguideFullFeedback;\nif (goog.DEBUG) {\n  $styleguideFullFeedback.soyTemplateName = 'styleguideFull.styleguideFullFeedback';\n}\n\nexports.render.params = [\"page\",\"site\"];\nexports.render.types = {\"page\":\"any\",\"site\":\"any\"};\nexports.styleguideFull.params = [\"page\",\"content\"];\nexports.styleguideFull.types = {\"page\":\"any\",\"content\":\"any\"};\nexports.styleguideFullFeedback.params = [\"page\",\"site\"];\nexports.styleguideFullFeedback.types = {\"page\":\"any\",\"site\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass styleguideFull extends Component {}\nSoy.register(styleguideFull, templates);\nexport { styleguideFull, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './styleguideFull.soy';\n\nclass styleguideFull extends Component {\n};\n\nSoy.register(styleguideFull, templates);\n\nexport default styleguideFull;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from tutorial.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace tutorial.\n * @public\n */\n\ngoog.module('tutorial.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  var $$temp;\n  ie_open('div', null, null,\n      'class', ($$temp = opt_data.elementClasses) == null ? 'main' : $$temp);\n    ie_open('main', null, null,\n        'class', 'content');\n      var dyn14 = opt_data.content;\n      if (typeof dyn14 == 'function') dyn14(); else if (dyn14 != null) itext(dyn14);\n    ie_close('main');\n  ie_close('div');\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'tutorial.render';\n}\n\nexports.render.params = [\"content\",\"elementClasses\"];\nexports.render.types = {\"content\":\"any\",\"elementClasses\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass tutorial extends Component {}\nSoy.register(tutorial, templates);\nexport { tutorial, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './tutorial.soy';\n\nclass tutorial extends Component {\n};\n\nSoy.register(tutorial, templates);\n\nexport default tutorial;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from index.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace docsComponents.\n * @public\n */\n\ngoog.module('docsComponents.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias2 = Soy.getTemplate('ElectricCode.incrementaldom', 'render');\n\nvar $templateAlias1 = Soy.getTemplate('guide.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var param486 = function() {\n    ie_open('h6');\n      itext('Nullam volutpat risus nec leo commodo, ut interdum diam laoreet. Sed non consequat odio. Todo mundo v\\u00EA os porris que eu tomo, mas ningu\\u00E9m v\\u00EA os tombis que eu levo! Quem num gosta di m\\u00E9, boa gente num \\u00E9.');\n    ie_close('h6');\n    ie_open('article', null, null,\n        'id', 'article1');\n      ie_open('h2');\n        itext('Lorem ipsum dolor sit amet');\n      ie_close('h2');\n      ie_open('p');\n        itext('Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur nulla libero, eleifend in euismod eget, fringilla id diam. Proin quis interdum ipsum. Fusce eros metus, hendrerit ut egestas nec, sagittis id velit.');\n      ie_close('p');\n      ie_open('p');\n        itext('Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur nulla libero, eleifend in euismod eget, fringilla id diam. Proin quis interdum ipsum. Fusce eros metus, hendrerit ut egestas nec, sagittis id velit.');\n      ie_close('p');\n      ie_open('p');\n        itext('Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur nulla libero, eleifend in euismod eget, fringilla id diam. Proin quis interdum ipsum. Fusce eros metus, hendrerit ut egestas nec, sagittis id velit.');\n      ie_close('p');\n      $templateAlias2({code: 'var hello = function() {\\n    console.log(\\'Hello, World!\\');\\n};', mode: 'javascript'}, null, opt_ijData);\n      ie_open('p');\n        itext('Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur nulla libero, eleifend in euismod eget, fringilla id diam. Proin quis interdum ipsum. Fusce eros metus, hendrerit ut egestas nec, sagittis id velit.');\n      ie_close('p');\n    ie_close('article');\n    ie_open('article', null, null,\n        'id', 'article2');\n      ie_open('h2');\n        itext('Lorem ipsum dolor sit amet');\n      ie_close('h2');\n      ie_open('p');\n        itext('Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur nulla libero, eleifend in euismod eget, fringilla id diam. Proin quis interdum ipsum. Fusce eros metus, hendrerit ut egestas nec, sagittis id velit.');\n      ie_close('p');\n      ie_open('p');\n        itext('Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur nulla libero, eleifend in euismod eget, fringilla id diam. Proin quis interdum ipsum. Fusce eros metus, hendrerit ut egestas nec, sagittis id velit.');\n      ie_close('p');\n      ie_open('p');\n        itext('Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur nulla libero, eleifend in euismod eget, fringilla id diam. Proin quis interdum ipsum. Fusce eros metus, hendrerit ut egestas nec, sagittis id velit.');\n      ie_close('p');\n      ie_open('p');\n        itext('Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur nulla libero, eleifend in euismod eget, fringilla id diam. Proin quis interdum ipsum. Fusce eros metus, hendrerit ut egestas nec, sagittis id velit.');\n      ie_close('p');\n    ie_close('article');\n    ie_open('article', null, null,\n        'id', 'article3');\n      ie_open('h2');\n        itext('Lorem ipsum dolor sit amet');\n      ie_close('h2');\n      ie_open('p');\n        itext('Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur nulla libero, eleifend in euismod eget, fringilla id diam. Proin quis interdum ipsum. Fusce eros metus, hendrerit ut egestas nec, sagittis id velit.');\n      ie_close('p');\n      ie_open('p');\n        itext('Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur nulla libero, eleifend in euismod eget, fringilla id diam. Proin quis interdum ipsum. Fusce eros metus, hendrerit ut egestas nec, sagittis id velit.');\n      ie_close('p');\n      ie_open('p');\n        itext('Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur nulla libero, eleifend in euismod eget, fringilla id diam. Proin quis interdum ipsum. Fusce eros metus, hendrerit ut egestas nec, sagittis id velit.');\n      ie_close('p');\n      ie_open('p');\n        itext('Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur nulla libero, eleifend in euismod eget, fringilla id diam. Proin quis interdum ipsum. Fusce eros metus, hendrerit ut egestas nec, sagittis id velit.');\n      ie_close('p');\n    ie_close('article');\n  };\n  $templateAlias1(soy.$$assignDefaults({content: param486}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'docsComponents.render';\n}\n\nexports.render.params = [];\nexports.render.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass docsComponents extends Component {}\nSoy.register(docsComponents, templates);\nexport { docsComponents, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './index.soy';\n\nclass pageIndex extends Component {\n};\n\nSoy.register(pageIndex, templates);\n\nexport default pageIndex;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from markdown-post.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace blogMarkdownPostHtml.\n * @public\n */\n\ngoog.module('blogMarkdownPostHtml.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('blog.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var param258 = function() {\n    ie_open('article');\n      ie_open('p');\n        ie_open('strong');\n          itext('Strong');\n        ie_close('strong');\n        itext(' dolor sit amet, ');\n        ie_open('a', null, null,\n            'href', '#');\n          itext('consectetur adipiscing elit');\n        ie_close('a');\n        itext(', sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ');\n        ie_open('em');\n          itext('ullamco');\n        ie_close('em');\n        itext(' laboris nisi ut aliquip ');\n        ie_open('strike');\n          itext('ex');\n        ie_close('strike');\n        itext(' ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.');\n      ie_close('p');\n      ie_open('blockquote');\n        ie_open('p');\n          itext('Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.');\n        ie_close('p');\n      ie_close('blockquote');\n      ie_open('p');\n        itext('Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?');\n      ie_close('p');\n      ie_open('figure');\n        ie_open('img', null, null,\n            'src', 'https://cloud.githubusercontent.com/assets/19154228/21908369/559710ce-d8c8-11e6-9987-9622306f1a77.png',\n            'alt', 'Lorem Ipsum');\n        ie_close('img');\n      ie_close('figure');\n      ie_open('p');\n        itext('At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor repellendus. Temporibus autem quibusdam et aut officiis debitis aut rerum necessitatibus saepe eveniet ut et voluptates repudiandae sint et molestiae non recusandae. Itaque earum rerum hic tenetur a sapiente delectus, ut aut reiciendis voluptatibus maiores alias consequatur aut perferendis doloribus asperiores repellat.');\n      ie_close('p');\n    ie_close('article');\n  };\n  $templateAlias1(soy.$$assignDefaults({content: param258}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'blogMarkdownPostHtml.render';\n}\n\nexports.render.params = [];\nexports.render.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass blogMarkdownPostHtml extends Component {}\nSoy.register(blogMarkdownPostHtml, templates);\nexport { blogMarkdownPostHtml, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './markdown-post.soy';\n\nclass blogMarkdownPostHtml extends Component {\n};\n\nSoy.register(blogMarkdownPostHtml, templates);\n\nexport default blogMarkdownPostHtml;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from first-post.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace pageBlogFirstPost.\n * @public\n */\n\ngoog.module('pageBlogFirstPost.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('blog.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var param247 = function() {\n    ie_open('section');\n      ie_open('p');\n        ie_open('strong');\n          itext('Lorem ipsum');\n        ie_close('strong');\n        itext(' dolor sit amet, ');\n        ie_open('a', null, null,\n            'href', '#');\n          itext('consectetur adipiscing elit');\n        ie_close('a');\n        itext(', sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ');\n        ie_open('em');\n          itext('ullamco');\n        ie_close('em');\n        itext(' laboris nisi ut aliquip ');\n        ie_open('strike');\n          itext('ex');\n        ie_close('strike');\n        itext(' ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.');\n      ie_close('p');\n      ie_open('blockquote');\n        itext('Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.');\n      ie_close('blockquote');\n      ie_open('p');\n        itext('Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?');\n      ie_close('p');\n      ie_open('figure');\n        ie_open('img', null, null,\n            'src', 'https://cloud.githubusercontent.com/assets/19154228/21908369/559710ce-d8c8-11e6-9987-9622306f1a77.png',\n            'alt', 'Lorem Ipsum');\n        ie_close('img');\n      ie_close('figure');\n      ie_open('p');\n        itext('At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor repellendus. Temporibus autem quibusdam et aut officiis debitis aut rerum necessitatibus saepe eveniet ut et voluptates repudiandae sint et molestiae non recusandae. Itaque earum rerum hic tenetur a sapiente delectus, ut aut reiciendis voluptatibus maiores alias consequatur aut perferendis doloribus asperiores repellat.');\n      ie_close('p');\n    ie_close('section');\n  };\n  $templateAlias1(soy.$$assignDefaults({content: param247}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'pageBlogFirstPost.render';\n}\n\nexports.render.params = [];\nexports.render.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass pageBlogFirstPost extends Component {}\nSoy.register(pageBlogFirstPost, templates);\nexport { pageBlogFirstPost, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './first-post.soy';\n\nclass pageBlogFirstPost extends Component {\n};\n\nSoy.register(pageBlogFirstPost, templates);\n\nexport default pageBlogFirstPost;","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './index.soy';\n\nclass pageBlogIndex extends Component {\n};\n\nSoy.register(pageBlogIndex, templates);\n\nexport default pageBlogIndex;","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './index.soy';\n\nclass pageDocsIndex extends Component {\n};\n\nSoy.register(pageDocsIndex, templates);\n\nexport default pageDocsIndex;","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './index.soy';\n\nclass pageTutorials extends Component {\n};\n\nSoy.register(pageTutorials, templates);\n\nexport default pageTutorials;","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './index.soy';\n\nclass updatesIndex extends Component {\n};\n\nSoy.register(updatesIndex, templates);\n\nexport default updatesIndex;","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './index.soy';\n\nclass docsMetalComponents extends Component {\n};\n\nSoy.register(docsMetalComponents, templates);\n\nexport default docsMetalComponents;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from dropdown.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace pageMetalComponentsDropdown.\n * @public\n */\n\ngoog.module('pageMetalComponentsDropdown.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('MarbleDropdown.incrementaldom', 'render');\n\nvar $templateAlias2 = Soy.getTemplate('styleguide.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var dropdown__soy711 = function() {\n    ie_open('h5');\n      itext('Dropdown Settings');\n    ie_close('h5');\n    $templateAlias1({type: 'settings'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Dropdown Filter');\n    ie_close('h5');\n    $templateAlias1({type: 'filter'}, null, opt_ijData);\n  };\n  $templateAlias2(soy.$$assignDefaults({content: dropdown__soy711}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'pageMetalComponentsDropdown.render';\n}\n\nexports.render.params = [];\nexports.render.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass pageMetalComponentsDropdown extends Component {}\nSoy.register(pageMetalComponentsDropdown, templates);\nexport { pageMetalComponentsDropdown, templates };\nexport default templates;\n/* jshint ignore:end */\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from input-matrix.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace pageMetalComponentsInputMatrix.\n * @public\n */\n\ngoog.module('pageMetalComponentsInputMatrix.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('MarbleInputMatrix.incrementaldom', 'render');\n\nvar $templateAlias2 = Soy.getTemplate('styleguide.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var progressBar__soy732 = function() {\n    ie_open('h5');\n      itext('Single Field');\n    ie_close('h5');\n    $templateAlias1({fieldsConfig: [{label: '', name: 'customDomains', placeholder: 'myproject.com', isArray: true, maxLength: 263, autocomplete: 'off'}]}, null, opt_ijData);\n    ie_open('h5');\n      itext('Double Fields');\n    ie_close('h5');\n    $templateAlias1({elementClasses: 'input-matrix--inline', fieldsConfig: [{label: '', name: 'key', placeholder: 'Key', isArray: true, maxLength: 255, autocomplete: false}, {label: '', name: 'value', placeholder: 'Value', isArray: true, maxLength: 255, autocomplete: false}]}, null, opt_ijData);\n  };\n  $templateAlias2(soy.$$assignDefaults({content: progressBar__soy732}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'pageMetalComponentsInputMatrix.render';\n}\n\nexports.render.params = [];\nexports.render.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass pageMetalComponentsInputMatrix extends Component {}\nSoy.register(pageMetalComponentsInputMatrix, templates);\nexport { pageMetalComponentsInputMatrix, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './dropdown.soy';\n\nclass pageMetalComponentsDropdown extends Component {\n};\n\nSoy.register(pageMetalComponentsDropdown, templates);\n\nexport default pageMetalComponentsDropdown;","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './input-matrix.soy';\n\nclass pageMetalComponentsInputMatrix extends Component {\n};\n\nSoy.register(pageMetalComponentsInputMatrix, templates);\n\nexport default pageMetalComponentsInputMatrix;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from progressbar.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace pageMetalComponentsProgressBar.\n * @public\n */\n\ngoog.module('pageMetalComponentsProgressBar.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('MarbleProgressBar.incrementaldom', 'render');\n\nvar $templateAlias2 = Soy.getTemplate('styleguide.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var progressBar__soy744 = function() {\n    ie_open('h5');\n      itext('Types / States');\n    ie_close('h5');\n    ie_open('p');\n      itext('ProgressBar Success');\n    ie_close('p');\n    $templateAlias1({barClass: 'progress-bar-success', min: 0, max: 5, value: 3}, null, opt_ijData);\n    ie_open('p');\n      itext('ProgressBar Info');\n    ie_close('p');\n    $templateAlias1({barClass: 'progress-bar-info', min: 0, max: 5, value: 4}, null, opt_ijData);\n    ie_open('p');\n      itext('ProgressBar Warning');\n    ie_close('p');\n    $templateAlias1({barClass: 'progress-bar-warning', min: 0, max: 5, value: 1}, null, opt_ijData);\n    ie_open('p');\n      itext('ProgressBar Danger');\n    ie_close('p');\n    $templateAlias1({barClass: 'progress-bar-danger', min: 0, max: 5, value: 2}, null, opt_ijData);\n  };\n  $templateAlias2(soy.$$assignDefaults({content: progressBar__soy744}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'pageMetalComponentsProgressBar.render';\n}\n\nexports.render.params = [];\nexports.render.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass pageMetalComponentsProgressBar extends Component {}\nSoy.register(pageMetalComponentsProgressBar, templates);\nexport { pageMetalComponentsProgressBar, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './progressbar.soy';\n\nclass pageMetalComponentsProgressBar extends Component {\n};\n\nSoy.register(pageMetalComponentsProgressBar, templates);\n\nexport default pageMetalComponentsProgressBar;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from select.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace pageMetalComponentsSelect.\n * @public\n */\n\ngoog.module('pageMetalComponentsSelect.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('Select.incrementaldom', 'render');\n\nvar $templateAlias2 = Soy.getTemplate('styleguide.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var select__soy773 = function() {\n    ie_open('h5');\n      itext('Types');\n    ie_close('h5');\n    ie_open('p');\n      itext('Using String List as Content');\n    ie_close('p');\n    $templateAlias1({arrowClass: 'icon-16-arrow-down-short', buttonClass: 'btn btn-default btn-block', hiddenInputName: 'browser', items: ['Chrome', 'Safari', 'Firefox', 'Internet Explorer', 'Opera'], ref: 'browserSelector', values: ['chrome', 'safari', 'firefox', 'internet-explorer', 'opera'], selectedIndex: 0}, null, opt_ijData);\n    ie_open('p');\n      itext('WeDeploy Dashboard: Deployment > Github Account ');\n    ie_close('p');\n    var item1__soy784 = function() {\n      ie_open('img', null, null,\n          'src', 'https://avatars.githubusercontent.com/u/19154228?v=3',\n          'width', '24',\n          'height', '24');\n      ie_close('img');\n      itext(' ygorcosta');\n    };\n    var item2__soy786 = function() {\n      ie_open('img', null, null,\n          'src', 'https://avatars.githubusercontent.com/u/10002920?v=3',\n          'width', '24',\n          'height', '24');\n      ie_close('img');\n      itext(' wedeploy');\n    };\n    $templateAlias1({arrowClass: 'icon-16-arrow-down-short', buttonClass: 'btn btn-default btn-block', hiddenInputName: 'githubUser', items: [item1__soy784, item2__soy786], ref: 'githubRepository', values: ['1', '2'], selectedIndex: 0}, null, opt_ijData);\n    ie_open('p');\n      itext('WeDeploy Dashboard: Settings > Home Container');\n    ie_close('p');\n    var selectDown1__soy797 = function() {\n      ie_open('span', null, null,\n          'class', 'none');\n        ie_open('span', null, null,\n            'class', 'avatar avatar-white avatar-squared');\n          ie_void('span', null, null,\n              'class', 'icon-16-house');\n        ie_close('span');\n        itext('none');\n      ie_close('span');\n    };\n    var selectDown2__soy799 = function() {\n      ie_open('img', null, null,\n          'src', 'http://api.dashboard.wedeploy.com/static/registry/wedeploy-hosting/icon.png',\n          'width', '36',\n          'height', '36');\n      ie_close('img');\n      itext('images');\n    };\n    $templateAlias1({elementClasses: 'select-large', arrowClass: 'icon-16-arrow-down-short', buttonClass: 'btn btn-default btn-block', hiddenInputName: 'githubUser', items: [selectDown1__soy797, selectDown2__soy799], ref: 'homeContainer', values: ['1', '2'], selectedIndex: 0}, null, opt_ijData);\n  };\n  $templateAlias2(soy.$$assignDefaults({content: select__soy773}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'pageMetalComponentsSelect.render';\n}\n\nexports.render.params = [];\nexports.render.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass pageMetalComponentsSelect extends Component {}\nSoy.register(pageMetalComponentsSelect, templates);\nexport { pageMetalComponentsSelect, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './select.soy';\n\nclass pageMetalComponentsSelect extends Component {\n};\n\nSoy.register(pageMetalComponentsSelect, templates);\n\nexport default pageMetalComponentsSelect;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from slider.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace pageMetalComponentsSlider.\n * @public\n */\n\ngoog.module('pageMetalComponentsSlider.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('MarbleSlider.incrementaldom', 'render');\n\nvar $templateAlias2 = Soy.getTemplate('styleguide.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  var slider__soy814 = function() {\n    ie_open('h5');\n      itext('Default Slider');\n    ie_close('h5');\n    $templateAlias1({elementClasses: 'hidden-xs hidden-sm', events: {valueChanged: opt_data.scaleValueChanged}, max: 5, value: 1}, null, opt_ijData);\n  };\n  $templateAlias2(soy.$$assignDefaults({content: slider__soy814}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'pageMetalComponentsSlider.render';\n}\n\nexports.render.params = [\"scaleValueChanged\"];\nexports.render.types = {\"scaleValueChanged\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass pageMetalComponentsSlider extends Component {}\nSoy.register(pageMetalComponentsSlider, templates);\nexport { pageMetalComponentsSlider, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './slider.soy';\n\nclass pageMetalComponentsSlider extends Component {\n};\n\nSoy.register(pageMetalComponentsSlider, templates);\n\nexport default pageMetalComponentsSlider;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from toast.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace pageMetalComponentsToast.\n * @public\n */\n\ngoog.module('pageMetalComponentsToast.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('MarbleToast.incrementaldom', 'render');\n\nvar $templateAlias2 = Soy.getTemplate('styleguide.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var animClasses__soy825 = {show: 'animated slideInBottom', hide: 'hidden'};\n  var tootlip__soy826 = function() {\n    ie_open('h5');\n      itext('Default Tooltip');\n    ie_close('h5');\n    $templateAlias1({animClasses: animClasses__soy825, body: 'User was deleted successfully<button class=\"alert-undo-link\">undo</button>', dismissible: true, elementClasses: 'hidden alert-danger', hideDelay: 6000, visible: true, spinner: true, spinnerDone: true, spinnerClasses: 'spinner-danger'}, null, opt_ijData);\n  };\n  $templateAlias2(soy.$$assignDefaults({content: tootlip__soy826}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'pageMetalComponentsToast.render';\n}\n\nexports.render.params = [];\nexports.render.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass pageMetalComponentsToast extends Component {}\nSoy.register(pageMetalComponentsToast, templates);\nexport { pageMetalComponentsToast, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './toast.soy';\n\nclass pageMetalComponentsToast extends Component {\n};\n\nSoy.register(pageMetalComponentsToast, templates);\n\nexport default pageMetalComponentsToast;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from tooltip.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace pageMetalComponentsTooltip.\n * @public\n */\n\ngoog.module('pageMetalComponentsTooltip.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias1 = Soy.getTemplate('MarbleTooltip.incrementaldom', 'render');\n\nvar $templateAlias2 = Soy.getTemplate('styleguide.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  var tootlip__soy842 = function() {\n    ie_open('h5');\n      itext('Default Tooltip');\n    ie_close('h5');\n    ie_open('p');\n      itext('Home Service ');\n      ie_void('span', null, null,\n          'class', 'icon-12-info show-tooltip icon-info',\n          'alt', 'Select the service that will respond to requests made on project main domain.');\n    ie_close('p');\n    $templateAlias1({elementClasses: 'fade', events: {alignElementChanged: opt_data.tooltipAlignElementChanged}, ref: 'tooltip', selector: '.show-tooltip', visible: false, title: 'Select the service that will respond to requests made on project main domain.'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Default Tooltip - Text Align Left');\n    ie_close('h5');\n    ie_open('p');\n      itext('Home Service ');\n      ie_void('span', null, null,\n          'class', 'icon-12-info show-tooltip-2 icon-info',\n          'alt', 'Select the service that will respond to requests made on project main domain.');\n    ie_close('p');\n    $templateAlias1({elementClasses: 'fade text-left', events: {alignElementChanged: opt_data.tooltipAlignElementChanged}, ref: 'tooltip2', selector: '.show-tooltip-2', visible: false, title: 'Select the service that will respond to requests made on project main domain.'}, null, opt_ijData);\n  };\n  $templateAlias2(soy.$$assignDefaults({content: tootlip__soy842}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'pageMetalComponentsTooltip.render';\n}\n\nexports.render.params = [\"tooltipAlignElementChanged\"];\nexports.render.types = {\"tooltipAlignElementChanged\":\"any\"};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass pageMetalComponentsTooltip extends Component {}\nSoy.register(pageMetalComponentsTooltip, templates);\nexport { pageMetalComponentsTooltip, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './tooltip.soy';\n\nclass pageMetalComponentsTooltip extends Component {\n};\n\nSoy.register(pageMetalComponentsTooltip, templates);\n\nexport default pageMetalComponentsTooltip;","'use strict';\n\nimport { core, string } from 'metal';\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nimport 'metal-slider'\n\nimport templates from './slider.soy';\n\nclass slider extends Component {\n\n\tscaleValueChanged(event, payload) {\n\t\tconsole.log(\"scaleValueChanged: \" + event.newVal);\n\t}\n};\n\nSoy.register(slider, templates);\n\nexport default slider;","'use strict';\n\nimport { core, string } from 'metal';\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './tooltip.soy';\n\nclass tooltip extends Component {\n\n\ttooltipAlignElementChanged(event) {\n\t\tconst value = event.newVal.getAttribute('alt');\n\t\tif (value) {\n\t\t\tthis.components.tooltip.title = unescape(value);\n\t\t}\n\t}\n};\n\nSoy.register(tooltip, templates);\n\nexport default tooltip;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from avatar.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace docsComponentsAvatarHtml.\n * @public\n */\n\ngoog.module('docsComponentsAvatarHtml.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias2 = Soy.getTemplate('ElectricCode.incrementaldom', 'render');\n\nvar $templateAlias1 = Soy.getTemplate('styleguide.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var param326 = function() {\n    ie_open('h5');\n      itext('Avatar Photos');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_open('a', null, null,\n          'class', 'avatar-photo avatar-xlarge',\n          'href', '#');\n        ie_open('img', null, null,\n            'src', 'http://www.gravatar.com/avatar/25dc8725d6e5f320ca4bc1bf6db85b53?d=blank&s=120',\n            'alt', 'Ygor Costa');\n        ie_close('img');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'avatar-photo avatar-large',\n          'href', '#');\n        ie_open('img', null, null,\n            'src', 'http://www.gravatar.com/avatar/25dc8725d6e5f320ca4bc1bf6db85b53?d=blank&s=120',\n            'alt', 'Ygor Costa');\n        ie_close('img');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'avatar-photo avatar-medium',\n          'href', '#');\n        ie_open('img', null, null,\n            'src', 'http://www.gravatar.com/avatar/25dc8725d6e5f320ca4bc1bf6db85b53?d=blank&s=120',\n            'alt', 'Ygor Costa');\n        ie_close('img');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'avatar-photo avatar-small',\n          'href', '#');\n        ie_open('img', null, null,\n            'src', 'http://www.gravatar.com/avatar/25dc8725d6e5f320ca4bc1bf6db85b53?d=blank&s=120',\n            'alt', 'Ygor Costa');\n        ie_close('img');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'avatar-photo avatar-xsmall',\n          'href', '#');\n        ie_open('img', null, null,\n            'src', 'http://www.gravatar.com/avatar/25dc8725d6e5f320ca4bc1bf6db85b53?d=blank&s=120',\n            'alt', 'Ygor Costa');\n        ie_close('img');\n      ie_close('a');\n    ie_close('div');\n    $templateAlias2({code: '<a class=\"avatar-photo avatar-xlarge\" href=\"#\">\\n    <img src=\"http://www.gravatar.com/avatar/25dc8725d6e5f320ca4bc1bf6db85b53?d=blank&amp;s=120\" alt=\"Ygor Costa\">\\n</a>\\n<a class=\"avatar-photo avatar-large\" href=\"#\">\\n    <img src=\"http://www.gravatar.com/avatar/25dc8725d6e5f320ca4bc1bf6db85b53?d=blank&amp;s=120\" alt=\"Ygor Costa\">\\n</a>\\n<a class=\"avatar-photo avatar-medium\" href=\"#\">\\n    <img src=\"http://www.gravatar.com/avatar/25dc8725d6e5f320ca4bc1bf6db85b53?d=blank&amp;s=120\" alt=\"Ygor Costa\">\\n</a>\\n<a class=\"avatar-photo avatar-small\" href=\"#\">\\n    <img src=\"http://www.gravatar.com/avatar/25dc8725d6e5f320ca4bc1bf6db85b53?d=blank&amp;s=120\" alt=\"Ygor Costa\">\\n</a>\\n<a class=\"avatar-photo avatar-xsmall\" href=\"#\">\\n    <img src=\"http://www.gravatar.com/avatar/25dc8725d6e5f320ca4bc1bf6db85b53?d=blank&amp;s=120\" alt=\"Ygor Costa\">\\n</a>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Avatar Initials');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_open('a', null, null,\n          'class', 'avatar-initials avatar-xlarge',\n          'href', '#');\n        itext('a');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'avatar-initials avatar-large',\n          'href', '#');\n        itext('b');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'avatar-initials avatar-medium',\n          'href', '#');\n        itext('c');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'avatar-initials avatar-small',\n          'href', '#');\n        itext('d');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'avatar-initials avatar-xsmall',\n          'href', '#');\n        itext('e');\n      ie_close('a');\n    ie_close('div');\n    $templateAlias2({code: '<a class=\"avatar-initials avatar-xlarge\" href=\"#\">a</a>\\n<a class=\"avatar-initials avatar-large\" href=\"#\">b</a>\\n<a class=\"avatar-initials avatar-medium\" href=\"#\">c</a>\\n<a class=\"avatar-initials avatar-small\" href=\"#\">d</a>\\n<a class=\"avatar-initials avatar-xsmall\" href=\"#\">e</a>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Avatar Numbers');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_open('a', null, null,\n          'class', 'avatar-number avatar-xlarge',\n          'href', '#');\n        itext('+1');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'avatar-number avatar-large',\n          'href', '#');\n        itext('+1');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'avatar-number avatar-medium',\n          'href', '#');\n        itext('+1');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'avatar-number avatar-small',\n          'href', '#');\n        itext('+1');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'avatar-number avatar-xsmall',\n          'href', '#');\n        itext('+1');\n      ie_close('a');\n    ie_close('div');\n    $templateAlias2({code: '<a class=\"avatar-number avatar-xlarge\" href=\"#\">+1</a>\\n<a class=\"avatar-number avatar-large\" href=\"#\">+1</a>\\n<a class=\"avatar-number avatar-medium\" href=\"#\">+1</a>\\n<a class=\"avatar-number avatar-small\" href=\"#\">+1</a>\\n<a class=\"avatar-number avatar-xsmall\" href=\"#\">+1</a>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Avatar Icon');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_open('a', null, null,\n          'class', 'avatar-icon-16 avatar-large',\n          'href', '#');\n        ie_void('span', null, null,\n            'class', 'icon-16-heart');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'avatar-icon-12 avatar-large',\n          'href', '#');\n        ie_void('span', null, null,\n            'class', 'icon-12-link');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'avatar-icon-16 avatar-medium',\n          'href', '#');\n        ie_void('span', null, null,\n            'class', 'icon-16-bell');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'avatar-icon-12 avatar-medium',\n          'href', '#');\n        ie_void('span', null, null,\n            'class', 'icon-12-star');\n      ie_close('a');\n    ie_close('div');\n    $templateAlias2({code: '<a class=\"avatar-icon-16 avatar-large\" href=\"#\">\\n    <span class=\"icon-16-heart\"></span>\\n</a>\\n<a class=\"avatar-icon-12 avatar-large\" href=\"#\">\\n    <span class=\"icon-12-link\"></span>\\n</a>\\n<a class=\"avatar-icon-16 avatar-medium\" href=\"#\">\\n    <span class=\"icon-16-bell\"></span>\\n</a>\\n<a class=\"avatar-icon-12 avatar-medium\" href=\"#\">\\n    <span class=\"icon-12-star\"></span>\\n</a>', mode: 'xml'}, null, opt_ijData);\n  };\n  $templateAlias1(soy.$$assignDefaults({content: param326}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'docsComponentsAvatarHtml.render';\n}\n\nexports.render.params = [];\nexports.render.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass docsComponentsAvatarHtml extends Component {}\nSoy.register(docsComponentsAvatarHtml, templates);\nexport { docsComponentsAvatarHtml, templates };\nexport default templates;\n/* jshint ignore:end */\n","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from button.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace docsComponentsButtonHtml.\n * @public\n */\n\ngoog.module('docsComponentsButtonHtml.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias2 = Soy.getTemplate('ElectricCode.incrementaldom', 'render');\n\nvar $templateAlias1 = Soy.getTemplate('styleguide.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var param350 = function() {\n    ie_open('h5');\n      itext('Button Type');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_open('button', null, null,\n          'class', 'btn btn-accent',\n          'href', '#');\n        itext('Accent');\n      ie_close('button');\n      ie_open('button', null, null,\n          'class', 'btn btn-default',\n          'href', '#');\n        itext('Default');\n      ie_close('button');\n      ie_open('button', null, null,\n          'class', 'btn btn-primary',\n          'href', '#');\n        itext('Primary');\n      ie_close('button');\n      ie_open('button', null, null,\n          'class', 'btn btn-success',\n          'href', '#');\n        itext('Success');\n      ie_close('button');\n      ie_open('button', null, null,\n          'class', 'btn btn-danger',\n          'href', '#');\n        itext('Danger');\n      ie_close('button');\n      ie_open('button', null, null,\n          'class', 'btn btn-link',\n          'href', '#');\n        itext('Link');\n      ie_close('button');\n    ie_close('div');\n    $templateAlias2({code: '<button class=\"btn btn-accent\" href=\"#\">Accent</button>\\n<button class=\"btn btn-default\" href=\"#\">Default</button>\\n<button class=\"btn btn-primary\" href=\"#\">Primary</button>\\n<button class=\"btn btn-success\" href=\"#\">Success</button>\\n<button class=\"btn btn-danger\" href=\"#\">Danger</button>\\n<button class=\"btn btn-link\" href=\"#\">Link</button>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Disabled Button');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_open('button', null, null,\n          'class', 'btn btn-accent',\n          'disabled', '',\n          'href', '#');\n        itext('Accent');\n      ie_close('button');\n      ie_open('button', null, null,\n          'class', 'btn btn-default',\n          'disabled', '',\n          'href', '#');\n        itext('Default');\n      ie_close('button');\n      ie_open('button', null, null,\n          'class', 'btn btn-primary',\n          'disabled', '',\n          'href', '#');\n        itext('Primary');\n      ie_close('button');\n      ie_open('button', null, null,\n          'class', 'btn btn-success',\n          'disabled', '',\n          'href', '#');\n        itext('Success');\n      ie_close('button');\n      ie_open('button', null, null,\n          'class', 'btn btn-danger',\n          'disabled', '',\n          'href', '#');\n        itext('Danger');\n      ie_close('button');\n      ie_open('button', null, null,\n          'class', 'btn btn-link',\n          'disabled', '',\n          'href', '#');\n        itext('Link');\n      ie_close('button');\n    ie_close('div');\n    $templateAlias2({code: '<button class=\"btn btn-accent\" disabled=\"\" href=\"#\">Accent</button>\\n<button class=\"btn btn-default\" disabled=\"\" href=\"#\">Default</button>\\n<button class=\"btn btn-primary\" disabled=\"\" href=\"#\">Primary</button>\\n<button class=\"btn btn-success\" disabled=\"\" href=\"#\">Success</button>\\n<button class=\"btn btn-danger\" disabled=\"\" href=\"#\">Danger</button>\\n<button class=\"btn btn-link\" disabled=\"\" href=\"#\">Link</button>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Button Size');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_open('button', null, null,\n          'class', 'btn btn-primary btn-sm',\n          'href', '#');\n        itext('Small');\n      ie_close('button');\n      ie_open('button', null, null,\n          'class', 'btn btn-primary',\n          'href', '#');\n        itext('Regular');\n      ie_close('button');\n      ie_open('button', null, null,\n          'class', 'btn btn-primary btn-lg',\n          'href', '#');\n        itext('Large');\n      ie_close('button');\n    ie_close('div');\n    $templateAlias2({code: '<button class=\"btn btn-primary btn-sm\" href=\"#\">Small</button>\\n<button class=\"btn btn-primary\" href=\"#\">Regular</button>\\n<button class=\"btn btn-primary btn-lg\" href=\"#\">Large</button>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Button Tag');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_open('a', null, null,\n          'class', 'btn btn-primary',\n          'href', '#');\n        itext('Link');\n      ie_close('a');\n      ie_open('button', null, null,\n          'class', 'btn btn-primary',\n          'type', 'submit');\n        itext('Button');\n      ie_close('button');\n      ie_open('input', null, null,\n          'class', 'btn btn-primary',\n          'type', 'button',\n          'value', 'Input');\n      ie_close('input');\n      ie_open('input', null, null,\n          'class', 'btn btn-primary',\n          'type', 'submit',\n          'value', 'Submit');\n      ie_close('input');\n      ie_open('input', null, null,\n          'class', 'btn btn-primary',\n          'type', 'reset',\n          'value', 'Reset');\n      ie_close('input');\n    ie_close('div');\n    $templateAlias2({code: '<a class=\"btn btn-primary\" href=\"#\">Link</a>\\n<button class=\"btn btn-primary\" type=\"submit\">Button</button>\\n<input class=\"btn btn-primary\" type=\"button\" value=\"Input\">\\n<input class=\"btn btn-primary\" type=\"submit\" value=\"Submit\">\\n<input class=\"btn btn-primary\" type=\"reset\" value=\"Reset\">', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Button + Icon');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_open('a', null, null,\n          'class', 'btn btn-accent',\n          'href', '#');\n        ie_void('span', null, null,\n            'class', 'icon-16-star');\n        itext(' Accent');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'btn btn-default',\n          'href', '#');\n        ie_void('span', null, null,\n            'class', 'icon-16-star');\n        itext(' Default');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'btn btn-primary',\n          'href', '#');\n        ie_void('span', null, null,\n            'class', 'icon-16-star');\n        itext(' Primary');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'btn btn-success',\n          'href', '#');\n        ie_void('span', null, null,\n            'class', 'icon-16-star');\n        itext(' Success');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'btn btn-danger',\n          'href', '#');\n        ie_void('span', null, null,\n            'class', 'icon-16-star');\n        itext(' Danger');\n      ie_close('a');\n      ie_open('a', null, null,\n          'class', 'btn btn-link',\n          'href', '#');\n        ie_void('span', null, null,\n            'class', 'icon-16-star');\n        itext(' Link');\n      ie_close('a');\n    ie_close('div');\n    $templateAlias2({code: '<a class=\"btn btn-accent\" href=\"#\">\\n    <span class=\"icon-16-star\"></span> Accent\\n</a>\\n<a class=\"btn btn-default\" href=\"#\">\\n    <span class=\"icon-16-star\"></span> Default\\n</a>\\n<a class=\"btn btn-primary\" href=\"#\">\\n    <span class=\"icon-16-star\"></span> Primary\\n</a>\\n<a class=\"btn btn-success\" href=\"#\">\\n    <span class=\"icon-16-star\"></span> Success\\n</a>\\n<a class=\"btn btn-danger\" href=\"#\">\\n    <span class=\"icon-16-star\"></span> Danger\\n</a>\\n<a class=\"btn btn-link\" href=\"#\">\\n    <span class=\"icon-16-star\"></span> Link\\n</a>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Transparent Button');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_void('button', null, null,\n          'class', 'btn-transparent icon-16-flash');\n      ie_void('button', null, null,\n          'class', 'btn-transparent icon-16-ellipsis');\n    ie_close('div');\n    $templateAlias2({code: '<button class=\"btn-transparent icon-16-flash\"></button>\\n<button class=\"btn-transparent icon-16-ellipsis\"></button>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Only Icon Button');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_void('button', null, null,\n          'class', 'btn-icon btn-squared icon-16-ellipsis');\n      ie_void('button', null, null,\n          'class', 'btn-icon icon-16-ellipsis');\n    ie_close('div');\n    $templateAlias2({code: '<button class=\"btn-icon btn-squared icon-16-ellipsis\"></button>\\n<button class=\"btn-icon icon-16-ellipsis\"></button>', mode: 'xml'}, null, opt_ijData);\n  };\n  $templateAlias1(soy.$$assignDefaults({content: param350}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'docsComponentsButtonHtml.render';\n}\n\nexports.render.params = [];\nexports.render.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass docsComponentsButtonHtml extends Component {}\nSoy.register(docsComponentsButtonHtml, templates);\nexport { docsComponentsButtonHtml, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './index.soy';\n\nclass docsComponents extends Component {\n};\n\nSoy.register(docsComponents, templates);\n\nexport default docsComponents;","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './avatar.soy';\n\nclass docsComponentsAvatarHtml extends Component {\n};\n\nSoy.register(docsComponentsAvatarHtml, templates);\n\nexport default docsComponentsAvatarHtml;","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './button.soy';\n\nclass docsComponentsButtonHtml extends Component {\n};\n\nSoy.register(docsComponentsButtonHtml, templates);\n\nexport default docsComponentsButtonHtml;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from form.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace docsComponentsFormHtml.\n * @public\n */\n\ngoog.module('docsComponentsFormHtml.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias2 = Soy.getTemplate('ElectricCode.incrementaldom', 'render');\n\nvar $templateAlias1 = Soy.getTemplate('styleguide.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var param389 = function() {\n    ie_open('h5');\n      itext('Default Input');\n    ie_close('h5');\n    ie_open('form');\n      ie_open('div', null, null,\n          'class', 'form-group');\n        ie_open('label', null, null,\n            'for', 'input-regular');\n          itext('Label');\n        ie_close('label');\n        ie_open('input', null, null,\n            'id', 'input-regular',\n            'class', 'form-control',\n            'type', 'text',\n            'placeholder', 'Write something here...');\n        ie_close('input');\n        ie_open('p', null, null,\n            'class', 'help-block');\n          itext('A block of auxiliar text');\n        ie_close('p');\n      ie_close('div');\n    ie_close('form');\n    $templateAlias2({code: '<form>\\n    <div class=\"form-group\">\\n        <label for=\"input-regular\">Label</label>\\n        <input id=\"input-regular\" class=\"form-control\" type=\"text\" placeholder=\"Write something here...\">\\n        <p class=\"help-block\">A block of auxiliar text</p>\\n    </div>\\n</form>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('File Input');\n    ie_close('h5');\n    ie_open('form');\n      ie_open('div', null, null,\n          'class', 'form-group');\n        ie_open('label', null, null,\n            'for', 'input-regular');\n          itext('File selector');\n        ie_close('label');\n        ie_open('input', null, null,\n            'id', 'input-regular',\n            'class', 'form-control',\n            'type', 'file',\n            'placeholder', 'Select a file here...');\n        ie_close('input');\n      ie_close('div');\n    ie_close('form');\n    $templateAlias2({code: '<input id=\"input-regular\" class=\"form-control\" type=\"file\" placeholder=\"Select a file here...\">', mode: 'htmlmixex'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Input + Copy to Clipboard');\n    ie_close('h5');\n    ie_open('form');\n      ie_open('div', null, null,\n          'class', 'form-group');\n        ie_open('label');\n          itext('Example');\n        ie_close('label');\n        ie_open('div', null, null,\n            'class', 'has-action-button');\n          ie_open('input', null, null,\n              'class', 'form-control',\n              'type', 'text',\n              'onfocus', 'this.select();',\n              'onmouseup', 'return false;',\n              'value', 'Click to copy to clipboard');\n          ie_close('input');\n          ie_open('button', null, null,\n              'class', 'btn btn-sm btn-primary',\n              'type', 'button');\n            ie_void('span', null, null,\n                'class', 'icon-12-overlap');\n            ie_open('div', null, null,\n                'class', 'btn-tooltip');\n              itext('Copy to clipboard');\n            ie_close('div');\n          ie_close('button');\n        ie_close('div');\n      ie_close('div');\n    ie_close('form');\n    $templateAlias2({code: '<div class=\"has-action-button\">\\n    <input class=\"form-control\" type=\"text\" value=\"Click to copy to clipboard\">\\n    <button class=\"btn btn-sm btn-primary\" type=\"button\">\\n        <span class=\"icon-12-overlap\"></span>\\n        <div class=\"btn-tooltip\">Copy to clipboard</div>\\n    </button>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Input Disabled');\n    ie_close('h5');\n    ie_open('form');\n      ie_open('div', null, null,\n          'class', 'form-group');\n        ie_open('label', null, null,\n            'for', 'input-disabled');\n          itext('Example');\n        ie_close('label');\n        ie_open('input', null, null,\n            'id', 'input-disabled',\n            'class', 'form-control',\n            'type', 'text',\n            'placeholder', 'Write something here...',\n            'disabled', '');\n        ie_close('input');\n      ie_close('div');\n    ie_close('form');\n    $templateAlias2({code: '<div class=\"form-group\">\\n    <label for=\"input-disabled\">Example</label>\\n    <input id=\"input-disabled\" class=\"form-control\" type=\"text\" placeholder=\"Write something here...\" disabled=\"\">\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Input Read Only');\n    ie_close('h5');\n    ie_open('form');\n      ie_open('div', null, null,\n          'class', 'form-group');\n        ie_open('label', null, null,\n            'for', 'input-readonly');\n          itext('Example');\n        ie_close('label');\n        ie_open('input', null, null,\n            'id', 'input-readonly',\n            'class', 'form-control',\n            'type', 'text',\n            'value', 'Something to read',\n            'readonly', '');\n        ie_close('input');\n      ie_close('div');\n    ie_close('form');\n    $templateAlias2({code: '<div class=\"form-group\">\\n    <label for=\"input-readonly\">Example</label>\\n    <input id=\"input-readonly\" class=\"form-control\" type=\"text\" value=\"Something to read\" readonly=\"\">\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Input Read Only + Copy to Clipboard');\n    ie_close('h5');\n    ie_open('form');\n      ie_open('div', null, null,\n          'class', 'form-group');\n        ie_open('label');\n          itext('Example');\n        ie_close('label');\n        ie_open('div', null, null,\n            'class', 'has-action-button');\n          ie_open('input', null, null,\n              'class', 'form-control',\n              'type', 'text',\n              'onfocus', 'this.select();',\n              'onmouseup', 'return false;',\n              'value', 'Click to copy to clipboard',\n              'readonly', '');\n          ie_close('input');\n          ie_open('button', null, null,\n              'class', 'btn btn-sm btn-primary',\n              'type', 'button');\n            ie_void('span', null, null,\n                'class', 'icon-12-overlap');\n            ie_open('div', null, null,\n                'class', 'btn-tooltip');\n              itext('Copy to clipboard');\n            ie_close('div');\n          ie_close('button');\n        ie_close('div');\n      ie_close('div');\n    ie_close('form');\n    $templateAlias2({code: '<div class=\"has-action-button\">\\n    <input class=\"form-control\" type=\"text\" value=\"Click to copy to clipboard\" readonly=\"\">\\n    <button class=\"btn btn-sm btn-primary\" type=\"button\">\\n        <span class=\"icon-12-overlap\"></span>\\n        <div class=\"btn-tooltip\">Copy to clipboard</div>\\n    </button>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Input Read Only + Click to Show');\n    ie_close('h5');\n    ie_open('form');\n      ie_open('div', null, null,\n          'class', 'form-group');\n        ie_open('label');\n          itext('Example');\n        ie_close('label');\n        ie_open('div', null, null,\n            'class', 'has-action-button');\n          ie_open('input', null, null,\n              'class', 'form-control',\n              'type', 'password',\n              'value', 'B76BABB1377E5CDC8364AF4355659',\n              'readonly', '');\n          ie_close('input');\n          ie_open('button', null, null,\n              'class', 'btn btn-sm btn-primary',\n              'type', 'button');\n            ie_void('span', null, null,\n                'class', 'icon-12-eye');\n            ie_open('div', null, null,\n                'class', 'btn-tooltip');\n              itext('Show');\n            ie_close('div');\n          ie_close('button');\n        ie_close('div');\n      ie_close('div');\n    ie_close('form');\n    $templateAlias2({code: '<div class=\"has-action-button\">\\n    <input class=\"form-control\" type=\"password\" value=\"B76BABB1377E5CDC8364AF4355659\" readonly=\"\">\\n    <button class=\"btn btn-sm btn-primary\" type=\"button\">\\n        <span class=\"icon-12-eye\"></span>\\n        <div class=\"btn-tooltip\">Show</div>\\n    </button>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Input Read Only + Click to Hide');\n    ie_close('h5');\n    ie_open('form');\n      ie_open('div', null, null,\n          'class', 'form-group');\n        ie_open('label');\n          itext('Example');\n        ie_close('label');\n        ie_open('div', null, null,\n            'class', 'has-action-button');\n          ie_open('input', null, null,\n              'class', 'form-control',\n              'type', 'text',\n              'value', 'B76BABB1377E5CDC8364AF4355659',\n              'readonly', '');\n          ie_close('input');\n          ie_open('button', null, null,\n              'class', 'btn btn-sm btn-primary',\n              'type', 'button');\n            ie_void('span', null, null,\n                'class', 'icon-12-eye-off');\n            ie_open('div', null, null,\n                'class', 'btn-tooltip');\n              itext('Hide');\n            ie_close('div');\n          ie_close('button');\n        ie_close('div');\n      ie_close('div');\n    ie_close('form');\n    $templateAlias2({code: '<div class=\"has-action-button\">\\n    <input class=\"form-control\" type=\"text\" value=\"B76BABB1377E5CDC8364AF4355659\" readonly=\"\">\\n    <button class=\"btn btn-sm btn-primary\" type=\"button\">\\n        <span class=\"icon-12-eye-off\"></span>\\n        <div class=\"btn-tooltip\">Hide</div>\\n    </button>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Input Success');\n    ie_close('h5');\n    ie_open('form');\n      ie_open('div', null, null,\n          'class', 'form-group has-success');\n        ie_open('label', null, null,\n            'for', 'input-success');\n          itext('Success');\n        ie_close('label');\n        ie_open('input', null, null,\n            'id', 'input-success',\n            'class', 'form-control',\n            'type', 'text');\n        ie_close('input');\n      ie_close('div');\n    ie_close('form');\n    $templateAlias2({code: '<div class=\"form-group has-success\">\\n    <label for=\"input-success\">Success</label>\\n    <input id=\"input-success\" class=\"form-control\" type=\"text\">\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Input Warning');\n    ie_close('h5');\n    ie_open('form');\n      ie_open('div', null, null,\n          'class', 'form-group has-warning');\n        ie_open('label', null, null,\n            'for', 'input-warning');\n          itext('Warning');\n        ie_close('label');\n        ie_open('input', null, null,\n            'id', 'input-warning',\n            'class', 'form-control',\n            'type', 'text');\n        ie_close('input');\n      ie_close('div');\n    ie_close('form');\n    $templateAlias2({code: '<div class=\"form-group has-warning\">\\n    <label for=\"input-warning\">Warning</label>\\n    <input id=\"input-warning\" class=\"form-control\" type=\"text\">\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Input Error');\n    ie_close('h5');\n    ie_open('form');\n      ie_open('div', null, null,\n          'class', 'form-group has-error');\n        ie_open('label', null, null,\n            'for', 'input-error');\n          itext('Error');\n        ie_close('label');\n        ie_open('input', null, null,\n            'id', 'input-error',\n            'class', 'form-control',\n            'type', 'text');\n        ie_close('input');\n      ie_close('div');\n    ie_close('form');\n    $templateAlias2({code: '<div class=\"form-group has-error\">\\n    <label for=\"input-error\">Error</label>\\n    <input id=\"input-error\" class=\"form-control\" type=\"text\">\\n</div>', mode: 'xml'}, null, opt_ijData);\n  };\n  $templateAlias1(soy.$$assignDefaults({content: param389}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'docsComponentsFormHtml.render';\n}\n\nexports.render.params = [];\nexports.render.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass docsComponentsFormHtml extends Component {}\nSoy.register(docsComponentsFormHtml, templates);\nexport { docsComponentsFormHtml, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './form.soy';\n\nclass docsComponentsFormHtml extends Component {\n};\n\nSoy.register(docsComponentsFormHtml, templates);\n\nexport default docsComponentsFormHtml;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from grid.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace docsComponentsGridHtml.\n * @public\n */\n\ngoog.module('docsComponentsGridHtml.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias2 = Soy.getTemplate('ElectricCode.incrementaldom', 'render');\n\nvar $templateAlias1 = Soy.getTemplate('styleguideFull.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var param448 = function() {\n    ie_open('h5');\n      itext('Grid breakpoints');\n    ie_close('h5');\n    ie_open('p');\n      itext('Extra Small (360px)');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'demo container-hybrid container-xs');\n      ie_open('div', null, null,\n          'class', 'row');\n        ie_open('div', null, null,\n            'class', 'col-xs-8');\n          itext('xs');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8');\n          itext('xs');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"container-hybrid\">\\n    <div class=\"row\">\\n        <div class=\"col-xs-8\">xs</div>\\n        <div class=\"col-xs-8\">xs</div>\\n    </div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('p');\n      itext('Small (600px)');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'demo container-hybrid container-sm');\n      ie_open('div', null, null,\n          'class', 'row');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4');\n          itext('sm');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4');\n          itext('sm');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4');\n          itext('sm');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4');\n          itext('sm');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"container-hybrid\">\\n    <div class=\"row\">\\n        <div class=\"col-xs-8 col-sm-4\">sm</div>\\n        <div class=\"col-xs-8 col-sm-4\">sm</div>\\n        <div class=\"col-xs-8 col-sm-4\">sm</div>\\n        <div class=\"col-xs-8 col-sm-4\">sm</div>\\n    </div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('p');\n      itext('Medium (960px)');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'demo container-hybrid container-md');\n      ie_open('div', null, null,\n          'class', 'row');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2');\n          itext('md');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2');\n          itext('md');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2');\n          itext('md');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2');\n          itext('md');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2');\n          itext('md');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2');\n          itext('md');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2');\n          itext('md');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2');\n          itext('md');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"container-hybrid\">\\n    <div class=\"row\">\\n        <div class=\"col-xs-8 col-sm-4 col-md-2\">md</div>\\n        <div class=\"col-xs-8 col-sm-4 col-md-2\">md</div>\\n        [...]\\n        <div class=\"col-xs-8 col-sm-4 col-md-2\">md</div>\\n        <div class=\"col-xs-8 col-sm-4 col-md-2\">md</div>\\n    </div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('p');\n      itext('Large (1280px)');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'demo container-hybrid container-lg');\n      ie_open('div', null, null,\n          'class', 'row');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2 col-lg-1');\n          itext('lg');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2 col-lg-1');\n          itext('lg');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2 col-lg-1');\n          itext('lg');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2 col-lg-1');\n          itext('lg');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2 col-lg-1');\n          itext('lg');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2 col-lg-1');\n          itext('lg');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2 col-lg-1');\n          itext('lg');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2 col-lg-1');\n          itext('lg');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2 col-lg-1');\n          itext('lg');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2 col-lg-1');\n          itext('lg');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2 col-lg-1');\n          itext('lg');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2 col-lg-1');\n          itext('lg');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2 col-lg-1');\n          itext('lg');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2 col-lg-1');\n          itext('lg');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2 col-lg-1');\n          itext('lg');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'col-xs-8 col-sm-4 col-md-2 col-lg-1');\n          itext('lg');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"container-hybrid\">\\n    <div class=\"row\">\\n        <div class=\"col-xs-8 col-sm-4 col-md-2 col-lg-1\">lg</div>\\n        <div class=\"col-xs-8 col-sm-4 col-md-2 col-lg-1\">lg</div>\\n        [...]\\n        <div class=\"col-xs-8 col-sm-4 col-md-2 col-lg-1\">lg</div>\\n        <div class=\"col-xs-8 col-sm-4 col-md-2 col-lg-1\">lg</div>\\n    </div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n  };\n  $templateAlias1(soy.$$assignDefaults({content: param448}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'docsComponentsGridHtml.render';\n}\n\nexports.render.params = [];\nexports.render.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass docsComponentsGridHtml extends Component {}\nSoy.register(docsComponentsGridHtml, templates);\nexport { docsComponentsGridHtml, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './grid.soy';\n\nclass docsComponentsGridHtml extends Component {\n};\n\nSoy.register(docsComponentsGridHtml, templates);\n\nexport default docsComponentsGridHtml;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from icon.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace docsComponentsIconHtml.\n * @public\n */\n\ngoog.module('docsComponentsIconHtml.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias2 = Soy.getTemplate('ElectricCode.incrementaldom', 'render');\n\nvar $templateAlias1 = Soy.getTemplate('styleguide.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var param472 = function() {\n    ie_open('h5');\n      itext('Icon 12');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_void('span', null, null,\n          'title', 'icon-12-alert',\n          'class', 'icon-12-alert');\n      ie_void('span', null, null,\n          'title', 'icon-12-apps',\n          'class', 'icon-12-apps');\n      ie_void('span', null, null,\n          'title', 'icon-12-arrow-down-rod',\n          'class', 'icon-12-arrow-down-rod');\n      ie_void('span', null, null,\n          'title', 'icon-12-arrow-down-short',\n          'class', 'icon-12-arrow-down-short');\n      ie_void('span', null, null,\n          'title', 'icon-12-arrow-increase',\n          'class', 'icon-12-arrow-increase');\n      ie_void('span', null, null,\n          'title', 'icon-12-icon-12-arrow-left-rod',\n          'class', 'icon-12-arrow-left-rod');\n      ie_void('span', null, null,\n          'title', 'icon-12-icon-12-arrow-left-short',\n          'class', 'icon-12-arrow-left-short');\n      ie_void('span', null, null,\n          'title', 'icon-12-icon-12-arrow-right-long',\n          'class', 'icon-12-arrow-right-long');\n      ie_void('span', null, null,\n          'title', 'icon-12-arrow-right-rod',\n          'class', 'icon-12-arrow-right-rod');\n      ie_void('span', null, null,\n          'title', 'icon-12-icon-12-arrow-right-short',\n          'class', 'icon-12-arrow-right-short');\n      ie_void('span', null, null,\n          'title', 'icon-12-arrow-up-rod',\n          'class', 'icon-12-arrow-up-rod');\n      ie_void('span', null, null,\n          'title', 'icon-12-arrow-up-short',\n          'class', 'icon-12-arrow-up-short');\n      ie_void('span', null, null,\n          'title', 'icon-12-arrows-expand',\n          'class', 'icon-12-arrows-expand');\n      ie_void('span', null, null,\n          'title', 'icon-12-arrows',\n          'class', 'icon-12-arrows');\n      ie_void('span', null, null,\n          'title', 'icon-12-balloon-topic',\n          'class', 'icon-12-balloon-topic');\n      ie_void('span', null, null,\n          'title', 'icon-12-bell-off',\n          'class', 'icon-12-bell-off');\n      ie_void('span', null, null,\n          'title', 'icon-12-bell',\n          'class', 'icon-12-bell');\n      ie_void('span', null, null,\n          'title', 'icon-12-bookmark',\n          'class', 'icon-12-bookmark');\n      ie_void('span', null, null,\n          'title', 'icon-12-briefcase',\n          'class', 'icon-12-briefcase');\n      ie_void('span', null, null,\n          'title', 'icon-12-bug',\n          'class', 'icon-12-bug');\n      ie_void('span', null, null,\n          'title', 'icon-12-building-big',\n          'class', 'icon-12-building-big');\n      ie_void('span', null, null,\n          'title', 'icon-12-camera',\n          'class', 'icon-12-camera');\n      ie_void('span', null, null,\n          'title', 'icon-12-card',\n          'class', 'icon-12-card');\n      ie_void('span', null, null,\n          'title', 'icon-12-check',\n          'class', 'icon-12-check');\n      ie_void('span', null, null,\n          'title', 'icon-12-clock',\n          'class', 'icon-12-clock');\n      ie_void('span', null, null,\n          'title', 'icon-12-close-long',\n          'class', 'icon-12-close-long');\n      ie_void('span', null, null,\n          'title', 'icon-12-close-short',\n          'class', 'icon-12-close-short');\n      ie_void('span', null, null,\n          'title', 'icon-12-cloud',\n          'class', 'icon-12-cloud');\n      ie_void('span', null, null,\n          'title', 'icon-12-code-file',\n          'class', 'icon-12-code-file');\n      ie_void('span', null, null,\n          'title', 'icon-12-collapse',\n          'class', 'icon-12-collapse');\n      ie_void('span', null, null,\n          'title', 'icon-12-collections',\n          'class', 'icon-12-collections');\n      ie_void('span', null, null,\n          'title', 'icon-12-database',\n          'class', 'icon-12-database');\n      ie_void('span', null, null,\n          'title', 'icon-12-download',\n          'class', 'icon-12-download');\n      ie_void('span', null, null,\n          'title', 'icon-12-ellipsis',\n          'class', 'icon-12-ellipsis');\n      ie_void('span', null, null,\n          'title', 'icon-12-exclamation',\n          'class', 'icon-12-exclamation');\n      ie_void('span', null, null,\n          'title', 'icon-12-expand',\n          'class', 'icon-12-expand');\n      ie_void('span', null, null,\n          'title', 'icon-12-external',\n          'class', 'icon-12-external');\n      ie_void('span', null, null,\n          'title', 'icon-12-eye-off',\n          'class', 'icon-12-eye-off');\n      ie_void('span', null, null,\n          'title', 'icon-12-eye',\n          'class', 'icon-12-eye');\n      ie_void('span', null, null,\n          'title', 'icon-12-file',\n          'class', 'icon-12-file');\n      ie_void('span', null, null,\n          'title', 'icon-12-flag-small',\n          'class', 'icon-12-flag-small');\n      ie_void('span', null, null,\n          'title', 'icon-12-flag',\n          'class', 'icon-12-flag');\n      ie_void('span', null, null,\n          'title', 'icon-12-flash-off',\n          'class', 'icon-12-flash-off');\n      ie_void('span', null, null,\n          'title', 'icon-12-flash',\n          'class', 'icon-12-flash');\n      ie_void('span', null, null,\n          'title', 'icon-12-folder',\n          'class', 'icon-12-folder');\n      ie_void('span', null, null,\n          'title', 'icon-12-fork',\n          'class', 'icon-12-fork');\n      ie_void('span', null, null,\n          'title', 'icon-12-gear',\n          'class', 'icon-12-gear');\n      ie_void('span', null, null,\n          'title', 'icon-12-github',\n          'class', 'icon-12-github');\n      ie_void('span', null, null,\n          'title', 'icon-12-graph',\n          'class', 'icon-12-graph');\n      ie_void('span', null, null,\n          'title', 'icon-12-groups',\n          'class', 'icon-12-groups');\n      ie_void('span', null, null,\n          'title', 'icon-12-hash',\n          'class', 'icon-12-hash');\n      ie_void('span', null, null,\n          'title', 'icon-12-heart-full',\n          'class', 'icon-12-heart-full');\n      ie_void('span', null, null,\n          'title', 'icon-12-house',\n          'class', 'icon-12-house');\n      ie_void('span', null, null,\n          'title', 'icon-12-image',\n          'class', 'icon-12-image');\n      ie_void('span', null, null,\n          'title', 'icon-12-info-card',\n          'class', 'icon-12-info-card');\n      ie_void('span', null, null,\n          'title', 'icon-12-info',\n          'class', 'icon-12-info');\n      ie_void('span', null, null,\n          'title', 'icon-12-journal',\n          'class', 'icon-12-journal');\n      ie_void('span', null, null,\n          'title', 'icon-12-leave',\n          'class', 'icon-12-leave');\n      ie_void('span', null, null,\n          'title', 'icon-12-link',\n          'class', 'icon-12-link');\n      ie_void('span', null, null,\n          'title', 'icon-12-lock',\n          'class', 'icon-12-lock');\n      ie_void('span', null, null,\n          'title', 'icon-12-magnifier',\n          'class', 'icon-12-magnifier');\n      ie_void('span', null, null,\n          'title', 'icon-12-mail',\n          'class', 'icon-12-mail');\n      ie_void('span', null, null,\n          'title', 'icon-12-menu',\n          'class', 'icon-12-menu');\n      ie_void('span', null, null,\n          'title', 'icon-12-module',\n          'class', 'icon-12-module');\n      ie_void('span', null, null,\n          'title', 'icon-12-overlap',\n          'class', 'icon-12-overlap');\n      ie_void('span', null, null,\n          'title', 'icon-12-pause',\n          'class', 'icon-12-pause');\n      ie_void('span', null, null,\n          'title', 'icon-12-pen',\n          'class', 'icon-12-pen');\n      ie_void('span', null, null,\n          'title', 'icon-12-people',\n          'class', 'icon-12-people');\n      ie_void('span', null, null,\n          'title', 'icon-12-person-card-2',\n          'class', 'icon-12-person-card-2');\n      ie_void('span', null, null,\n          'title', 'icon-12-person-card-3',\n          'class', 'icon-12-person-card-3');\n      ie_void('span', null, null,\n          'title', 'icon-12-person',\n          'class', 'icon-12-person');\n      ie_void('span', null, null,\n          'title', 'icon-12-persons',\n          'class', 'icon-12-persons');\n      ie_void('span', null, null,\n          'title', 'icon-12-pin',\n          'class', 'icon-12-pin');\n      ie_void('span', null, null,\n          'title', 'icon-12-play',\n          'class', 'icon-12-play');\n      ie_void('span', null, null,\n          'title', 'icon-12-plus',\n          'class', 'icon-12-plus');\n      ie_void('span', null, null,\n          'title', 'icon-12-post',\n          'class', 'icon-12-post');\n      ie_void('span', null, null,\n          'title', 'icon-12-rocket',\n          'class', 'icon-12-rocket');\n      ie_void('span', null, null,\n          'title', 'icon-12-signpost',\n          'class', 'icon-12-signpost');\n      ie_void('span', null, null,\n          'title', 'icon-12-spinner-double-arrow',\n          'class', 'icon-12-spinner-double-arrow');\n      ie_void('span', null, null,\n          'title', 'icon-12-star',\n          'class', 'icon-12-star');\n      ie_void('span', null, null,\n          'title', 'icon-12-table',\n          'class', 'icon-12-table');\n      ie_void('span', null, null,\n          'title', 'icon-12-trash',\n          'class', 'icon-12-trash');\n      ie_void('span', null, null,\n          'title', 'icon-12-upload',\n          'class', 'icon-12-upload');\n    ie_close('div');\n    $templateAlias2({code: '<span class=\"icon-12-alert\"></span>\\n<span class=\"icon-12-apps\"></span>\\n[...]\\n<span class=\"icon-12-trash\"></span>\\n<span class=\"icon-12-upload\"></span>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Icon 16');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_void('span', null, null,\n          'title', 'icon-16-apps',\n          'class', 'icon-16-apps');\n      ie_void('span', null, null,\n          'title', 'icon-16-arrow-down-rod',\n          'class', 'icon-16-arrow-down-rod');\n      ie_void('span', null, null,\n          'title', 'icon-16-arrow-down-short',\n          'class', 'icon-16-arrow-down-short');\n      ie_void('span', null, null,\n          'title', 'icon-16-arrow-left-rod',\n          'class', 'icon-16-arrow-left-rod');\n      ie_void('span', null, null,\n          'title', 'icon-16-arrow-left-short',\n          'class', 'icon-16-arrow-left-short');\n      ie_void('span', null, null,\n          'title', 'icon-16-arrow-right-rod',\n          'class', 'icon-16-arrow-right-rod');\n      ie_void('span', null, null,\n          'title', 'icon-16-arrow-right-short',\n          'class', 'icon-16-arrow-right-short');\n      ie_void('span', null, null,\n          'title', 'icon-16-arrow-up-rod',\n          'class', 'icon-16-arrow-up-rod');\n      ie_void('span', null, null,\n          'title', 'icon-16-arrow-up-short',\n          'class', 'icon-16-arrow-up-short');\n      ie_void('span', null, null,\n          'title', 'icon-16-balloon-comment',\n          'class', 'icon-16-balloon-comment');\n      ie_void('span', null, null,\n          'title', 'icon-16-balloon-topic',\n          'class', 'icon-16-balloon-topic');\n      ie_void('span', null, null,\n          'title', 'icon-16-bell-off',\n          'class', 'icon-16-bell-off');\n      ie_void('span', null, null,\n          'title', 'icon-16-bell',\n          'class', 'icon-16-bell');\n      ie_void('span', null, null,\n          'title', 'icon-16-bookmark',\n          'class', 'icon-16-bookmark');\n      ie_void('span', null, null,\n          'title', 'icon-16-building',\n          'class', 'icon-16-building');\n      ie_void('span', null, null,\n          'title', 'icon-16-bullhorn',\n          'class', 'icon-16-bullhorn');\n      ie_void('span', null, null,\n          'title', 'icon-16-calendar',\n          'class', 'icon-16-calendar');\n      ie_void('span', null, null,\n          'title', 'icon-16-camera',\n          'class', 'icon-16-camera');\n      ie_void('span', null, null,\n          'title', 'icon-16-cancel',\n          'class', 'icon-16-cancel');\n      ie_void('span', null, null,\n          'title', 'icon-16-checkbox-checked',\n          'class', 'icon-16-checkbox-checked');\n      ie_void('span', null, null,\n          'title', 'icon-16-checkbox-indeterminate',\n          'class', 'icon-16-checkbox-indeterminate');\n      ie_void('span', null, null,\n          'title', 'icon-16-checkbox-unchecked',\n          'class', 'icon-16-checkbox-unchecked');\n      ie_void('span', null, null,\n          'title', 'icon-16-checkmark',\n          'class', 'icon-16-checkmark');\n      ie_void('span', null, null,\n          'title', 'icon-16-circle-arrow',\n          'class', 'icon-16-circle-arrow');\n      ie_void('span', null, null,\n          'title', 'icon-16-clear',\n          'class', 'icon-16-clear');\n      ie_void('span', null, null,\n          'title', 'icon-16-clip',\n          'class', 'icon-16-clip');\n      ie_void('span', null, null,\n          'title', 'icon-16-clock',\n          'class', 'icon-16-clock');\n      ie_void('span', null, null,\n          'title', 'icon-16-cloud',\n          'class', 'icon-16-cloud');\n      ie_void('span', null, null,\n          'title', 'icon-16-code-file',\n          'class', 'icon-16-code-file');\n      ie_void('span', null, null,\n          'title', 'icon-16-command-line',\n          'class', 'icon-16-command-line');\n      ie_void('span', null, null,\n          'title', 'icon-16-contract',\n          'class', 'icon-16-contract');\n      ie_void('span', null, null,\n          'title', 'icon-16-cup',\n          'class', 'icon-16-cup');\n      ie_void('span', null, null,\n          'title', 'icon-16-database',\n          'class', 'icon-16-database');\n      ie_void('span', null, null,\n          'title', 'icon-16-download',\n          'class', 'icon-16-download');\n      ie_void('span', null, null,\n          'title', 'icon-16-dribbble',\n          'class', 'icon-16-dribbble');\n      ie_void('span', null, null,\n          'title', 'icon-16-ellipsis-vertical',\n          'class', 'icon-16-ellipsis-vertical');\n      ie_void('span', null, null,\n          'title', 'icon-16-ellipsis',\n          'class', 'icon-16-ellipsis');\n      ie_void('span', null, null,\n          'title', 'icon-16-expand',\n          'class', 'icon-16-expand');\n      ie_void('span', null, null,\n          'title', 'icon-16-external',\n          'class', 'icon-16-external');\n      ie_void('span', null, null,\n          'title', 'icon-16-eye',\n          'class', 'icon-16-eye');\n      ie_void('span', null, null,\n          'title', 'icon-16-facebook',\n          'class', 'icon-16-facebook');\n      ie_void('span', null, null,\n          'title', 'icon-16-file-js',\n          'class', 'icon-16-file-js');\n      ie_void('span', null, null,\n          'title', 'icon-16-file-zip',\n          'class', 'icon-16-file-zip');\n      ie_void('span', null, null,\n          'title', 'icon-16-flash-off',\n          'class', 'icon-16-flash-off');\n      ie_void('span', null, null,\n          'title', 'icon-16-flash',\n          'class', 'icon-16-flash');\n      ie_void('span', null, null,\n          'title', 'icon-16-folder',\n          'class', 'icon-16-folder');\n      ie_void('span', null, null,\n          'title', 'icon-16-fork',\n          'class', 'icon-16-fork');\n      ie_void('span', null, null,\n          'title', 'icon-16-gear',\n          'class', 'icon-16-gear');\n      ie_void('span', null, null,\n          'title', 'icon-16-github',\n          'class', 'icon-16-github');\n      ie_void('span', null, null,\n          'title', 'icon-16-globe',\n          'class', 'icon-16-globe');\n      ie_void('span', null, null,\n          'title', 'icon-16-graph',\n          'class', 'icon-16-graph');\n      ie_void('span', null, null,\n          'title', 'icon-16-groups',\n          'class', 'icon-16-groups');\n      ie_void('span', null, null,\n          'title', 'icon-16-hammer',\n          'class', 'icon-16-hammer');\n      ie_void('span', null, null,\n          'title', 'icon-16-hash',\n          'class', 'icon-16-hash');\n      ie_void('span', null, null,\n          'title', 'icon-16-heart-full',\n          'class', 'icon-16-heart-full');\n      ie_void('span', null, null,\n          'title', 'icon-16-heart',\n          'class', 'icon-16-heart');\n      ie_void('span', null, null,\n          'title', 'icon-16-house',\n          'class', 'icon-16-house');\n      ie_void('span', null, null,\n          'title', 'icon-16-image',\n          'class', 'icon-16-image');\n      ie_void('span', null, null,\n          'title', 'icon-16-info',\n          'class', 'icon-16-info');\n      ie_void('span', null, null,\n          'title', 'icon-16-liferay-logo-2-tiny',\n          'class', 'icon-16-liferay-logo-2-tiny');\n      ie_void('span', null, null,\n          'title', 'icon-16-liferay-logo',\n          'class', 'icon-16-liferay-logo');\n      ie_void('span', null, null,\n          'title', 'icon-16-link',\n          'class', 'icon-16-link');\n      ie_void('span', null, null,\n          'title', 'icon-16-lock',\n          'class', 'icon-16-lock');\n      ie_void('span', null, null,\n          'title', 'icon-16-loop',\n          'class', 'icon-16-loop');\n      ie_void('span', null, null,\n          'title', 'icon-16-magnifier',\n          'class', 'icon-16-magnifier');\n      ie_void('span', null, null,\n          'title', 'icon-16-mail-full',\n          'class', 'icon-16-mail-full');\n      ie_void('span', null, null,\n          'title', 'icon-16-mail-off',\n          'class', 'icon-16-mail-off');\n      ie_void('span', null, null,\n          'title', 'icon-16-mail',\n          'class', 'icon-16-mail');\n      ie_void('span', null, null,\n          'title', 'icon-16-markdown',\n          'class', 'icon-16-markdown');\n      ie_void('span', null, null,\n          'title', 'icon-16-menu-content',\n          'class', 'icon-16-menu-content');\n      ie_void('span', null, null,\n          'title', 'icon-16-menu',\n          'class', 'icon-16-menu');\n      ie_void('span', null, null,\n          'title', 'icon-16-minus',\n          'class', 'icon-16-minus');\n      ie_void('span', null, null,\n          'title', 'icon-16-module',\n          'class', 'icon-16-module');\n      ie_void('span', null, null,\n          'title', 'icon-16-nodejs',\n          'class', 'icon-16-nodejs');\n      ie_void('span', null, null,\n          'title', 'icon-16-pause',\n          'class', 'icon-16-pause');\n      ie_void('span', null, null,\n          'title', 'icon-16-pen',\n          'class', 'icon-16-pen');\n      ie_void('span', null, null,\n          'title', 'icon-16-people',\n          'class', 'icon-16-people');\n      ie_void('span', null, null,\n          'title', 'icon-16-person-card',\n          'class', 'icon-16-person-card');\n      ie_void('span', null, null,\n          'title', 'icon-16-person',\n          'class', 'icon-16-person');\n      ie_void('span', null, null,\n          'title', 'icon-16-persons',\n          'class', 'icon-16-persons');\n      ie_void('span', null, null,\n          'title', 'icon-16-phone-business',\n          'class', 'icon-16-phone-business');\n      ie_void('span', null, null,\n          'title', 'icon-16-phone-house',\n          'class', 'icon-16-phone-house');\n      ie_void('span', null, null,\n          'title', 'icon-16-phone-work',\n          'class', 'icon-16-phone-work');\n      ie_void('span', null, null,\n          'title', 'icon-16-phone',\n          'class', 'icon-16-phone');\n      ie_void('span', null, null,\n          'title', 'icon-16-play',\n          'class', 'icon-16-play');\n      ie_void('span', null, null,\n          'title', 'icon-16-plus',\n          'class', 'icon-16-plus');\n      ie_void('span', null, null,\n          'title', 'icon-16-power-button',\n          'class', 'icon-16-power-button');\n      ie_void('span', null, null,\n          'title', 'icon-16-radio-checked',\n          'class', 'icon-16-radio-checked');\n      ie_void('span', null, null,\n          'title', 'icon-16-radio-unchecked',\n          'class', 'icon-16-radio-unchecked');\n      ie_void('span', null, null,\n          'title', 'icon-16-send',\n          'class', 'icon-16-send');\n      ie_void('span', null, null,\n          'title', 'icon-16-server',\n          'class', 'icon-16-server');\n      ie_void('span', null, null,\n          'title', 'icon-16-skype',\n          'class', 'icon-16-skype');\n      ie_void('span', null, null,\n          'title', 'icon-16-speaker-off',\n          'class', 'icon-16-speaker-off');\n      ie_void('span', null, null,\n          'title', 'icon-16-speaker-on',\n          'class', 'icon-16-speaker-on');\n      ie_void('span', null, null,\n          'title', 'icon-16-speedometer',\n          'class', 'icon-16-speedometer');\n      ie_void('span', null, null,\n          'title', 'icon-16-spinner-double-arrows',\n          'class', 'icon-16-spinner-double-arrows');\n      ie_void('span', null, null,\n          'title', 'icon-16-spinner-single-arrow',\n          'class', 'icon-16-spinner-single-arrow');\n      ie_void('span', null, null,\n          'title', 'icon-16-star',\n          'class', 'icon-16-star');\n      ie_void('span', null, null,\n          'title', 'icon-16-streams',\n          'class', 'icon-16-streams');\n      ie_void('span', null, null,\n          'title', 'icon-16-sun',\n          'class', 'icon-16-sun');\n      ie_void('span', null, null,\n          'title', 'icon-16-swift',\n          'class', 'icon-16-swift');\n      ie_void('span', null, null,\n          'title', 'icon-16-table',\n          'class', 'icon-16-table');\n      ie_void('span', null, null,\n          'title', 'icon-16-tag',\n          'class', 'icon-16-tag');\n      ie_void('span', null, null,\n          'title', 'icon-16-thumb-down',\n          'class', 'icon-16-thumb-down');\n      ie_void('span', null, null,\n          'title', 'icon-16-thumb-up',\n          'class', 'icon-16-thumb-up');\n      ie_void('span', null, null,\n          'title', 'icon-16-trash',\n          'class', 'icon-16-trash');\n      ie_void('span', null, null,\n          'title', 'icon-16-twitter',\n          'class', 'icon-16-twitter');\n      ie_void('span', null, null,\n          'title', 'icon-16-upload-file',\n          'class', 'icon-16-upload-file');\n      ie_void('span', null, null,\n          'title', 'icon-16-upload',\n          'class', 'icon-16-upload');\n    ie_close('div');\n    $templateAlias2({code: '<span class=\"icon-16-apps\"></span>\\n<span class=\"icon-16-arrow-down-rod\"></span>\\n[...]\\n<span class=\"icon-16-upload-file\"></span>\\n<span class=\"icon-16-upload\"></span>\\n``', mode: 'xml'}, null, opt_ijData);\n  };\n  $templateAlias1(soy.$$assignDefaults({content: param472}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'docsComponentsIconHtml.render';\n}\n\nexports.render.params = [];\nexports.render.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass docsComponentsIconHtml extends Component {}\nSoy.register(docsComponentsIconHtml, templates);\nexport { docsComponentsIconHtml, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './icon.soy';\n\nclass docsComponentsIconHtml extends Component {\n};\n\nSoy.register(docsComponentsIconHtml, templates);\n\nexport default docsComponentsIconHtml;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from input-group.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace docsComponentsInputGroupHtml.\n * @public\n */\n\ngoog.module('docsComponentsInputGroupHtml.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias2 = Soy.getTemplate('ElectricCode.incrementaldom', 'render');\n\nvar $templateAlias1 = Soy.getTemplate('styleguide.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var param496 = function() {\n    ie_open('h5');\n      itext('Addons');\n    ie_close('h5');\n    ie_open('p');\n      itext('Input with preffix');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-group');\n        ie_open('div', null, null,\n            'class', 'input-group-addon');\n          itext('http://');\n        ie_close('div');\n        ie_open('input', null, null,\n            'type', 'text',\n            'class', 'input-group-addon-input form-control',\n            'placeholder', 'app-url');\n        ie_close('input');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-group\">\\n    <div class=\"input-group-addon\">http://</div>\\n    <input type=\"text\" class=\"input-group-addon-input form-control\" placeholder=\"app-url\">\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('p');\n      itext('Input with suffix');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-group');\n        ie_open('input', null, null,\n            'type', 'text',\n            'class', 'input-group-addon-input form-control',\n            'placeholder', 'app-url');\n        ie_close('input');\n        ie_open('div', null, null,\n            'class', 'input-group-addon');\n          itext('.appland.com');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-group\">\\n    <input type=\"text\" class=\"input-group-addon-input form-control\" placeholder=\"app-url\">\\n    <div class=\"input-group-addon\">.appland.com</div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('p');\n      itext('Input with preffix and suffix');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-group');\n        ie_open('div', null, null,\n            'class', 'input-group-addon');\n          itext('http://');\n        ie_close('div');\n        ie_open('input', null, null,\n            'type', 'text',\n            'class', 'input-group-addon-input form-control',\n            'placeholder', 'app-url');\n        ie_close('input');\n        ie_open('div', null, null,\n            'class', 'input-group-addon');\n          itext('.appland.com');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-group\">\\n    <div class=\"input-group-addon\">http://</div>\\n    <input type=\"text\" class=\"input-group-addon-input form-control\" placeholder=\"app-url\">\\n    <div class=\"input-group-addon\">.appland.com</div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Addons Disabled');\n    ie_close('h5');\n    ie_open('p');\n      itext('Input with preffix');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-group');\n        ie_open('div', null, null,\n            'class', 'input-group-addon disabled');\n          itext('http://');\n        ie_close('div');\n        ie_open('input', null, null,\n            'type', 'text',\n            'class', 'input-group-addon-input form-control',\n            'placeholder', 'app-url',\n            'disabled', '');\n        ie_close('input');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-group\">\\n    <div class=\"input-group-addon disabled\">http://</div>\\n    <input type=\"text\" class=\"input-group-addon-input form-control\" placeholder=\"app-url\" disabled=\"\">\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('p');\n      itext('Input with suffix');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-group');\n        ie_open('input', null, null,\n            'type', 'text',\n            'class', 'input-group-addon-input form-control',\n            'placeholder', 'app-url',\n            'disabled', '');\n        ie_close('input');\n        ie_open('div', null, null,\n            'class', 'input-group-addon disabled');\n          itext('.appland.com');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-group\">\\n    <input type=\"text\" class=\"input-group-addon-input form-control\" placeholder=\"app-url\" disabled=\"\">\\n    <div class=\"input-group-addon disabled\">.appland.com</div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('p');\n      itext('Input with preffix and suffix');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-group');\n        ie_open('div', null, null,\n            'class', 'input-group-addon disabled');\n          itext('http://');\n        ie_close('div');\n        ie_open('input', null, null,\n            'type', 'text',\n            'class', 'input-group-addon-input form-control',\n            'placeholder', 'app-url',\n            'disabled', '');\n        ie_close('input');\n        ie_open('div', null, null,\n            'class', 'input-group-addon disabled');\n          itext('.appland.com');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-group\">\\n    <div class=\"input-group-addon disabled\">http://</div>\\n    <input type=\"text\" class=\"input-group-addon-input form-control\" placeholder=\"app-url\" disabled=\"\">\\n    <div class=\"input-group-addon disabled\">.appland.com</div>\\n</div>', mode: 'html'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Addons With States');\n    ie_close('h5');\n    ie_open('p');\n      itext('Input - Error');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group has-error');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-group');\n        ie_open('div', null, null,\n            'class', 'input-group-addon');\n          itext('http://');\n        ie_close('div');\n        ie_open('input', null, null,\n            'type', 'text',\n            'class', 'input-group-addon-input form-control',\n            'placeholder', 'app-url');\n        ie_close('input');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-group\">\\n    <div class=\"input-group-addon\">http://</div>\\n    <input type=\"text\" class=\"input-group-addon-input form-control\" placeholder=\"app-url\">\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('p');\n      itext('Input - Warning');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group has-warning');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-group');\n        ie_open('input', null, null,\n            'type', 'text',\n            'class', 'input-group-addon-input form-control',\n            'placeholder', 'app-url');\n        ie_close('input');\n        ie_open('div', null, null,\n            'class', 'input-group-addon');\n          itext('.appland.com');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-group\">\\n    <input type=\"text\" class=\"input-group-addon-input form-control\" placeholder=\"app-url\">\\n    <div class=\"input-group-addon\">.appland.com</div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('p');\n      itext('Input - Success');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group has-success');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-group');\n        ie_open('div', null, null,\n            'class', 'input-group-addon');\n          itext('http://');\n        ie_close('div');\n        ie_open('input', null, null,\n            'type', 'text',\n            'class', 'input-group-addon-input form-control',\n            'placeholder', 'app-url');\n        ie_close('input');\n        ie_open('div', null, null,\n            'class', 'input-group-addon');\n          itext('.appland.com');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-group\">\\n    <div class=\"input-group-addon\">http://</div>\\n    <input type=\"text\" class=\"input-group-addon-input form-control\" placeholder=\"app-url\">\\n    <div class=\"input-group-addon\">.appland.com</div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Inner Addons');\n    ie_close('h5');\n    ie_open('p');\n      itext('Input - right icon 12 preffix');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-inner-addon input-inner-addon-left');\n        ie_void('span', null, null,\n            'class', 'input-inner-icon-helper icon-12-person');\n        ie_open('input', null, null,\n            'class', 'form-control',\n            'type', 'text',\n            'placeholder', 'app-url');\n        ie_close('input');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-inner-addon input-inner-addon-left\">\\n    <span class=\"input-inner-icon-helper icon-12-person\"></span>\\n    <input class=\"form-control\" type=\"text\" placeholder=\"app-url\">\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('p');\n      itext('Input - right icon 16 preffix');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-inner-addon input-inner-addon-left');\n        ie_void('span', null, null,\n            'class', 'input-inner-icon-helper icon-16-info');\n        ie_open('input', null, null,\n            'class', 'form-control',\n            'type', 'text',\n            'placeholder', 'app-url');\n        ie_close('input');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-inner-addon input-inner-addon-left\">\\n    <span class=\"input-inner-icon-helper icon-16-info\"></span>\\n    <input class=\"form-control\" type=\"text\" placeholder=\"app-url\">\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('p');\n      itext('Input - left icon 12 suffix');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-inner-addon input-inner-addon-right');\n        ie_open('input', null, null,\n            'class', 'form-control',\n            'type', 'text',\n            'placeholder', 'app-url');\n        ie_close('input');\n        ie_void('span', null, null,\n            'class', 'input-inner-icon-helper icon-12-person');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-inner-addon input-inner-addon-right\">\\n    <input class=\"form-control\" type=\"text\" placeholder=\"app-url\">\\n    <span class=\"input-inner-icon-helper icon-12-person\"></span>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('p');\n      itext('Input - left icon 16 suffix');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-inner-addon input-inner-addon-right');\n        ie_open('input', null, null,\n            'class', 'form-control',\n            'type', 'text',\n            'placeholder', 'app-url');\n        ie_close('input');\n        ie_void('span', null, null,\n            'class', 'input-inner-icon-helper icon-16-info');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-inner-addon input-inner-addon-right\">\\n    <input class=\"form-control\" type=\"text\" placeholder=\"app-url\">\\n    <span class=\"input-inner-icon-helper icon-16-info\"></span>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Addons + Inner Addons');\n    ie_close('h5');\n    ie_open('p');\n      itext('Preffix Addon and Icon on Right');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-group');\n        ie_open('div', null, null,\n            'class', 'input-group-addon');\n          itext('http://');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'input-inner-addon input-inner-addon-left');\n          ie_void('span', null, null,\n              'class', 'icon-12-person');\n          ie_open('input', null, null,\n              'type', 'text',\n              'class', 'input-group-addon-input input-group-addon-input-right form-control',\n              'placeholder', 'app-url');\n          ie_close('input');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-group\">\\n    <div class=\"input-group-addon\">http://</div>\\n    <div class=\"input-inner-addon input-inner-addon-left\">\\n        <span class=\"icon-12-person\"></span>\\n        <input type=\"text\" class=\"input-group-addon-input input-group-addon-input-right form-control\" placeholder=\"app-url\">\\n    </div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('p');\n      itext('Suffix Addon and Icon on Right');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-group');\n        ie_open('div', null, null,\n            'class', 'input-inner-addon input-inner-addon-left');\n          ie_void('span', null, null,\n              'class', 'icon-16-info');\n          ie_open('input', null, null,\n              'type', 'text',\n              'class', 'input-group-addon-input input-group-addon-input-left form-control',\n              'placeholder', 'app-url');\n          ie_close('input');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'input-group-addon');\n          itext('.appland.com');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-group\">\\n    <div class=\"input-inner-addon input-inner-addon-left\">\\n        <span class=\"icon-16-info\"></span>\\n        <input type=\"text\" class=\"input-group-addon-input input-group-addon-input-left form-control\" placeholder=\"app-url\">\\n    </div>\\n    <div class=\"input-group-addon\">.appland.com</div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('p');\n      itext('Preffix and Suffix Addons and Icon on Right');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-group');\n        ie_open('div', null, null,\n            'class', 'input-group-addon');\n          itext('http://');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'input-inner-addon input-inner-addon-left');\n          ie_void('span', null, null,\n              'class', 'icon-16-info');\n          ie_open('input', null, null,\n              'type', 'text',\n              'class', 'input-group-addon-input input-group-addon-input-center form-control',\n              'placeholder', 'app-url');\n          ie_close('input');\n        ie_close('div');\n        ie_open('div', null, null,\n            'class', 'input-group-addon');\n          itext('.appland.com');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-group\">\\n    <div class=\"input-group-addon\">http://</div>\\n    <div class=\"input-inner-addon input-inner-addon-left\">\\n        <span class=\"icon-16-info\"></span>\\n        <input type=\"text\" class=\"input-group-addon-input input-group-addon-input-center form-control\" placeholder=\"app-url\">\\n    </div>\\n    <div class=\"input-group-addon\">.appland.com</div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Buttons Addons');\n    ie_close('h5');\n    ie_open('p');\n      itext('Input - Preffix Button');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-group');\n        ie_open('span', null, null,\n            'class', 'input-group-btn');\n          ie_open('button', null, null,\n              'class', 'btn btn-sm btn-accent',\n              'type', 'button');\n            itext('Send Invite');\n          ie_close('button');\n        ie_close('span');\n        ie_open('input', null, null,\n            'class', 'form-control',\n            'type', 'text',\n            'placeholder', 'Invite people to this app');\n        ie_close('input');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-group\">\\n    <span class=\"input-group-btn\">\\n        <button class=\"btn btn-sm btn-accent\" type=\"button\">Send Invite</button>\\n    </span>\\n    <input class=\"form-control\" type=\"text\" placeholder=\"Invite people to this app\">\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('p');\n      itext('Input - Suffix Button');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-group');\n        ie_open('input', null, null,\n            'class', 'input-btn-right form-control',\n            'type', 'text',\n            'placeholder', 'Invite people to this app');\n        ie_close('input');\n        ie_open('span', null, null,\n            'class', 'input-group-btn');\n          ie_open('button', null, null,\n              'class', 'btn btn-sm btn-accent',\n              'type', 'button');\n            itext('Send Invite');\n          ie_close('button');\n        ie_close('span');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-group\">\\n    <input class=\"input-btn-right form-control\" type=\"text\" placeholder=\"Invite people to this app\">\\n    <span class=\"input-group-btn\">\\n        <button class=\"btn btn-sm btn-accent\" type=\"button\">Send Invite</button>\\n    </span>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Buttons Addons + Inner Addon');\n    ie_close('h5');\n    ie_open('p');\n      itext('Input with button and icon-12 suffix');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-group');\n        ie_open('span', null, null,\n            'class', 'input-group-btn');\n          ie_open('button', null, null,\n              'class', 'btn btn-sm btn-accent',\n              'type', 'button');\n            itext('Send Invite');\n          ie_close('button');\n        ie_close('span');\n        ie_open('div', null, null,\n            'class', 'input-inner-addon input-inner-addon-left');\n          ie_void('span', null, null,\n              'class', 'icon-12-person');\n          ie_open('input', null, null,\n              'class', 'input-btn-left form-control',\n              'type', 'text',\n              'placeholder', 'Invite people to this app');\n          ie_close('input');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-group\">\\n    <span class=\"input-group-btn\">\\n        <button class=\"btn btn-sm btn-accent\" type=\"button\">Send Invite</button>\\n    </span>\\n    <div class=\"input-inner-addon input-inner-addon-left\">\\n        <span class=\"icon-12-person\"></span>\\n        <input class=\"input-btn-left form-control\" type=\"text\" placeholder=\"Invite people to this app\">\\n    </div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('p');\n      itext('Input with button and icon-16 suffix');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-group');\n        ie_open('span', null, null,\n            'class', 'input-group-btn');\n          ie_open('button', null, null,\n              'class', 'btn btn-sm btn-accent',\n              'type', 'button');\n            itext('Send Invite');\n          ie_close('button');\n        ie_close('span');\n        ie_open('div', null, null,\n            'class', 'input-inner-addon input-inner-addon-left');\n          ie_void('span', null, null,\n              'class', 'icon-16-info');\n          ie_open('input', null, null,\n              'class', 'input-btn-left form-control',\n              'type', 'text',\n              'placeholder', 'Invite people to this app');\n          ie_close('input');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-group\">\\n    <span class=\"input-group-btn\">\\n        <button class=\"btn btn-sm btn-accent\" type=\"button\">Send Invite</button>\\n    </span>\\n    <div class=\"input-inner-addon input-inner-addon-left\">\\n        <span class=\"icon-16-info\"></span>\\n        <input class=\"input-btn-left form-control\" type=\"text\" placeholder=\"Invite people to this app\">\\n    </div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('p');\n      itext('Input with button and icon-12 suffix');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-group');\n        ie_open('div', null, null,\n            'class', 'input-inner-addon input-inner-addon-right');\n          ie_void('span', null, null,\n              'class', 'icon-12-person');\n          ie_open('input', null, null,\n              'class', 'input-btn-right form-control',\n              'type', 'text',\n              'placeholder', 'Invite people to this app');\n          ie_close('input');\n        ie_close('div');\n        ie_open('span', null, null,\n            'class', 'input-group-btn');\n          ie_open('button', null, null,\n              'class', 'btn btn-sm btn-accent',\n              'type', 'button');\n            itext('Send Invite');\n          ie_close('button');\n        ie_close('span');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-group\">\\n    <div class=\"input-inner-addon input-inner-addon-right\">\\n        <span class=\"icon-12-person\"></span>\\n        <input class=\"input-btn-right form-control\" type=\"text\" placeholder=\"Invite people to this app\">\\n    </div>\\n    <span class=\"input-group-btn\">\\n        <button class=\"btn btn-sm btn-accent\" type=\"button\">Send Invite</button>\\n    </span>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('p');\n      itext('Input with button and icon-16 suffix');\n    ie_close('p');\n    ie_open('div', null, null,\n        'class', 'form-group');\n      ie_open('label');\n        itext('Example');\n      ie_close('label');\n      ie_open('div', null, null,\n          'class', 'input-group');\n        ie_open('div', null, null,\n            'class', 'input-inner-addon input-inner-addon-right');\n          ie_void('span', null, null,\n              'class', 'icon-16-info');\n          ie_open('input', null, null,\n              'class', 'input-btn-right form-control',\n              'type', 'text',\n              'placeholder', 'Invite people to this app');\n          ie_close('input');\n        ie_close('div');\n        ie_open('span', null, null,\n            'class', 'input-group-btn');\n          ie_open('button', null, null,\n              'class', 'btn btn-sm btn-accent',\n              'type', 'button');\n            itext('Send Invite');\n          ie_close('button');\n        ie_close('span');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"input-group\">\\n    <div class=\"input-inner-addon input-inner-addon-right\">\\n        <span class=\"icon-16-info\"></span>\\n        <input class=\"input-btn-right form-control\" type=\"text\" placeholder=\"Invite people to this app\">\\n    </div>\\n    <span class=\"input-group-btn\">\\n        <button class=\"btn btn-sm btn-accent\" type=\"button\">Send Invite</button>\\n    </span>\\n</div>', mode: 'xml'}, null, opt_ijData);\n  };\n  $templateAlias1(soy.$$assignDefaults({content: param496}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'docsComponentsInputGroupHtml.render';\n}\n\nexports.render.params = [];\nexports.render.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass docsComponentsInputGroupHtml extends Component {}\nSoy.register(docsComponentsInputGroupHtml, templates);\nexport { docsComponentsInputGroupHtml, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './input-group.soy';\n\nclass docsComponentsInputGroupHtml extends Component {\n};\n\nSoy.register(docsComponentsInputGroupHtml, templates);\n\nexport default docsComponentsInputGroupHtml;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from label.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace docsComponentsLabelHtml.\n * @public\n */\n\ngoog.module('docsComponentsLabelHtml.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias2 = Soy.getTemplate('ElectricCode.incrementaldom', 'render');\n\nvar $templateAlias1 = Soy.getTemplate('styleguide.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var param610 = function() {\n    ie_open('h5');\n      itext('Label Types/States');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_open('span', null, null,\n          'class', 'label label-default');\n        ie_open('span', null, null,\n            'class', 'label-text');\n          itext('Default');\n        ie_close('span');\n      ie_close('span');\n      ie_open('span', null, null,\n          'class', 'label label-primary');\n        ie_open('span', null, null,\n            'class', 'label-text');\n          itext('Primary');\n        ie_close('span');\n      ie_close('span');\n      ie_open('span', null, null,\n          'class', 'label label-success');\n        ie_open('span', null, null,\n            'class', 'label-text');\n          itext('Success');\n        ie_close('span');\n      ie_close('span');\n      ie_open('span', null, null,\n          'class', 'label label-warning');\n        ie_open('span', null, null,\n            'class', 'label-text');\n          itext('Warning');\n        ie_close('span');\n      ie_close('span');\n      ie_open('span', null, null,\n          'class', 'label label-danger');\n        ie_open('span', null, null,\n            'class', 'label-text');\n          itext('Danger');\n        ie_close('span');\n      ie_close('span');\n    ie_close('div');\n    $templateAlias2({code: '<span class=\"label label-default\">\\n    <span class=\"label-text\">Default</span>\\n</span>\\n<span class=\"label label-primary\">\\n    <span class=\"label-text\">Primary</span>\\n</span>\\n<span class=\"label label-success\">\\n    <span class=\"label-text\">Success</span>\\n</span>\\n<span class=\"label label-warning\">\\n    <span class=\"label-text\">Warning</span>\\n</span>\\n<span class=\"label label-danger\">\\n    <span class=\"label-text\">Danger</span>\\n</span>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Sizes');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_open('span', null, null,\n          'class', 'label label-default label-sm');\n        itext('Small');\n      ie_close('span');\n      ie_open('span', null, null,\n          'class', 'label label-primary label-sm');\n        itext('Small');\n      ie_close('span');\n      ie_open('span', null, null,\n          'class', 'label label-default');\n        itext('Regular');\n      ie_close('span');\n      ie_open('span', null, null,\n          'class', 'label label-primary');\n        itext('Regular');\n      ie_close('span');\n    ie_close('div');\n    $templateAlias2({code: '<span class=\"label label-default label-sm\">Small</span>\\n<span class=\"label label-primary label-sm\">Small</span>\\n<span class=\"label label-default\">Regular</span>\\n<span class=\"label label-primary\">Regular</span>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Icons');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_open('span', null, null,\n          'class', 'label label-default');\n        ie_void('span', null, null,\n            'class', 'label-icon icon-12-person');\n        itext('Default');\n      ie_close('span');\n      ie_open('span', null, null,\n          'class', 'label label-primary');\n        ie_void('span', null, null,\n            'class', 'label-icon icon-12-person');\n        itext('Primary');\n      ie_close('span');\n      ie_open('span', null, null,\n          'class', 'label label-success');\n        ie_void('span', null, null,\n            'class', 'label-icon icon-12-person');\n        itext('Success');\n      ie_close('span');\n      ie_open('span', null, null,\n          'class', 'label label-warning');\n        ie_void('span', null, null,\n            'class', 'label-icon icon-12-person');\n        itext('Warning');\n      ie_close('span');\n      ie_open('span', null, null,\n          'class', 'label label-danger');\n        ie_void('span', null, null,\n            'class', 'label-icon icon-12-person');\n        itext('Danger');\n      ie_close('span');\n    ie_close('div');\n    $templateAlias2({code: '<span class=\"label label-default\">\\n    <span class=\"label-icon icon-12-person\"></span>Default\\n</span>\\n<span class=\"label label-primary\">\\n    <span class=\"label-icon icon-12-person\"></span>Primary\\n</span>\\n<span class=\"label label-success\">\\n    <span class=\"label-icon icon-12-person\"></span>Success\\n</span>\\n<span class=\"label label-warning\">\\n    <span class=\"label-icon icon-12-person\"></span>Warning\\n</span>\\n<span class=\"label label-danger\">\\n    <span class=\"label-icon icon-12-person\"></span>Danger\\n</span>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Clickable');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_open('button', null, null,\n          'class', 'btn-transparent label label-default label-clickable');\n        ie_void('span', null, null,\n            'class', 'label-action icon-12-trash');\n        ie_void('span', null, null,\n            'class', 'label-icon icon-12-person');\n        ie_open('span', null, null,\n            'class', 'label-content');\n          itext('Default');\n        ie_close('span');\n      ie_close('button');\n      ie_open('button', null, null,\n          'class', 'btn-transparent label label-primary label-clickable');\n        ie_void('span', null, null,\n            'class', 'label-action icon-12-trash');\n        ie_void('span', null, null,\n            'class', 'label-icon icon-12-person');\n        ie_open('span', null, null,\n            'class', 'label-content');\n          itext('Primary');\n        ie_close('span');\n      ie_close('button');\n      ie_open('button', null, null,\n          'class', 'btn-transparent label label-success label-clickable');\n        ie_void('span', null, null,\n            'class', 'label-action icon-12-trash');\n        ie_void('span', null, null,\n            'class', 'label-icon icon-12-person');\n        ie_open('span', null, null,\n            'class', 'label-content');\n          itext('Success');\n        ie_close('span');\n      ie_close('button');\n      ie_open('button', null, null,\n          'class', 'btn-transparent label label-warning label-clickable');\n        ie_void('span', null, null,\n            'class', 'label-action icon-12-trash');\n        ie_void('span', null, null,\n            'class', 'label-icon icon-12-person');\n        ie_open('span', null, null,\n            'class', 'label-content');\n          itext('Warning');\n        ie_close('span');\n      ie_close('button');\n      ie_open('button', null, null,\n          'class', 'btn-transparent label label-danger label-clickable');\n        ie_void('span', null, null,\n            'class', 'label-action icon-12-trash');\n        ie_void('span', null, null,\n            'class', 'label-icon icon-12-person');\n        ie_open('span', null, null,\n            'class', 'label-content');\n          itext('Danger');\n        ie_close('span');\n      ie_close('button');\n    ie_close('div');\n    $templateAlias2({code: '<button class=\"btn-transparent label label-default label-clickable\">\\n    <span class=\"label-action icon-12-trash\"></span>\\n    <span class=\"label-icon icon-12-person\"></span>\\n    <span class=\"label-content\">Default</span>\\n</button>\\n<button class=\"btn-transparent label label-primary label-clickable\">\\n    <span class=\"label-action icon-12-trash\"></span>\\n    <span class=\"label-icon icon-12-person\"></span>\\n    <span class=\"label-content\">Primary</span>\\n</button>\\n<button class=\"btn-transparent label label-success label-clickable\">\\n    <span class=\"label-action icon-12-trash\"></span>\\n    <span class=\"label-icon icon-12-person\"></span>\\n    <span class=\"label-content\">Success</span>\\n</button>\\n<button class=\"btn-transparent label label-warning label-clickable\">\\n    <span class=\"label-action icon-12-trash\"></span>\\n    <span class=\"label-icon icon-12-person\"></span>\\n    <span class=\"label-content\">Warning</span>\\n</button>\\n<button class=\"btn-transparent label label-danger label-clickable\">\\n    <span class=\"label-action icon-12-trash\"></span>\\n    <span class=\"label-icon icon-12-person\"></span>\\n    <span class=\"label-content\">Danger</span>\\n</button>', mode: 'xml'}, null, opt_ijData);\n  };\n  $templateAlias1(soy.$$assignDefaults({content: param610}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'docsComponentsLabelHtml.render';\n}\n\nexports.render.params = [];\nexports.render.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass docsComponentsLabelHtml extends Component {}\nSoy.register(docsComponentsLabelHtml, templates);\nexport { docsComponentsLabelHtml, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './label.soy';\n\nclass docsComponentsLabelHtml extends Component {\n};\n\nSoy.register(docsComponentsLabelHtml, templates);\n\nexport default docsComponentsLabelHtml;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from ribbon.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace docsComponentsRibbonHtml.\n * @public\n */\n\ngoog.module('docsComponentsRibbonHtml.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias2 = Soy.getTemplate('ElectricCode.incrementaldom', 'render');\n\nvar $templateAlias1 = Soy.getTemplate('styleguide.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var param634 = function() {\n    ie_open('h5');\n      itext('Default');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'demo');\n      ie_open('div', null, null,\n          'class', 'box-ws');\n        ie_open('div', null, null,\n            'class', 'ribbon-container');\n          ie_open('div', null, null,\n              'class', 'ribbon');\n            itext('New');\n          ie_close('div');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"ribbon-container\">\\n    <div class=\"ribbon\">New</div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Accent');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'demo');\n      ie_open('div', null, null,\n          'class', 'box-ws');\n        ie_open('div', null, null,\n            'class', 'ribbon-container');\n          ie_open('div', null, null,\n              'class', 'ribbon ribbon-accent');\n            itext('New');\n          ie_close('div');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"ribbon-container\">\\n    <div class=\"ribbon ribbon-accent\">New</div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Success');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'demo');\n      ie_open('div', null, null,\n          'class', 'box-ws');\n        ie_open('div', null, null,\n            'class', 'ribbon-container');\n          ie_open('div', null, null,\n              'class', 'ribbon ribbon-success');\n            itext('New');\n          ie_close('div');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"ribbon-container\">\\n    <div class=\"ribbon ribbon-success\">New</div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Warning');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'demo');\n      ie_open('div', null, null,\n          'class', 'box-ws');\n        ie_open('div', null, null,\n            'class', 'ribbon-container');\n          ie_open('div', null, null,\n              'class', 'ribbon ribbon-warning');\n            itext('New');\n          ie_close('div');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"ribbon-container\">\\n    <div class=\"ribbon ribbon-warning\">New</div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Danger');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'demo');\n      ie_open('div', null, null,\n          'class', 'box-ws');\n        ie_open('div', null, null,\n            'class', 'ribbon-container');\n          ie_open('div', null, null,\n              'class', 'ribbon ribbon-danger');\n            itext('New');\n          ie_close('div');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"ribbon-container\">\\n    <div class=\"ribbon ribbon-danger\">New</div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n  };\n  $templateAlias1(soy.$$assignDefaults({content: param634}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'docsComponentsRibbonHtml.render';\n}\n\nexports.render.params = [];\nexports.render.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass docsComponentsRibbonHtml extends Component {}\nSoy.register(docsComponentsRibbonHtml, templates);\nexport { docsComponentsRibbonHtml, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './ribbon.soy';\n\nclass docsComponentsRibbonHtml extends Component {\n};\n\nSoy.register(docsComponentsRibbonHtml, templates);\n\nexport default docsComponentsRibbonHtml;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from spinner.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace docsComponentsSpinnerHtml.\n * @public\n */\n\ngoog.module('docsComponentsSpinnerHtml.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias2 = Soy.getTemplate('ElectricCode.incrementaldom', 'render');\n\nvar $templateAlias1 = Soy.getTemplate('styleguide.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var param663 = function() {\n    ie_open('h5');\n      itext('Loading - Types');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_void('span', null, null,\n          'class', 'spinner spinner-medium');\n      ie_void('span', null, null,\n          'class', 'spinner spinner-medium spinner-warning');\n      ie_void('span', null, null,\n          'class', 'spinner spinner-medium spinner-danger');\n    ie_close('div');\n    $templateAlias2({code: '<span class=\"spinner spinner-medium\"></span>\\n<span class=\"spinner spinner-medium spinner-warning\"></span>\\n<span class=\"spinner spinner-medium spinner-danger\"></span>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Loading - Sizes');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_void('span', null, null,\n          'class', 'spinner spinner-large');\n      ie_void('span', null, null,\n          'class', 'spinner spinner-medium');\n      ie_void('span', null, null,\n          'class', 'spinner spinner-small');\n    ie_close('div');\n    $templateAlias2({code: '<span class=\"spinner spinner-large\"></span>\\n<span class=\"spinner spinner-medium\"></span>\\n<span class=\"spinner spinner-small\"></span>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Done - Types');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_void('span', null, null,\n          'class', 'spinner spinner-medium spinner-done');\n      ie_void('span', null, null,\n          'class', 'spinner spinner-medium spinner-warning spinner-done');\n      ie_void('span', null, null,\n          'class', 'spinner spinner-medium spinner-danger spinner-done');\n    ie_close('div');\n    $templateAlias2({code: '<span class=\"spinner spinner-medium spinner-done\"></span>\\n<span class=\"spinner spinner-medium spinner-warning spinner-done\"></span>\\n<span class=\"spinner spinner-medium spinner-danger spinner-done\"></span>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Done - Sizes');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'group-demo');\n      ie_void('span', null, null,\n          'class', 'spinner spinner-large spinner-done');\n      ie_void('span', null, null,\n          'class', 'spinner spinner-medium spinner-done');\n      ie_void('span', null, null,\n          'class', 'spinner spinner-small spinner-done');\n    ie_close('div');\n    $templateAlias2({code: '<span class=\"spinner spinner-large spinner-done\"></span>\\n<span class=\"spinner spinner-medium spinner-done\"></span>\\n<span class=\"spinner spinner-small spinner-done\"></span>', mode: 'xml'}, null, opt_ijData);\n  };\n  $templateAlias1(soy.$$assignDefaults({content: param663}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'docsComponentsSpinnerHtml.render';\n}\n\nexports.render.params = [];\nexports.render.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass docsComponentsSpinnerHtml extends Component {}\nSoy.register(docsComponentsSpinnerHtml, templates);\nexport { docsComponentsSpinnerHtml, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './spinner.soy';\n\nclass docsComponentsSpinnerHtml extends Component {\n};\n\nSoy.register(docsComponentsSpinnerHtml, templates);\n\nexport default docsComponentsSpinnerHtml;","/* jshint ignore:start */\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\nvar templates;\ngoog.loadModule(function(exports) {\n\n// This file was automatically generated from table.soy.\n// Please don't edit this file by hand.\n\n/**\n * @fileoverview Templates in namespace docsComponentsTableHtml.\n * @public\n */\n\ngoog.module('docsComponentsTableHtml.incrementaldom');\n\n/** @suppress {extraRequire} */\nvar soy = goog.require('soy');\n/** @suppress {extraRequire} */\nvar soydata = goog.require('soydata');\n/** @suppress {extraRequire} */\ngoog.require('goog.i18n.bidi');\n/** @suppress {extraRequire} */\ngoog.require('goog.asserts');\n/** @suppress {extraRequire} */\ngoog.require('goog.string');\nvar IncrementalDom = goog.require('incrementaldom');\nvar ie_open = IncrementalDom.elementOpen;\nvar ie_close = IncrementalDom.elementClose;\nvar ie_void = IncrementalDom.elementVoid;\nvar ie_open_start = IncrementalDom.elementOpenStart;\nvar ie_open_end = IncrementalDom.elementOpenEnd;\nvar itext = IncrementalDom.text;\nvar iattr = IncrementalDom.attr;\n\nvar $templateAlias2 = Soy.getTemplate('ElectricCode.incrementaldom', 'render');\n\nvar $templateAlias1 = Soy.getTemplate('styleguide.incrementaldom', 'render');\n\n\n/**\n * @param {Object<string, *>=} opt_data\n * @param {(null|undefined)=} opt_ignored\n * @param {Object<string, *>=} opt_ijData\n * @return {void}\n * @suppress {checkTypes}\n */\nfunction $render(opt_data, opt_ignored, opt_ijData) {\n  opt_data = opt_data || {};\n  var param687 = function() {\n    ie_open('h5');\n      itext('No Collections');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'style', 'position: relative; z-index: 1; height: 240px; width: 100%; border: 1px solid rgba(14, 20, 26, 0.2);',\n        'class', 'no-collections');\n      ie_open('div', null, null,\n          'class', 'empty-collection');\n        ie_open('div', null, null,\n            'class', 'notfound');\n          ie_open('div', null, null,\n              'class', 'notfound-icon');\n            ie_void('span', null, null,\n                'class', 'icon-16-database');\n          ie_close('div');\n          ie_open('p', null, null,\n              'class', 'notfound-text');\n            itext('You have no collections.');\n          ie_close('p');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"no-collections\">\\n    <div class=\"empty-collection\">\\n        <div class=\"notfound\">\\n            <div class=\"notfound-icon\">\\n                <span class=\"icon-16-database\"></span>\\n            </div>\\n            <p class=\"notfound-text\">You have no collections.</p>\\n        </div>\\n    </div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Empty Collection');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'style', 'position: relative; z-index: 1; height: 240px; width: 100%; border: 1px solid rgba(14, 20, 26, 0.2);',\n        'class', 'no-data');\n      ie_open('div', null, null,\n          'class', 'empty-data');\n        ie_open('div', null, null,\n            'class', 'notfound');\n          ie_open('div', null, null,\n              'class', 'notfound-icon');\n            ie_void('span', null, null,\n                'class', 'icon-16-database');\n          ie_close('div');\n          ie_open('p', null, null,\n              'class', 'notfound-text');\n            itext('This collection is empty.');\n          ie_close('p');\n        ie_close('div');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"no-data\">\\n    <div class=\"empty-data\">\\n        <div class=\"notfound\">\\n            <div class=\"notfound-icon\">\\n                <span class=\"icon-16-database\"></span>\\n            </div>\\n            <p class=\"notfound-text\">This collection is empty.</p>\\n        </div>\\n    </div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Loading');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'style', 'position: relative; z-index: 1; height: 200px; width: 100%; border: 1px solid rgba(14, 20, 26, 0.2);',\n        'class', 'loading');\n      ie_open('div', null, null,\n          'class', 'light-loader');\n        ie_void('span', null, null,\n            'class', 'spinner spinner-medium');\n      ie_close('div');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"loading\">\\n    <div class=\"light-loader\">\\n        <span class=\"spinner spinner-medium\"></span>\\n    </div>\\n</div>', mode: 'xml'}, null, opt_ijData);\n    ie_open('h5');\n      itext('Populated');\n    ie_close('h5');\n    ie_open('div', null, null,\n        'class', 'datatable');\n      ie_open('table', null, null,\n          'class', 'table');\n        ie_open('thead');\n          ie_open('tr');\n            ie_open('th');\n              itext('#');\n            ie_close('th');\n            ie_open('th');\n              itext('First Name');\n            ie_close('th');\n            ie_open('th');\n              itext('Last Name');\n            ie_close('th');\n            ie_open('th');\n              itext('Username');\n            ie_close('th');\n            ie_open('th', null, null,\n                'class', 'text-center');\n              itext('Required');\n            ie_close('th');\n          ie_close('tr');\n        ie_close('thead');\n        ie_open('tbody');\n          ie_open('tr');\n            ie_open('td');\n              itext('1');\n            ie_close('td');\n            ie_open('td');\n              itext('Mark');\n            ie_close('td');\n            ie_open('td');\n              itext('Otto');\n            ie_close('td');\n            ie_open('td');\n              itext('@mdo');\n            ie_close('td');\n            ie_open('td', null, null,\n                'class', 'text-center');\n              ie_void('span', null, null,\n                  'class', 'icon-16-checkmark');\n            ie_close('td');\n          ie_close('tr');\n          ie_open('tr');\n            ie_open('td');\n              itext('2');\n            ie_close('td');\n            ie_open('td');\n              itext('Jacob');\n            ie_close('td');\n            ie_open('td');\n              itext('Thornton');\n            ie_close('td');\n            ie_open('td');\n              itext('@fat');\n            ie_close('td');\n            ie_open('td', null, null,\n                'class', 'text-center');\n              ie_void('span', null, null,\n                  'class', 'icon-16-checkmark');\n            ie_close('td');\n          ie_close('tr');\n          ie_open('tr');\n            ie_open('td');\n              itext('3');\n            ie_close('td');\n            ie_open('td');\n              itext('Larry');\n            ie_close('td');\n            ie_open('td');\n              itext('the Bird');\n            ie_close('td');\n            ie_open('td');\n              itext('@twitter');\n            ie_close('td');\n            ie_open('td', null, null,\n                'class', 'text-center');\n              ie_void('span', null, null,\n                  'class', 'icon-16-checkmark');\n            ie_close('td');\n          ie_close('tr');\n        ie_close('tbody');\n      ie_close('table');\n    ie_close('div');\n    $templateAlias2({code: '<div class=\"datatable\">\\n    <table class=\"table\">\\n        <thead>\\n            <tr>\\n                <th>#</th>\\n                <th>First Name</th>\\n                <th>Last Name</th>\\n                <th>Username</th>\\n                <th class=\"text-center\">Required</th>\\n            </tr>\\n        </thead>\\n        <tbody>\\n            <tr>\\n                <td>1</td>\\n                <td>Mark</td>\\n                <td>Otto</td>\\n                <td>@mdo</td>\\n                <td class=\"text-center\">\\n                    <span class=\"icon-16-checkmark\"></span>\\n                </td>\\n            </tr>\\n            [...]\\n        </tbody>\\n    </table>\\n</div>', mode: 'xml'}, null, opt_ijData);\n  };\n  $templateAlias1(soy.$$assignDefaults({content: param687}, opt_data), null, opt_ijData);\n}\nexports.render = $render;\nif (goog.DEBUG) {\n  $render.soyTemplateName = 'docsComponentsTableHtml.render';\n}\n\nexports.render.params = [];\nexports.render.types = {};\ntemplates = exports;\nreturn exports;\n\n});\n\nclass docsComponentsTableHtml extends Component {}\nSoy.register(docsComponentsTableHtml, templates);\nexport { docsComponentsTableHtml, templates };\nexport default templates;\n/* jshint ignore:end */\n","'use strict';\n\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\nimport templates from './table.soy';\n\nclass docsComponentsTableHtml extends Component {\n};\n\nSoy.register(docsComponentsTableHtml, templates);\n\nexport default docsComponentsTableHtml;"]}